#!/usr/bin/env node

/**
 *
 * User: giemza
 * Date: 14.02.12
 * Time: 11:05
 */

var TS = require('../index');
var repl = require('repl');

var context = repl.start('sqlspaces-shell> ').context;
context.TS = TS;
context.Space = TS.Space;
context.Version = TS.Version;
context.Field = TS.Field;
context.Tuple = TS.Tuple;
context.TupleSpace = TS.TupleSpace;

var connect = function connect(options) {
    var options = options || {};
    options.host = options.host || 'localhost';

    options.port = options.port || 2525;
    options.space = options.space || 'defaultspace';
    ts = new TS.TupleSpace(options);
    console.log("If the connection was successful, you can access the connection via the ts field.")
    context.ts = ts;
};

context.connect = connect;