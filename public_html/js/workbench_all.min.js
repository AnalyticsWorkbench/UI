function checkProperties(e){for(var t in e)console.log(t+": "+e[t])}function renameResult(e){function t(){function e(e){document.getElementById("saveAsPublicCheckbox").checked&&(e.ifPublic=!0,e.groups=getSelectedUserGroups()),WireIt.adapters.NodeConnector.renameRun(e,function(e){var t=e.id;if(loadResultDialogOpen&&(document.getElementById("name"+t).innerHTML=e.name,document.getElementById("description"+t).innerHTML=e.description),null!=document.getElementById(e.id)){var i=document.createElement("div"),n=document.getElementById(t);i.innerHTML=e.name+"&nbsp;",i.id=n.id,i.description=n.description,i.className=n.className,n.parentNode.replaceChild(i,n);var s=document.getElementById(e.id).parentNode.getElementsByClassName("descriptionResult")[0],o=document.createElement("div");o.innerHTML=e.description+"&nbsp;",o.className=s.className,s.parentNode.replaceChild(o,s)}})}this.renameDialog=new YAHOO.widget.Dialog("WiringEditor-saveDialog",{fixedcenter:!0,draggable:!0,width:"500px",visible:!1,modal:!0});var t=[{text:"Ok",handler:function(){i.name=document.getElementById("wfnameInput").value,i.description=document.getElementById("wfdescInput").value,(i.name!=n||i.description!=s)&&e(i),this.cancel()}},{text:"Cancel",handler:function(){this.cancel()}}],o="new name",a="new description";""!=n.trim()&&(o=n),""!=s.trim()&&(a=s),this.renameDialog.cfg.queueProperty("buttons",t),this.renameDialog.setHeader("Rename Run..."),this.renameDialog.setBody("<br /><p style='font-style: italic'>Please enter some run information:</p><br /><p><label for='wfname'>Run Name:</label><br/><input type='text' name='wfname' id='wfnameInput' size='40' value='"+o+"' /></p><br />"+"<p><label for='wfdesc'>Run Description:</label><br/><textarea name='wfdesc' id='wfdescInput' cols='40' rows='5'>"+a+"</textarea></p>"+"<br/><br/><label style='font-style:italic' for='saveAsPublicCheckbox'>make public?&nbsp;</label><br />"+"<input onClick='toggleUserGrpsActive()' type='checkbox' name='saveAsPublicCheckbox' id='saveAsPublicCheckbox' /><br/>"+"</p><br/> "+r+"<br/>"),this.renameDialog.postmethod="none",this.renameDialog.render(document.body),this.renameDialog.show()}var i={},n="",s="";loadResultDialogOpen?(i.id=e.getAttribute("wf"),n=e.parentNode.getElementsByClassName("trName")[0].innerHTML,s=e.parentNode.getElementsByClassName("trDescription")[0].innerHTML):(i.id=e.parentNode.getElementsByClassName("nameResult")[0].id,n=e.parentNode.getElementsByClassName("nameResult")[0].innerHTML,s=e.parentNode.getElementsByClassName("descriptionResult")[0].innerHTML);var o,r="";WireIt.adapters.NodeConnector.getUserGroups(function(e){o=e,o.length>=1?WireIt.adapters.NodeConnector.getGroupNames(e,function(e){r+="<div id='userGroupDiv' >";for(var i=0;i<o.length;i++)r+="<input disabled checked type='checkbox' class='userGrpsCb' id='"+o[i]+"'>"+e[i]+"</input>";r+="</div>",t()}):t()})}function renameAutosave(e){var t={};t.id=e.getAttribute("saveid"),t.name=document.getElementById("wfnameInput").value,t.description=document.getElementById("wfdescInput").value,document.getElementById("saveAsPublicCheckbox").checked&&(t.ifPublic=!0,t.groups=getSelectedUserGroups()),t.id&&t.name&&t.description&&WireIt.adapters.NodeConnector.renameAutosave(t,function(e){var t=document.getElementById(e.id).parentNode,i=t.getElementsByClassName("trName")[0],n=t.getElementsByClassName("trDescription")[0];i.innerHTML=e.name,n.innerHTML=e.description})}function highlightLoadSelection(e){var t=parseInt(e.getAttribute("loadid")),i=e.getAttribute("indexid");document.getElementById("wfselectionInput").setAttribute("indexid",i,0);var n=e.parentNode.childNodes;"wfselectionInput"==e.getAttribute("id")&&(n=e.parentNode.parentNode.getElementsByClassName("loadTable")[actualTable].getElementsByTagName("tbody")[0].getElementsByTagName("tbody")[0].childNodes),actualTableEls=n;var s=n.length;if(this.lastLoadIndex||(this.lastLoadIndex=-1),s>=t&&t>=0){for(var o,r=0;s>r;r++)parseInt(n[r].getAttribute("loadid"))==parseInt(this.lastLoadIndex)&&(o=n[r],o.style.color=listColorTRfont,o.style.background=0==r%2?listColorTRbg1:listColorTRbg2);this.lastLoadIndex=t;for(var r=0;s>r;r++)parseInt(n[r].getAttribute("loadid"))==this.lastLoadIndex&&(o=n[r]);document.getElementById("wfselectionInput").value=t,o.style.background=listColorTRactiveBg,o.style.color=listColorTRactiveFont,rowStyleTmp[0]=o.style.color,rowStyleTmp[1]=o.style.background}else for(var o,r=0;s>r;r++)parseInt(n[r].getAttribute("loadid"))==parseInt(this.lastLoadIndex)&&(o=n[r],o.style.color=listColorTRfont,o.style.background=0==r%2?listColorTRbg1:listColorTRbg2)}function changeTable(e){document.getElementById("wfselectionInput").value="";try{colorTableList(actualTableEls)}catch(t){}actualTable=e;for(var i=document.getElementsByClassName("tableSwitchBtn"),n=0;n<i.length;n++)i[n].style.border=switchBTNborder;i[e].style.border=switchBTNborderActive;for(var s=document.getElementsByClassName("loadTable"),n=0;n<s.length;n++)s[n].style.display="none",n==e&&(s[n].style.display="")}function calculateWorkflowID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),i="x"==e?t:8|3&t;return i.toString(16)})}function parseDate(e){var t=Number(e.substring(0,4)),i=Number(e.substring(4,6))-1,n=Number(e.substring(6,8)),s=Number(e.substring(8,10)),o=Number(e.substring(10,12)),r=Number(e.substring(12,14)),a=new Date;return a.setUTCFullYear(t),a.setUTCMonth(i),a.setUTCDate(n),a.setUTCHours(s),a.setUTCMinutes(o),a.setUTCSeconds(r),a}function hoverLoadTableEl(e){if(void 0!=e&&null!=e){rowStyleTmp[0]=e.parentNode.style.color,rowStyleTmp[1]=e.parentNode.style.background,e.parentNode.style.color=listColorTRfontActive,e.parentNode.style.background=listColorTRbgActive;var t=e.innerHTML;tooltipHover(e,t)}}function tooltipHover(e,t){void 0!=e&&null!=e&&(tooltipDisplayed||(ttTimer=setTimeout('createDescriptionTooltip("'+escape(t)+'")',500),YAHOO.util.Event.addListener(e,"mousemove",function(e){cX=YAHOO.util.Event.getXY(e)[0],cY=YAHOO.util.Event.getXY(e)[1]},this,!0)))}function resetHoverLoadTableEl(e){void 0!=e&&null!=e&&(e.parentNode.style.color=rowStyleTmp[0],e.parentNode.style.background=rowStyleTmp[1]),tooltipHoverReset(e)}function tooltipHoverReset(e){void 0!=e&&null!=e&&(clearTimeout(ttTimer),null!=ttTimer&&(ttTimer=null),document.getElementById("loadTableDescriptionTooltip")&&document.getElementsByTagName("body")[0].removeChild(document.getElementById("loadTableDescriptionTooltip")),tooltipDisplayed=!1)}function createDescriptionTooltip(e){null!=ttTimer&&(ttTimer=null),document.getElementById("loadTableDescriptionTooltip")&&document.getElementsByTagName("body")[0].removeChild(document.getElementById("loadTableDescriptionTooltip"));var t=document.createElement("div");t.id="loadTableDescriptionTooltip",t.style.opacity="0",t.style.color="black",t.style.background="white",t.style.left=cX+10+"px",t.style.top=cY+10+"px";var i=document.createTextNode(unescape(e));t.appendChild(i),document.getElementsByTagName("body")[0].appendChild(t),tooltipDisplayed=!0,fade("loadTableDescriptionTooltip")}function sortTable(e){document.getElementById("wfselectionInput").value="";var t=e.innerHTML,i=e.parentNode.parentNode.getElementsByTagName("tbody")[0],n="tr"+t,s=i.getElementsByClassName(n),o=new Array(s.length);if(sortCat==t)for(var r=0;r<s.length;r++){var a=s[r].parentNode;o[o.length-r-1]=a}if(sortCat!=t)for(var l=checkifnumbers(s),r=0;r<s.length;r++)for(var a=s[r].parentNode,u=s[r],c=0;c<o.length;c++){if(l&&o[c]&&parseFloat(o[c].getElementsByClassName(n)[0].innerHTML)>parseFloat(u.innerHTML)){for(k=o.length-1;k>c;k--)o[k]=o[k-1];o[c]=a;break}if(!l&&o[c]&&o[c].getElementsByClassName(n)[0].innerHTML>u.innerHTML){for(k=o.length-1;k>c;k--)o[k]=o[k-1];o[c]=a;break}if(!o[c]){o[c]=a;break}}for(;i.childNodes.length>0;)i.removeChild(i.childNodes[0]);for(var r=0;r<o.length;r++)i.appendChild(o[r]);ths=e.parentNode.childNodes;for(var h=0;h<ths.length;h++)ths[h].style.color=listColorTH;e.style.color=listColorTHactive,sortCat=t,colorTableList(i.childNodes)}function colorTableList(e){for(var t=0;t<e.length;t++)e[t].style.color=listColorTRfont,e[t].style.background=0==t%2?listColorTRbg1:listColorTRbg2}function checkifnumbers(e){for(var t=0;t<e.length;t++)if(!parseInt(e[t].innerHTML[0])&&"0"!=e[t].innerHTML[0]){if("."!=e[t].innerHTML[0])return!1;if("."==e[t].innerHTML[0]&&!parseFloat(e[t].innerHTML))return!1}return!0}function parseDate(e){var t=Number(e.substring(0,4)),i=Number(e.substring(4,6))-1,n=Number(e.substring(6,8)),s=Number(e.substring(8,10)),o=Number(e.substring(10,12)),r=Number(e.substring(12,14)),a=new Date;return a.setUTCFullYear(t),a.setUTCMonth(i),a.setUTCDate(n),a.setUTCHours(s),a.setUTCMinutes(o),a.setUTCSeconds(r),a}function fade(e){var t=document.getElementById(e);null!=t&&(null==t.FadeState&&(t.FadeState=null==t.style.opacity||""==t.style.opacity||"1"==t.style.opacity?2:-2),1==t.FadeState||-1==t.FadeState?(t.FadeState=1==t.FadeState?-1:1,t.FadeTimeLeft=TimeToFade-t.FadeTimeLeft):(t.FadeState=2==t.FadeState?-1:1,t.FadeTimeLeft=TimeToFade,setTimeout("animateFade("+(new Date).getTime()+",'"+e+"')",33)))}function animateFade(e,t){var i=(new Date).getTime(),n=i-e,s=document.getElementById(t);if(s){if(s.FadeTimeLeft<=n)return s.style.opacity=1==s.FadeState?"1":"0",s.style.filter="alpha(opacity = "+(1==s.FadeState?"100":"0")+")",s.FadeState=1==s.FadeState?2:-2,void 0;s.FadeTimeLeft-=n;var o=s.FadeTimeLeft/TimeToFade;1==s.FadeState&&(o=1-o),s.style.opacity=o,s.style.filter="alpha(opacity = "+100*o+")",setTimeout("animateFade("+i+",'"+t+"')",33)}}function btnSpin(e){function t(e){this.spinner2||(this.spinner2=new Spinner({lines:15,length:1,width:3,radius:8,rotate:0,color:"#333333",speed:2,trail:60,shadow:!1,hwaccel:!0,className:"spinner2",zIndex:2e9,top:"0",left:"0"})),this.spinner2.spin(e)}function i(){this.spinner2.stop()}var n=document.getElementById(e),s=document.getElementById(e+"-button");n.spinning?(n.spinning=!1,i(),s.style.background=this.btnBG):(n.spinning=!0,this.btnBG=s.style.background,s.style.background="transparent",t(n))}function toggleUserGrpsActive(){var e=document.getElementsByClassName("userGrpsCb");if(e.length>0)if(e[0].disabled)for(var t=0;t<e.length;t++)e[t].disabled=!1;else for(var t=0;t<e.length;t++)e[t].disabled=!0}function getSelectedUserGroups(){var e=document.getElementsByClassName("userGrpsCb"),t=[];if(e.length>0)for(var i=0;i<e.length;i++)e[i].checked&&t.push(e[i].id);return t}function deleteSave(e){var t=e.getAttribute("saveid"),i={};i.saveId=t,WireIt.adapters.NodeConnector.getRunNamesForSave(t,function(t){var n="Do you really wish to delete this save?:\n"+e.parentNode.getElementsByClassName("trName")[0].innerHTML;t.length>0&&(n+="and all corresponding runs:",n+=t.toString());var s=window.confirm(n);null!=i.saveId&&void 0!=i.saveId&&s&&WireIt.adapters.NodeConnector.deleteSave(i,function(e){if(e.ok){var t=document.getElementById("del"+e.saveId).parentNode,i=t.parentNode;i.removeChild(t),colorTableList(i.childNodes)}})})}function deleteRun(e){var t={};t.runId=e.getAttribute("wf");var i=window.confirm("Do you really wish to delete this run?");null!=t.runId&&void 0!=t.runId&&i&&WireIt.adapters.NodeConnector.deleteRun(t,function(e){if(e.ok){var t=document.getElementById("del"+e.runId);if(null!=t){var i=t.parentNode,n=i.parentNode;n.removeChild(i),colorTableList(n.childNodes)}var s=document.getElementById("run"+e.runId);null!=s&&s.parentNode.removeChild(s)}})}function showLoadingSisob(e){if(e){if(GLOBAL_WORKBENCH_LOADING_VISIBLE)return;msgText="Loading SISOB workbench...",textVisible="Loading...",textonly="Loading...",html="<span class='ui-bar ui-shadow ui-overlay-d ui-corner-all'><img height='40px' src='logos/logo-SISOB-wb.svg'><div class='ui-icon-loading' style='margin: 0 auto .625em; filter: Alpha(Opacity=75); opacity: .75; -webkit-border-radius: 2.25em; border-radius: 2.25em; width: 46px; height:46px;'></div><h2>workbench is loading ...</h2></span>",setTimeout(function(){$.mobile.loading("show",{text:msgText,textVisible:textVisible,textonly:textonly,theme:"a",html:html})},1)}else{if(!GLOBAL_WORKBENCH_LOADING_VISIBLE)return;setTimeout(function(){$.mobile.loading("hide")},1)}GLOBAL_WORKBENCH_LOADING_VISIBLE=e}function prepareWorkbench(e){function t(e){console.log("buildInterface");var t=$("#menuLoad")[0];if(null!=t)return console.log("workbench already initialised."),showLoadingSisob(!1),void 0;showLoadingSisob(!0);for(var n=0;n<e.length;n++)i.modules.push(e[n]);setTimeout(function(){GLOBAL_WORKBENCH=new SISOB.Workbench(i,GLOBAL_USER),showLoadingSisob(!1)},1)}console.log("prepareWorkbench");var i={languageName:"SISOB Analysis",modules:[{name:"Direct Uploader",category:"Input",container:{xtype:"WireIt.SISOBContainer",outputs:[{name:"out_1",label:"uploaded data"}],fields:[{type:"file",label:"Select File",name:"files",required:!0},{type:"boolean",label:"Handle as text?",name:"text"}],descriptionText:"'Handle as text?' determines if the data is handled as text or as binary. If the input is a text file (like most network formats), please check it. In doubt please leave it unchecked.",legend:"This agent will upload a file or a data folder from your local file system, please think of the format conversion into a SISOB format."}}]};showLoadingSisob(!0),GLOBAL_USER=e,SC.sendRequest("getFilterDescriptions",t)}function calculateDate(){function e(e){return 10>e?"0"+e:""+e}var t=new Date,i=[];return i.push(t.getUTCFullYear()),i.push(e(t.getUTCMonth()+1)),i.push(e(t.getUTCDate())),i.push(e(t.getUTCHours())),i.push(e(t.getUTCMinutes())),i.push(e(t.getUTCSeconds())),i.join(""),i.join("")}function calculateDate(){function e(e){return 10>e?"0"+e:""+e}var t=new Date,i=[];return i.push(t.getUTCFullYear()),i.push(e(t.getUTCMonth()+1)),i.push(e(t.getUTCDate())),i.push(e(t.getUTCHours())),i.push(e(t.getUTCMinutes())),i.push(e(t.getUTCSeconds())),i.join(""),i.join("")}if(function(e,t){function i(e){var t=e.length,i=ct.type(e);return ct.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e){var t=Tt[e]={};return ct.each(e.match(dt)||[],function(e,i){t[i]=!0}),t}function s(e,i,n,s){if(ct.acceptData(e)){var o,r,a=ct.expando,l=e.nodeType,u=l?ct.cache:e,c=l?e[a]:e[a]&&a;if(c&&u[c]&&(s||u[c].data)||n!==t||"string"!=typeof i)return c||(c=l?e[a]=tt.pop()||ct.guid++:a),u[c]||(u[c]=l?{}:{toJSON:ct.noop}),("object"==typeof i||"function"==typeof i)&&(s?u[c]=ct.extend(u[c],i):u[c].data=ct.extend(u[c].data,i)),r=u[c],s||(r.data||(r.data={}),r=r.data),n!==t&&(r[ct.camelCase(i)]=n),"string"==typeof i?(o=r[i],null==o&&(o=r[ct.camelCase(i)])):o=r,o}}function o(e,t,i){if(ct.acceptData(e)){var n,s,o=e.nodeType,r=o?ct.cache:e,l=o?e[ct.expando]:ct.expando;if(r[l]){if(t&&(n=i?r[l]:r[l].data)){ct.isArray(t)?t=t.concat(ct.map(t,ct.camelCase)):t in n?t=[t]:(t=ct.camelCase(t),t=t in n?[t]:t.split(" ")),s=t.length;for(;s--;)delete n[t[s]];if(i?!a(n):!ct.isEmptyObject(n))return}(i||(delete r[l].data,a(r[l])))&&(o?ct.cleanData([e],!0):ct.support.deleteExpando||r!=r.window?delete r[l]:r[l]=null)}}}function r(e,i,n){if(n===t&&1===e.nodeType){var s="data-"+i.replace(St,"-$1").toLowerCase();if(n=e.getAttribute(s),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:_t.test(n)?ct.parseJSON(n):n}catch(o){}ct.data(e,i,n)}else n=t}return n}function a(e){var t;for(t in e)if(("data"!==t||!ct.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function u(){return!1}function c(){try{return K.activeElement}catch(e){}}function h(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function d(e,t,i){if(ct.isFunction(t))return ct.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return ct.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(jt.test(t))return ct.filter(t,e,i);t=ct.filter(t,e)}return ct.grep(e,function(e){return ct.inArray(e,t)>=0!==i})}function p(e){var t=zt.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function f(e,t){return ct.nodeName(e,"table")&&ct.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==ct.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=si.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var i,n=0;null!=(i=e[n]);n++)ct._data(i,"globalEval",!t||ct._data(t[n],"globalEval"))}function b(e,t){if(1===t.nodeType&&ct.hasData(e)){var i,n,s,o=ct._data(e),r=ct._data(t,o),a=o.events;if(a){delete r.handle,r.events={};for(i in a)for(n=0,s=a[i].length;s>n;n++)ct.event.add(t,i,a[i][n])}r.data&&(r.data=ct.extend({},r.data))}}function y(e,t){var i,n,s;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ct.support.noCloneEvent&&t[ct.expando]){s=ct._data(t);for(n in s.events)ct.removeEvent(t,n,s.handle);t.removeAttribute(ct.expando)}"script"===i&&t.text!==e.text?(m(t).text=e.text,g(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ct.support.html5Clone&&e.innerHTML&&!ct.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&ti.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function E(e,i){var n,s,o=0,r=typeof e.getElementsByTagName!==G?e.getElementsByTagName(i||"*"):typeof e.querySelectorAll!==G?e.querySelectorAll(i||"*"):t;if(!r)for(r=[],n=e.childNodes||e;null!=(s=n[o]);o++)!i||ct.nodeName(s,i)?r.push(s):ct.merge(r,E(s,i));return i===t||i&&ct.nodeName(e,i)?ct.merge([e],r):r}function C(e){ti.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,s=Oi.length;s--;)if(t=Oi[s]+i,t in e)return t;return n}function x(e,t){return e=t||e,"none"===ct.css(e,"display")||!ct.contains(e.ownerDocument,e)}function O(e,t){for(var i,n,s,o=[],r=0,a=e.length;a>r;r++)n=e[r],n.style&&(o[r]=ct._data(n,"olddisplay"),i=n.style.display,t?(o[r]||"none"!==i||(n.style.display=""),""===n.style.display&&x(n)&&(o[r]=ct._data(n,"olddisplay",A(n.nodeName)))):o[r]||(s=x(n),(i&&"none"!==i||!s)&&ct._data(n,"olddisplay",s?i:ct.css(n,"display"))));for(r=0;a>r;r++)n=e[r],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[r]||"":"none"));return e}function T(e,t,i){var n=vi.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function _(e,t,i,n,s){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,r=0;4>o;o+=2)"margin"===i&&(r+=ct.css(e,i+xi[o],!0,s)),n?("content"===i&&(r-=ct.css(e,"padding"+xi[o],!0,s)),"margin"!==i&&(r-=ct.css(e,"border"+xi[o]+"Width",!0,s))):(r+=ct.css(e,"padding"+xi[o],!0,s),"padding"!==i&&(r+=ct.css(e,"border"+xi[o]+"Width",!0,s)));return r}function S(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,o=ci(e),r=ct.support.boxSizing&&"border-box"===ct.css(e,"boxSizing",!1,o);if(0>=s||null==s){if(s=hi(e,t,o),(0>s||null==s)&&(s=e.style[t]),bi.test(s))return s;n=r&&(ct.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+_(e,t,i||(r?"border":"content"),n,o)+"px"}function A(e){var t=K,i=Ei[e];return i||(i=k(e,t),"none"!==i&&i||(ui=(ui||ct("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ui[0].contentWindow||ui[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),i=k(e,t),ui.detach()),Ei[e]=i),i}function k(e,t){var i=ct(t.createElement(e)).appendTo(t.body),n=ct.css(i[0],"display");return i.remove(),n}function D(e,t,i,n){var s;if(ct.isArray(t))ct.each(t,function(t,s){i||_i.test(e)?n(e,s):D(e+"["+("object"==typeof s?t:"")+"]",s,i,n)});else if(i||"object"!==ct.type(t))n(e,t);else for(s in t)D(e+"["+s+"]",t[s],i,n)}function I(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,o=t.toLowerCase().match(dt)||[];if(ct.isFunction(i))for(;n=o[s++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function N(e,i,n,s){function o(l){var u;return r[l]=!0,ct.each(e[l]||[],function(e,l){var c=l(i,n,s);return"string"!=typeof c||a||r[c]?a?!(u=c):t:(i.dataTypes.unshift(c),o(c),!1)}),u}var r={},a=e===Ui;return o(i.dataTypes[0])||!r["*"]&&o("*")}function H(e,i){var n,s,o=ct.ajaxSettings.flatOptions||{};for(s in i)i[s]!==t&&((o[s]?e:n||(n={}))[s]=i[s]);return n&&ct.extend(!0,e,n),e}function P(e,i,n){for(var s,o,r,a,l=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),o===t&&(o=e.mimeType||i.getResponseHeader("Content-Type"));if(o)for(a in l)if(l[a]&&l[a].test(o)){u.unshift(a);break}if(u[0]in n)r=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){r=a;break}s||(s=a)}r=r||s}return r?(r!==u[0]&&u.unshift(r),n[r]):t}function L(e,t,i,n){var s,o,r,a,l,u={},c=e.dataTypes.slice();if(c[1])for(r in e.converters)u[r.toLowerCase()]=e.converters[r];for(o=c.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(r=u[l+" "+o]||u["* "+o],!r)for(s in u)if(a=s.split(" "),a[1]===o&&(r=u[l+" "+a[0]]||u["* "+a[0]])){r===!0?r=u[s]:u[s]!==!0&&(o=a[0],c.unshift(a[1]));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(h){return{state:"parsererror",error:r?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function F(){try{return new e.XMLHttpRequest}catch(t){}}function R(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function M(){return setTimeout(function(){Qi=t}),Qi=ct.now()}function B(e,t,i){for(var n,s=(on[t]||[]).concat(on["*"]),o=0,r=s.length;r>o;o++)if(n=s[o].call(i,t,e))return n}function Y(e,t,i){var n,s,o=0,r=sn.length,a=ct.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Qi||M(),i=Math.max(0,u.startTime+u.duration-t),n=i/u.duration||0,o=1-n,r=0,l=u.tweens.length;l>r;r++)u.tweens[r].run(o);return a.notifyWith(e,[u,o,i]),1>o&&l?i:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:ct.extend({},t),opts:ct.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Qi||M(),duration:i.duration,tweens:[],createTween:function(t,i){var n=ct.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)u.tweens[i].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(W(c,u.opts.specialEasing);r>o;o++)if(n=sn[o].call(u,e,c,u.opts))return n;return ct.map(c,B,u),ct.isFunction(u.opts.start)&&u.opts.start.call(e,u),ct.fx.timer(ct.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function W(e,t){var i,n,s,o,r;for(i in e)if(n=ct.camelCase(i),s=t[n],o=e[i],ct.isArray(o)&&(s=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),r=ct.cssHooks[n],r&&"expand"in r){o=r.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=s)}else t[n]=s}function j(e,t,i){var n,s,o,r,a,l,u=this,c={},h=e.style,d=e.nodeType&&x(e),p=ct._data(e,"fxshow");i.queue||(a=ct._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,ct.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===ct.css(e,"display")&&"none"===ct.css(e,"float")&&(ct.support.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?h.zoom=1:h.display="inline-block")),i.overflow&&(h.overflow="hidden",ct.support.shrinkWrapBlocks||u.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]}));for(n in t)if(s=t[n],en.exec(s)){if(delete t[n],o=o||"toggle"===s,s===(d?"hide":"show"))continue;c[n]=p&&p[n]||ct.style(e,n)}if(!ct.isEmptyObject(c)){p?"hidden"in p&&(d=p.hidden):p=ct._data(e,"fxshow",{}),o&&(p.hidden=!d),d?ct(e).show():u.done(function(){ct(e).hide()}),u.done(function(){var t;ct._removeData(e,"fxshow");for(t in c)ct.style(e,t,c[t])});for(n in c)r=B(d?p[n]:0,n,u),n in p||(p[n]=r.start,d&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function U(e,t,i,n,s){return new U.prototype.init(e,t,i,n,s)}function q(e,t){var i,n={height:e},s=0;for(t=t?1:0;4>s;s+=2-t)i=xi[s],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function V(e){return ct.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var z,X,G=typeof t,$=e.location,K=e.document,J=K.documentElement,Q=e.jQuery,Z=e.$,et={},tt=[],it="1.10.2",nt=tt.concat,st=tt.push,ot=tt.slice,rt=tt.indexOf,at=et.toString,lt=et.hasOwnProperty,ut=it.trim,ct=function(e,t){return new ct.fn.init(e,t,X)},ht=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=/\S+/g,pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,vt=/(?:^|:|,)(?:\s*\[)+/g,bt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,yt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Et=/^-ms-/,Ct=/-([\da-z])/gi,wt=function(e,t){return t.toUpperCase()},xt=function(e){(K.addEventListener||"load"===e.type||"complete"===K.readyState)&&(Ot(),ct.ready())},Ot=function(){K.addEventListener?(K.removeEventListener("DOMContentLoaded",xt,!1),e.removeEventListener("load",xt,!1)):(K.detachEvent("onreadystatechange",xt),e.detachEvent("onload",xt))};ct.fn=ct.prototype={jquery:it,constructor:ct,init:function(e,i,n){var s,o;if(!e)return this;if("string"==typeof e){if(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ft.exec(e),!s||!s[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(s[1]){if(i=i instanceof ct?i[0]:i,ct.merge(this,ct.parseHTML(s[1],i&&i.nodeType?i.ownerDocument||i:K,!0)),mt.test(s[1])&&ct.isPlainObject(i))for(s in i)ct.isFunction(this[s])?this[s](i[s]):this.attr(s,i[s]);return this}if(o=K.getElementById(s[2]),o&&o.parentNode){if(o.id!==s[2])return n.find(e);this.length=1,this[0]=o}return this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ct.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ct.makeArray(e,this))},selector:"",length:0,toArray:function(){return ot.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ct.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ct.each(this,e,t)},ready:function(e){return ct.ready.promise().done(e),this},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},map:function(e){return this.pushStack(ct.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:st,sort:[].sort,splice:[].splice},ct.fn.init.prototype=ct.fn,ct.extend=ct.fn.extend=function(){var e,i,n,s,o,r,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||ct.isFunction(a)||(a={}),u===l&&(a=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(s in o)e=a[s],n=o[s],a!==n&&(c&&n&&(ct.isPlainObject(n)||(i=ct.isArray(n)))?(i?(i=!1,r=e&&ct.isArray(e)?e:[]):r=e&&ct.isPlainObject(e)?e:{},a[s]=ct.extend(c,r,n)):n!==t&&(a[s]=n));return a},ct.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ct&&(e.$=Z),t&&e.jQuery===ct&&(e.jQuery=Q),ct},isReady:!1,readyWait:1,holdReady:function(e){e?ct.readyWait++:ct.ready(!0)},ready:function(e){if(e===!0?!--ct.readyWait:!ct.isReady){if(!K.body)return setTimeout(ct.ready);ct.isReady=!0,e!==!0&&--ct.readyWait>0||(z.resolveWith(K,[ct]),ct.fn.trigger&&ct(K).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ct.type(e)},isArray:Array.isArray||function(e){return"array"===ct.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?et[at.call(e)]||"object":typeof e},isPlainObject:function(e){var i;if(!e||"object"!==ct.type(e)||e.nodeType||ct.isWindow(e))return!1;try{if(e.constructor&&!lt.call(e,"constructor")&&!lt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ct.support.ownLast)for(i in e)return lt.call(e,i);for(i in e);return i===t||lt.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||K;var n=mt.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=ct.buildFragment([e],t,s),s&&ct(s).remove(),ct.merge([],n.childNodes))},parseJSON:function(i){return e.JSON&&e.JSON.parse?e.JSON.parse(i):null===i?i:"string"==typeof i&&(i=ct.trim(i),i&&gt.test(i.replace(bt,"@").replace(yt,"]").replace(vt,"")))?Function("return "+i)():(ct.error("Invalid JSON: "+i),t)},parseXML:function(i){var n,s;if(!i||"string"!=typeof i)return null;try{e.DOMParser?(s=new DOMParser,n=s.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(o){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ct.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&ct.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(Et,"ms-").replace(Ct,wt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var s,o=0,r=e.length,a=i(e);if(n){if(a)for(;r>o&&(s=t.apply(e[o],n),s!==!1);o++);else for(o in e)if(s=t.apply(e[o],n),s===!1)break}else if(a)for(;r>o&&(s=t.call(e[o],o,e[o]),s!==!1);o++);else for(o in e)if(s=t.call(e[o],o,e[o]),s===!1)break;return e},trim:ut&&!ut.call("﻿ ")?function(e){return null==e?"":ut.call(e)}:function(e){return null==e?"":(e+"").replace(pt,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ct.merge(n,"string"==typeof e?[e]:e):st.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(rt)return rt.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,s=e.length,o=0;if("number"==typeof n)for(;n>o;o++)e[s++]=i[o];else for(;i[o]!==t;)e[s++]=i[o++];return e.length=s,e},grep:function(e,t,i){var n,s=[],o=0,r=e.length;for(i=!!i;r>o;o++)n=!!t(e[o],o),i!==n&&s.push(e[o]);return s},map:function(e,t,n){var s,o=0,r=e.length,a=i(e),l=[];if(a)for(;r>o;o++)s=t(e[o],o,n),null!=s&&(l[l.length]=s);else for(o in e)s=t(e[o],o,n),null!=s&&(l[l.length]=s);return nt.apply([],l)},guid:1,proxy:function(e,i){var n,s,o;return"string"==typeof i&&(o=e[i],i=e,e=o),ct.isFunction(e)?(n=ot.call(arguments,2),s=function(){return e.apply(i||this,n.concat(ot.call(arguments)))},s.guid=e.guid=e.guid||ct.guid++,s):t},access:function(e,i,n,s,o,r,a){var l=0,u=e.length,c=null==n;if("object"===ct.type(n)){o=!0;for(l in n)ct.access(e,i,l,n[l],!0,r,a)}else if(s!==t&&(o=!0,ct.isFunction(s)||(a=!0),c&&(a?(i.call(e,s),i=null):(c=i,i=function(e,t,i){return c.call(ct(e),i)})),i))for(;u>l;l++)i(e[l],n,a?s:s.call(e[l],l,i(e[l],n)));return o?e:c?i.call(e):u?i(e[0],n):r},now:function(){return(new Date).getTime()},swap:function(e,t,i,n){var s,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];s=i.apply(e,n||[]);for(o in t)e.style[o]=r[o];return s}}),ct.ready.promise=function(t){if(!z)if(z=ct.Deferred(),"complete"===K.readyState)setTimeout(ct.ready);else if(K.addEventListener)K.addEventListener("DOMContentLoaded",xt,!1),e.addEventListener("load",xt,!1);else{K.attachEvent("onreadystatechange",xt),e.attachEvent("onload",xt);var i=!1;try{i=null==e.frameElement&&K.documentElement}catch(n){}i&&i.doScroll&&function s(){if(!ct.isReady){try{i.doScroll("left")
}catch(e){return setTimeout(s,50)}Ot(),ct.ready()}}()}return z.promise(t)},ct.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),X=ct(K),function(e,t){function i(e,t,i,n){var s,o,r,a,l,u,c,h,f,m;if((t?t.ownerDocument||t:Y)!==N&&I(t),t=t||N,i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=t.nodeType)&&9!==a)return[];if(P&&!n){if(s=yt.exec(e))if(r=s[1]){if(9===a){if(o=t.getElementById(r),!o||!o.parentNode)return i;if(o.id===r)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(r))&&M(t,o)&&o.id===r)return i.push(o),i}else{if(s[2])return et.apply(i,t.getElementsByTagName(e)),i;if((r=s[3])&&x.getElementsByClassName&&t.getElementsByClassName)return et.apply(i,t.getElementsByClassName(r)),i}if(x.qsa&&(!L||!L.test(e))){if(h=c=B,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=d(e),(c=t.getAttribute("id"))?h=c.replace(wt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+p(u[l]);f=pt.test(e)&&t.parentNode||t,m=u.join(",")}if(m)try{return et.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{c||t.removeAttribute("id")}}}return C(e.replace(ut,"$1"),t,i,n)}function n(){function e(i,n){return t.push(i+=" ")>T.cacheLength&&delete e[t.shift()],e[i]=n}var t=[];return e}function s(e){return e[B]=!0,e}function o(e){var t=N.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=e.length;n--;)T.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||$)-(~e.sourceIndex||$);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function l(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function u(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return s(function(t){return t=+t,s(function(i,n){for(var s,o=e([],i.length,t),r=o.length;r--;)i[s=o[r]]&&(i[s]=!(n[s]=i[s]))})})}function h(){}function d(e,t){var n,s,o,r,a,l,u,c=q[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=T.preFilter;a;){(!n||(s=ht.exec(a)))&&(s&&(a=a.slice(s[0].length)||a),l.push(o=[])),n=!1,(s=dt.exec(a))&&(n=s.shift(),o.push({value:n,type:s[0].replace(ut," ")}),a=a.slice(n.length));for(r in T.filter)!(s=vt[r].exec(a))||u[r]&&!(s=u[r](s))||(n=s.shift(),o.push({value:n,type:r,matches:s}),a=a.slice(n.length));if(!n)break}return t?a.length:a?i.error(e):q(e,l).slice(0)}function p(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,s=i&&"parentNode"===n,o=j++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,o)}:function(t,i,r){var a,l,u,c=W+" "+o;if(r){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,r))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(u=t[B]||(t[B]={}),(l=u[n])&&l[0]===c){if((a=l[1])===!0||a===O)return a===!0}else if(l=u[n]=[c],l[1]=e(t,i,r)||O,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function g(e,t,i,n,s){for(var o,r=[],a=0,l=e.length,u=null!=t;l>a;a++)(o=e[a])&&(!i||i(o,n,s))&&(r.push(o),u&&t.push(a));return r}function v(e,t,i,n,o,r){return n&&!n[B]&&(n=v(n)),o&&!o[B]&&(o=v(o,r)),s(function(s,r,a,l){var u,c,h,d=[],p=[],f=r.length,m=s||E(t||"*",a.nodeType?[a]:a,[]),v=!e||!s&&t?m:g(m,d,e,a,l),b=i?o||(s?e:f||n)?[]:r:v;if(i&&i(v,b,a,l),n)for(u=g(b,p),n(u,[],a,l),c=u.length;c--;)(h=u[c])&&(b[p[c]]=!(v[p[c]]=h));if(s){if(o||e){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(v[c]=h);o(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=o?it.call(s,h):d[c])>-1&&(s[u]=!(r[u]=h))}}else b=g(b===r?b.splice(f,b.length):b),o?o(null,r,b,l):et.apply(r,b)})}function b(e){for(var t,i,n,s=e.length,o=T.relative[e[0].type],r=o||T.relative[" "],a=o?1:0,l=f(function(e){return e===t},r,!0),u=f(function(e){return it.call(t,e)>-1},r,!0),c=[function(e,i,n){return!o&&(n||i!==k)||((t=i).nodeType?l(e,i,n):u(e,i,n))}];s>a;a++)if(i=T.relative[e[a].type])c=[f(m(c),i)];else{if(i=T.filter[e[a].type].apply(null,e[a].matches),i[B]){for(n=++a;s>n&&!T.relative[e[n].type];n++);return v(a>1&&m(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ut,"$1"),i,n>a&&b(e.slice(a,n)),s>n&&b(e=e.slice(n)),s>n&&p(e))}c.push(i)}return m(c)}function y(e,t){var n=0,o=t.length>0,r=e.length>0,a=function(s,a,l,u,c){var h,d,p,f=[],m=0,v="0",b=s&&[],y=null!=c,E=k,C=s||r&&T.find.TAG("*",c&&a.parentNode||a),w=W+=null==E?1:Math.random()||.1;for(y&&(k=a!==N&&a,O=n);null!=(h=C[v]);v++){if(r&&h){for(d=0;p=e[d++];)if(p(h,a,l)){u.push(h);break}y&&(W=w,O=++n)}o&&((h=!p&&h)&&m--,s&&b.push(h))}if(m+=v,o&&v!==m){for(d=0;p=t[d++];)p(b,f,a,l);if(s){if(m>0)for(;v--;)b[v]||f[v]||(f[v]=Q.call(u));f=g(f)}et.apply(u,f),y&&!s&&f.length>0&&m+t.length>1&&i.uniqueSort(u)}return y&&(W=w,k=E),b};return o?s(a):a}function E(e,t,n){for(var s=0,o=t.length;o>s;s++)i(e,t[s],n);return n}function C(e,t,i,n){var s,o,r,a,l,u=d(e);if(!n&&1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&x.getById&&9===t.nodeType&&P&&T.relative[o[1].type]){if(t=(T.find.ID(r.matches[0].replace(xt,Ot),t)||[])[0],!t)return i;e=e.slice(o.shift().value.length)}for(s=vt.needsContext.test(e)?0:o.length;s--&&(r=o[s],!T.relative[a=r.type]);)if((l=T.find[a])&&(n=l(r.matches[0].replace(xt,Ot),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(s,1),e=n.length&&p(o),!e)return et.apply(i,n),i;break}}return A(e,u)(n,t,!P,i,pt.test(e)),i}var w,x,O,T,_,S,A,k,D,I,N,H,P,L,F,R,M,B="sizzle"+-new Date,Y=e.document,W=0,j=0,U=n(),q=n(),V=n(),z=!1,X=function(e,t){return e===t?(z=!0,0):0},G=typeof t,$=1<<31,K={}.hasOwnProperty,J=[],Q=J.pop,Z=J.push,et=J.push,tt=J.slice,it=J.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",st="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=ot.replace("w","w#"),at="\\["+st+"*("+ot+")"+st+"*(?:([*^$|!~]?=)"+st+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+rt+")|)|)"+st+"*\\]",lt=":("+ot+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",ut=RegExp("^"+st+"+|((?:^|[^\\\\])(?:\\\\.)*)"+st+"+$","g"),ht=RegExp("^"+st+"*,"+st+"*"),dt=RegExp("^"+st+"*([>+~]|"+st+")"+st+"*"),pt=RegExp(st+"*[+~]"),ft=RegExp("="+st+"*([^\\]'\"]*)"+st+"*\\]","g"),mt=RegExp(lt),gt=RegExp("^"+rt+"$"),vt={ID:RegExp("^#("+ot+")"),CLASS:RegExp("^\\.("+ot+")"),TAG:RegExp("^("+ot.replace("w","w*")+")"),ATTR:RegExp("^"+at),PSEUDO:RegExp("^"+lt),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+st+"*(even|odd|(([+-]|)(\\d*)n|)"+st+"*(?:([+-]|)"+st+"*(\\d+)|))"+st+"*\\)|)","i"),bool:RegExp("^(?:"+nt+")$","i"),needsContext:RegExp("^"+st+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+st+"*((?:-\\d)?\\d*)"+st+"*\\)|)(?=[^-]|$)","i")},bt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Et=/^(?:input|select|textarea|button)$/i,Ct=/^h\d$/i,wt=/'|\\/g,xt=RegExp("\\\\([\\da-f]{1,6}"+st+"?|("+st+")|.)","ig"),Ot=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{et.apply(J=tt.call(Y.childNodes),Y.childNodes),J[Y.childNodes.length].nodeType}catch(Tt){et={apply:J.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}S=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},x=i.support={},I=i.setDocument=function(e){var i=e?e.ownerDocument||e:Y,n=i.defaultView;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,H=i.documentElement,P=!S(i),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){I()}),x.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),x.getById=o(function(e){return H.appendChild(e).id=B,!i.getElementsByName||!i.getElementsByName(B).length}),x.getById?(T.find.ID=function(e,t){if(typeof t.getElementById!==G&&P){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},T.filter.ID=function(e){var t=e.replace(xt,Ot);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(xt,Ot);return function(e){var i=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return i&&i.value===t}}),T.find.TAG=x.getElementsByTagName?function(e,i){return typeof i.getElementsByTagName!==G?i.getElementsByTagName(e):t}:function(e,t){var i,n=[],s=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[s++];)1===i.nodeType&&n.push(i);return n}return o},T.find.CLASS=x.getElementsByClassName&&function(e,i){return typeof i.getElementsByClassName!==G&&P?i.getElementsByClassName(e):t},F=[],L=[],(x.qsa=bt.test(i.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||L.push("\\["+st+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||L.push(":checked")}),o(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&L.push("[*^$]="+st+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=bt.test(R=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&o(function(e){x.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),F.push("!=",lt)}),L=L.length&&RegExp(L.join("|")),F=F.length&&RegExp(F.join("|")),M=bt.test(H.contains)||H.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=H.compareDocumentPosition?function(e,t){if(e===t)return z=!0,0;var n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return n?1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===i||M(Y,e)?-1:t===i||M(Y,t)?1:D?it.call(D,e)-it.call(D,t):0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,s=0,o=e.parentNode,r=t.parentNode,l=[e],u=[t];if(e===t)return z=!0,0;if(!o||!r)return e===i?-1:t===i?1:o?-1:r?1:D?it.call(D,e)-it.call(D,t):0;if(o===r)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[s]===u[s];)s++;return s?a(l[s],u[s]):l[s]===Y?-1:u[s]===Y?1:0},i):N},i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){if((e.ownerDocument||e)!==N&&I(e),t=t.replace(ft,"='$1']"),!(!x.matchesSelector||!P||F&&F.test(t)||L&&L.test(t)))try{var n=R.call(e,t);if(n||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(s){}return i(t,N,null,[e]).length>0},i.contains=function(e,t){return(e.ownerDocument||e)!==N&&I(e),M(e,t)},i.attr=function(e,i){(e.ownerDocument||e)!==N&&I(e);var n=T.attrHandle[i.toLowerCase()],s=n&&K.call(T.attrHandle,i.toLowerCase())?n(e,i,!P):t;return s===t?x.attributes||!P?e.getAttribute(i):(s=e.getAttributeNode(i))&&s.specified?s.value:null:s},i.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},i.uniqueSort=function(e){var t,i=[],n=0,s=0;if(z=!x.detectDuplicates,D=!x.sortStable&&e.slice(0),e.sort(X),z){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return e},_=i.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=_(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n];n++)i+=_(t);return i},T=i.selectors={cacheLength:50,createPseudo:s,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,Ot),e[3]=(e[4]||e[5]||"").replace(xt,Ot),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||i.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&i.error(e[0]),e},PSEUDO:function(e){var i,n=!e[5]&&e[2];return vt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:n&&mt.test(n)&&(i=d(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(e[0]=e[0].slice(0,i),e[2]=n.slice(0,i)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,Ot).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=RegExp("(^|"+st+")"+e+"("+st+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(s){var o=i.attr(s,e);return null==o?"!="===t:t?(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,s){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var u,c,h,d,p,f,m=o!==r?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&b){for(c=g[B]||(g[B]={}),u=c[e]||[],p=u[0]===W&&u[1],d=u[0]===W&&u[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){c[e]=[W,p,d];break}}else if(b&&(u=(t[B]||(t[B]={}))[e])&&u[0]===W)d=u[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(b&&((h[B]||(h[B]={}))[e]=[W,d]),h!==t)););return d-=s,d===n||0===d%n&&d/n>=0}}},PSEUDO:function(e,t){var n,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return o[B]?o(t):o.length>1?(n=[e,e,"",t],T.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,i){for(var n,s=o(e,t),r=s.length;r--;)n=it.call(e,s[r]),e[n]=!(i[n]=s[r])}):function(e){return o(e,0,n)}):o}},pseudos:{not:s(function(e){var t=[],i=[],n=A(e.replace(ut,"$1"));return n[B]?s(function(e,t,i,s){for(var o,r=n(e,null,s,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,s,o){return t[0]=e,n(t,null,o,i),!i.pop()}}),has:s(function(e){return function(t){return i(e,t).length>0}}),contains:s(function(e){return function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:s(function(e){return gt.test(e||"")||i.error("unsupported lang: "+e),e=e.replace(xt,Ot).toLowerCase(),function(t){var i;do if(i=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return Ct.test(e.nodeName)},input:function(e){return Et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[0>i?i+t:i]}),even:c(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=0>i?i+t:i;t>++n;)e.push(n);return e})}},T.pseudos.nth=T.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[w]=l(w);for(w in{submit:!0,reset:!0})T.pseudos[w]=u(w);h.prototype=T.filters=T.pseudos,T.setFilters=new h,A=i.compile=function(e,t){var i,n=[],s=[],o=V[e+" "];if(!o){for(t||(t=d(e)),i=t.length;i--;)o=b(t[i]),o[B]?n.push(o):s.push(o);o=V(e,y(s,n))}return o},x.sortStable=B.split("").sort(X).join("")===B,x.detectDuplicates=z,I(),x.sortDetached=o(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,i,n){return n?t:e.getAttribute(i,"type"===i.toLowerCase()?1:2)}),x.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,i,n){return n||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(nt,function(e,i,n){var s;return n?t:(s=e.getAttributeNode(i))&&s.specified?s.value:e[i]===!0?i.toLowerCase():null}),ct.find=i,ct.expr=i.selectors,ct.expr[":"]=ct.expr.pseudos,ct.unique=i.uniqueSort,ct.text=i.getText,ct.isXMLDoc=i.isXML,ct.contains=i.contains}(e);var Tt={};ct.Callbacks=function(e){e="string"==typeof e?Tt[e]||n(e):ct.extend({},e);var i,s,o,r,a,l,u=[],c=!e.once&&[],h=function(t){for(s=e.memory&&t,o=!0,a=l||0,l=0,r=u.length,i=!0;u&&r>a;a++)if(u[a].apply(t[0],t[1])===!1&&e.stopOnFalse){s=!1;break}i=!1,u&&(c?c.length&&h(c.shift()):s?u=[]:d.disable())},d={add:function(){if(u){var t=u.length;!function n(t){ct.each(t,function(t,i){var s=ct.type(i);"function"===s?e.unique&&d.has(i)||u.push(i):i&&i.length&&"string"!==s&&n(i)})}(arguments),i?r=u.length:s&&(l=t,h(s))}return this},remove:function(){return u&&ct.each(arguments,function(e,t){for(var n;(n=ct.inArray(t,u,n))>-1;)u.splice(n,1),i&&(r>=n&&r--,a>=n&&a--)}),this},has:function(e){return e?ct.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],r=0,this},disable:function(){return u=c=s=t,this},disabled:function(){return!u},lock:function(){return c=t,s||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!u||o&&!c||(t=t||[],t=[e,t.slice?t.slice():t],i?c.push(t):h(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},ct.extend({Deferred:function(e){var t=[["resolve","done",ct.Callbacks("once memory"),"resolved"],["reject","fail",ct.Callbacks("once memory"),"rejected"],["notify","progress",ct.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ct.Deferred(function(i){ct.each(t,function(t,o){var r=o[0],a=ct.isFunction(e[t])&&e[t];s[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ct.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ct.extend(e,n):n}},s={};return n.pipe=n.then,ct.each(t,function(e,o){var r=o[2],a=o[3];n[o[1]]=r.add,a&&r.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),s[o[0]]=function(){return s[o[0]+"With"](this===s?n:this,arguments),this},s[o[0]+"With"]=r.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,n,s=0,o=ot.call(arguments),r=o.length,a=1!==r||e&&ct.isFunction(e.promise)?r:0,l=1===a?e:ct.Deferred(),u=function(e,i,n){return function(s){i[e]=this,n[e]=arguments.length>1?ot.call(arguments):s,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(t=Array(r),i=Array(r),n=Array(r);r>s;s++)o[s]&&ct.isFunction(o[s].promise)?o[s].promise().done(u(s,n,o)).fail(l.reject).progress(u(s,i,t)):--a;return a||l.resolveWith(n,o),l.promise()}}),ct.support=function(t){var i,n,s,o,r,a,l,u,c,h=K.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=h.getElementsByTagName("*")||[],n=h.getElementsByTagName("a")[0],!n||!n.style||!i.length)return t;o=K.createElement("select"),a=o.appendChild(K.createElement("option")),s=h.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==h.className,t.leadingWhitespace=3===h.firstChild.nodeType,t.tbody=!h.getElementsByTagName("tbody").length,t.htmlSerialize=!!h.getElementsByTagName("link").length,t.style=/top/.test(n.getAttribute("style")),t.hrefNormalized="/a"===n.getAttribute("href"),t.opacity=/^0.5/.test(n.style.opacity),t.cssFloat=!!n.style.cssFloat,t.checkOn=!!s.value,t.optSelected=a.selected,t.enctype=!!K.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==K.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!a.disabled;try{delete h.test}catch(d){t.deleteExpando=!1}s=K.createElement("input"),s.setAttribute("value",""),t.input=""===s.getAttribute("value"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","t"),s.setAttribute("name","t"),r=K.createDocumentFragment(),r.appendChild(s),t.appendChecked=s.checked,t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+c,"t"),t[c+"Bubbles"]=l in e||h.attributes[l].expando===!1;h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===h.style.backgroundClip;for(c in ct(t))break;return t.ownLast="0"!==c,ct(function(){var i,n,s,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",r=K.getElementsByTagName("body")[0];r&&(i=K.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(i).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=h.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===s[0].offsetHeight,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=u&&0===s[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ct.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===h.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(h,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(h,null)||{width:"4px"}).width,n=h.appendChild(K.createElement("div")),n.style.cssText=h.style.cssText=o,n.style.marginRight=n.style.width="0",h.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight)),typeof h.style.zoom!==G&&(h.innerHTML="",h.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==h.offsetWidth,t.inlineBlockNeedsLayout&&(r.style.zoom=1)),r.removeChild(i),i=h=s=n=null)}),i=o=r=a=n=s=null,t}({});var _t=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,St=/([A-Z])/g;ct.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ct.cache[e[ct.expando]]:e[ct.expando],!!e&&!a(e)},data:function(e,t,i){return s(e,t,i)},removeData:function(e,t){return o(e,t)},_data:function(e,t,i){return s(e,t,i,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ct.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ct.fn.extend({data:function(e,i){var n,s,o=null,a=0,l=this[0];if(e===t){if(this.length&&(o=ct.data(l),1===l.nodeType&&!ct._data(l,"parsedAttrs"))){for(n=l.attributes;n.length>a;a++)s=n[a].name,0===s.indexOf("data-")&&(s=ct.camelCase(s.slice(5)),r(l,s,o[s]));ct._data(l,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ct.data(this,e)}):arguments.length>1?this.each(function(){ct.data(this,e,i)}):l?r(l,e,ct.data(l,e)):null},removeData:function(e){return this.each(function(){ct.removeData(this,e)})}}),ct.extend({queue:function(e,i,n){var s;return e?(i=(i||"fx")+"queue",s=ct._data(e,i),n&&(!s||ct.isArray(n)?s=ct._data(e,i,ct.makeArray(n)):s.push(n)),s||[]):t},dequeue:function(e,t){t=t||"fx";var i=ct.queue(e,t),n=i.length,s=i.shift(),o=ct._queueHooks(e,t),r=function(){ct.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete o.stop,s.call(e,r,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ct._data(e,i)||ct._data(e,i,{empty:ct.Callbacks("once memory").add(function(){ct._removeData(e,t+"queue"),ct._removeData(e,i)})})}}),ct.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),n>arguments.length?ct.queue(this[0],e):i===t?this:this.each(function(){var t=ct.queue(this,e,i);ct._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ct.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ct.dequeue(this,e)})},delay:function(e,t){return e=ct.fx?ct.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,s=1,o=ct.Deferred(),r=this,a=this.length,l=function(){--s||o.resolveWith(r,[r])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)n=ct._data(r[a],e+"queueHooks"),n&&n.empty&&(s++,n.empty.add(l));return l(),o.promise(i)}});var At,kt,Dt=/[\t\r\n\f]/g,It=/\r/g,Nt=/^(?:input|select|textarea|button|object)$/i,Ht=/^(?:a|area)$/i,Pt=/^(?:checked|selected)$/i,Lt=ct.support.getSetAttribute,Ft=ct.support.input;ct.fn.extend({attr:function(e,t){return ct.access(this,ct.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ct.removeAttr(this,e)})},prop:function(e,t){return ct.access(this,ct.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ct.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,s,o,r=0,a=this.length,l="string"==typeof e&&e;if(ct.isFunction(e))return this.each(function(t){ct(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Dt," "):" ")){for(o=0;s=t[o++];)0>n.indexOf(" "+s+" ")&&(n+=s+" ");i.className=ct.trim(n)}return this},removeClass:function(e){var t,i,n,s,o,r=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ct.isFunction(e))return this.each(function(t){ct(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Dt," "):"")){for(o=0;s=t[o++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");i.className=e?ct.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):ct.isFunction(e)?this.each(function(i){ct(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,s=ct(this),o=e.match(dt)||[];t=o[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else(i===G||"boolean"===i)&&(this.className&&ct._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ct._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Dt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,s,o=this[0];return arguments.length?(s=ct.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(o=s?e.call(this,i,ct(this).val()):e,null==o?o="":"number"==typeof o?o+="":ct.isArray(o)&&(o=ct.map(o,function(e){return null==e?"":e+""})),n=ct.valHooks[this.type]||ct.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))})):o?(n=ct.valHooks[o.type]||ct.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(It,""):null==i?"":i)):void 0}}),ct.extend({valHooks:{option:{get:function(e){var t=ct.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,o="select-one"===e.type||0>s,r=o?null:[],a=o?s+1:n.length,l=0>s?a:o?s:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==s||(ct.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&ct.nodeName(i.parentNode,"optgroup"))){if(t=ct(i).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var i,n,s=e.options,o=ct.makeArray(t),r=s.length;r--;)n=s[r],(n.selected=ct.inArray(ct(n).val(),o)>=0)&&(i=!0);return i||(e.selectedIndex=-1),o}}},attr:function(e,i,n){var s,o,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?typeof e.getAttribute===G?ct.prop(e,i,n):(1===r&&ct.isXMLDoc(e)||(i=i.toLowerCase(),s=ct.attrHooks[i]||(ct.expr.match.bool.test(i)?kt:At)),n===t?s&&"get"in s&&null!==(o=s.get(e,i))?o:(o=ct.find.attr(e,i),null==o?t:o):null!==n?s&&"set"in s&&(o=s.set(e,n,i))!==t?o:(e.setAttribute(i,n+""),n):(ct.removeAttr(e,i),t)):void 0},removeAttr:function(e,t){var i,n,s=0,o=t&&t.match(dt);if(o&&1===e.nodeType)for(;i=o[s++];)n=ct.propFix[i]||i,ct.expr.match.bool.test(i)?Ft&&Lt||!Pt.test(i)?e[n]=!1:e[ct.camelCase("default-"+i)]=e[n]=!1:ct.attr(e,i,""),e.removeAttribute(Lt?i:n)},attrHooks:{type:{set:function(e,t){if(!ct.support.radioValue&&"radio"===t&&ct.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,i,n){var s,o,r,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(r=1!==a||!ct.isXMLDoc(e),r&&(i=ct.propFix[i]||i,o=ct.propHooks[i]),n!==t?o&&"set"in o&&(s=o.set(e,n,i))!==t?s:e[i]=n:o&&"get"in o&&null!==(s=o.get(e,i))?s:e[i]):void 0},propHooks:{tabIndex:{get:function(e){var t=ct.find.attr(e,"tabindex");return t?parseInt(t,10):Nt.test(e.nodeName)||Ht.test(e.nodeName)&&e.href?0:-1}}}}),kt={set:function(e,t,i){return t===!1?ct.removeAttr(e,i):Ft&&Lt||!Pt.test(i)?e.setAttribute(!Lt&&ct.propFix[i]||i,i):e[ct.camelCase("default-"+i)]=e[i]=!0,i}},ct.each(ct.expr.match.bool.source.match(/\w+/g),function(e,i){var n=ct.expr.attrHandle[i]||ct.find.attr;ct.expr.attrHandle[i]=Ft&&Lt||!Pt.test(i)?function(e,i,s){var o=ct.expr.attrHandle[i],r=s?t:(ct.expr.attrHandle[i]=t)!=n(e,i,s)?i.toLowerCase():null;return ct.expr.attrHandle[i]=o,r}:function(e,i,n){return n?t:e[ct.camelCase("default-"+i)]?i.toLowerCase():null}}),Ft&&Lt||(ct.attrHooks.value={set:function(e,i,n){return ct.nodeName(e,"input")?(e.defaultValue=i,t):At&&At.set(e,i,n)}}),Lt||(At={set:function(e,i,n){var s=e.getAttributeNode(n);
return s||e.setAttributeNode(s=e.ownerDocument.createAttribute(n)),s.value=i+="","value"===n||i===e.getAttribute(n)?i:t}},ct.expr.attrHandle.id=ct.expr.attrHandle.name=ct.expr.attrHandle.coords=function(e,i,n){var s;return n?t:(s=e.getAttributeNode(i))&&""!==s.value?s.value:null},ct.valHooks.button={get:function(e,i){var n=e.getAttributeNode(i);return n&&n.specified?n.value:t},set:At.set},ct.attrHooks.contenteditable={set:function(e,t,i){At.set(e,""===t?!1:t,i)}},ct.each(["width","height"],function(e,i){ct.attrHooks[i]={set:function(e,n){return""===n?(e.setAttribute(i,"auto"),n):t}}})),ct.support.hrefNormalized||ct.each(["href","src"],function(e,t){ct.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ct.support.style||(ct.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ct.support.optSelected||(ct.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ct.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ct.propFix[this.toLowerCase()]=this}),ct.support.enctype||(ct.propFix.enctype="encoding"),ct.each(["radio","checkbox"],function(){ct.valHooks[this]={set:function(e,i){return ct.isArray(i)?e.checked=ct.inArray(ct(e).val(),i)>=0:t}},ct.support.checkOn||(ct.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Rt=/^(?:input|select|textarea)$/i,Mt=/^key/,Bt=/^(?:mouse|contextmenu)|click/,Yt=/^(?:focusinfocus|focusoutblur)$/,Wt=/^([^.]*)(?:\.(.+)|)$/;ct.event={global:{},add:function(e,i,n,s,o){var r,a,l,u,c,h,d,p,f,m,g,v=ct._data(e);if(v){for(n.handler&&(u=n,n=u.handler,o=u.selector),n.guid||(n.guid=ct.guid++),(a=v.events)||(a=v.events={}),(h=v.handle)||(h=v.handle=function(e){return typeof ct===G||e&&ct.event.triggered===e.type?t:ct.event.dispatch.apply(h.elem,arguments)},h.elem=e),i=(i||"").match(dt)||[""],l=i.length;l--;)r=Wt.exec(i[l])||[],f=g=r[1],m=(r[2]||"").split(".").sort(),f&&(c=ct.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=ct.event.special[f]||{},d=ct.extend({type:f,origType:g,data:s,handler:n,guid:n.guid,selector:o,needsContext:o&&ct.expr.match.needsContext.test(o),namespace:m.join(".")},u),(p=a[f])||(p=a[f]=[],p.delegateCount=0,c.setup&&c.setup.call(e,s,m,h)!==!1||(e.addEventListener?e.addEventListener(f,h,!1):e.attachEvent&&e.attachEvent("on"+f,h))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),ct.event.global[f]=!0);e=null}},remove:function(e,t,i,n,s){var o,r,a,l,u,c,h,d,p,f,m,g=ct.hasData(e)&&ct._data(e);if(g&&(c=g.events)){for(t=(t||"").match(dt)||[""],u=t.length;u--;)if(a=Wt.exec(t[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=ct.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,d=c[p]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)r=d[o],!s&&m!==r.origType||i&&i.guid!==r.guid||a&&!a.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(d.splice(o,1),r.selector&&d.delegateCount--,h.remove&&h.remove.call(e,r));l&&!d.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||ct.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ct.event.remove(e,p+t[u],i,n,!0);ct.isEmptyObject(c)&&(delete g.handle,ct._removeData(e,"events"))}},trigger:function(i,n,s,o){var r,a,l,u,c,h,d,p=[s||K],f=lt.call(i,"type")?i.type:i,m=lt.call(i,"namespace")?i.namespace.split("."):[];if(l=h=s=s||K,3!==s.nodeType&&8!==s.nodeType&&!Yt.test(f+ct.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=0>f.indexOf(":")&&"on"+f,i=i[ct.expando]?i:new ct.Event(f,"object"==typeof i&&i),i.isTrigger=o?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=s),n=null==n?[i]:ct.makeArray(n,[i]),c=ct.event.special[f]||{},o||!c.trigger||c.trigger.apply(s,n)!==!1)){if(!o&&!c.noBubble&&!ct.isWindow(s)){for(u=c.delegateType||f,Yt.test(u+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),h=l;h===(s.ownerDocument||K)&&p.push(h.defaultView||h.parentWindow||e)}for(d=0;(l=p[d++])&&!i.isPropagationStopped();)i.type=d>1?u:c.bindType||f,r=(ct._data(l,"events")||{})[i.type]&&ct._data(l,"handle"),r&&r.apply(l,n),r=a&&l[a],r&&ct.acceptData(l)&&r.apply&&r.apply(l,n)===!1&&i.preventDefault();if(i.type=f,!o&&!i.isDefaultPrevented()&&(!c._default||c._default.apply(p.pop(),n)===!1)&&ct.acceptData(s)&&a&&s[f]&&!ct.isWindow(s)){h=s[a],h&&(s[a]=null),ct.event.triggered=f;try{s[f]()}catch(g){}ct.event.triggered=t,h&&(s[a]=h)}return i.result}},dispatch:function(e){e=ct.event.fix(e);var i,n,s,o,r,a=[],l=ot.call(arguments),u=(ct._data(this,"events")||{})[e.type]||[],c=ct.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=ct.event.handlers.call(this,e,u),i=0;(o=a[i++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(s=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,n=((ct.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l),n!==t&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,i){var n,s,o,r,a=[],l=i.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],r=0;l>r;r++)s=i[r],n=s.selector+" ",o[n]===t&&(o[n]=s.needsContext?ct(n,this).index(u)>=0:ct.find(n,this,null,[u]).length),o[n]&&o.push(s);o.length&&a.push({elem:u,handlers:o})}return i.length>l&&a.push({elem:this,handlers:i.slice(l)}),a},fix:function(e){if(e[ct.expando])return e;var t,i,n,s=e.type,o=e,r=this.fixHooks[s];for(r||(this.fixHooks[s]=r=Bt.test(s)?this.mouseHooks:Mt.test(s)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,e=new ct.Event(o),t=n.length;t--;)i=n[t],e[i]=o[i];return e.target||(e.target=o.srcElement||K),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,s,o,r=i.button,a=i.fromElement;return null==e.pageX&&null!=i.clientX&&(s=e.target.ownerDocument||K,o=s.documentElement,n=s.body,e.pageX=i.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=i.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?i.toElement:a),e.which||r===t||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==c()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return ct.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return ct.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var s=ct.extend(new ct.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?ct.event.trigger(s,null,t):ct.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},ct.removeEvent=K.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===G&&(e[n]=null),e.detachEvent(n,i))},ct.Event=function(e,i){return this instanceof ct.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:u):this.type=e,i&&ct.extend(this,i),this.timeStamp=e&&e.timeStamp||ct.now(),this[ct.expando]=!0,t):new ct.Event(e,i)},ct.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ct.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ct.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,o=e.handleObj;return(!s||s!==n&&!ct.contains(n,s))&&(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),ct.support.submitBubbles||(ct.event.special.submit={setup:function(){return ct.nodeName(this,"form")?!1:(ct.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=ct.nodeName(i,"input")||ct.nodeName(i,"button")?i.form:t;n&&!ct._data(n,"submitBubbles")&&(ct.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ct._data(n,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ct.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ct.nodeName(this,"form")?!1:(ct.event.remove(this,"._submit"),t)}}),ct.support.changeBubbles||(ct.event.special.change={setup:function(){return Rt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ct.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ct.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ct.event.simulate("change",this,e,!0)})),!1):(ct.event.add(this,"beforeactivate._change",function(e){var t=e.target;Rt.test(t.nodeName)&&!ct._data(t,"changeBubbles")&&(ct.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ct.event.simulate("change",this.parentNode,e,!0)}),ct._data(t,"changeBubbles",!0))}),t)},handle:function(e){var i=e.target;return this!==i||e.isSimulated||e.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return ct.event.remove(this,"._change"),!Rt.test(this.nodeName)}}),ct.support.focusinBubbles||ct.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){ct.event.simulate(t,e.target,ct.event.fix(e),!0)};ct.event.special[t]={setup:function(){0===i++&&K.addEventListener(e,n,!0)},teardown:function(){0===--i&&K.removeEventListener(e,n,!0)}}}),ct.fn.extend({on:function(e,i,n,s,o){var r,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(r in e)this.on(r,i,n,e[r],o);return this}if(null==n&&null==s?(s=i,n=i=t):null==s&&("string"==typeof i?(s=n,n=t):(s=n,n=i,i=t)),s===!1)s=u;else if(!s)return this;return 1===o&&(a=s,s=function(e){return ct().off(e),a.apply(this,arguments)},s.guid=a.guid||(a.guid=ct.guid++)),this.each(function(){ct.event.add(this,e,s,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var s,o;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,ct(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(o in e)this.off(o,i,e[o]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=t),n===!1&&(n=u),this.each(function(){ct.event.remove(this,e,n,i)})},trigger:function(e,t){return this.each(function(){ct.event.trigger(e,t,this)})},triggerHandler:function(e,i){var n=this[0];return n?ct.event.trigger(e,i,n,!0):t}});var jt=/^.[^:#\[\.,]*$/,Ut=/^(?:parents|prev(?:Until|All))/,qt=ct.expr.match.needsContext,Vt={children:!0,contents:!0,next:!0,prev:!0};ct.fn.extend({find:function(e){var t,i=[],n=this,s=n.length;if("string"!=typeof e)return this.pushStack(ct(e).filter(function(){for(t=0;s>t;t++)if(ct.contains(n[t],this))return!0}));for(t=0;s>t;t++)ct.find(e,n[t],i);return i=this.pushStack(s>1?ct.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t,i=ct(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(ct.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(d(this,e||[],!0))},filter:function(e){return this.pushStack(d(this,e||[],!1))},is:function(e){return!!d(this,"string"==typeof e&&qt.test(e)?ct(e):e||[],!1).length},closest:function(e,t){for(var i,n=0,s=this.length,o=[],r=qt.test(e)||"string"!=typeof e?ct(e,t||this.context):0;s>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(11>i.nodeType&&(r?r.index(i)>-1:1===i.nodeType&&ct.find.matchesSelector(i,e))){i=o.push(i);break}return this.pushStack(o.length>1?ct.unique(o):o)},index:function(e){return e?"string"==typeof e?ct.inArray(this[0],ct(e)):ct.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?ct(e,t):ct.makeArray(e&&e.nodeType?[e]:e),n=ct.merge(this.get(),i);return this.pushStack(ct.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ct.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ct.dir(e,"parentNode")},parentsUntil:function(e,t,i){return ct.dir(e,"parentNode",i)},next:function(e){return h(e,"nextSibling")},prev:function(e){return h(e,"previousSibling")},nextAll:function(e){return ct.dir(e,"nextSibling")},prevAll:function(e){return ct.dir(e,"previousSibling")},nextUntil:function(e,t,i){return ct.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return ct.dir(e,"previousSibling",i)},siblings:function(e){return ct.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ct.sibling(e.firstChild)},contents:function(e){return ct.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ct.merge([],e.childNodes)}},function(e,t){ct.fn[e]=function(i,n){var s=ct.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=ct.filter(n,s)),this.length>1&&(Vt[e]||(s=ct.unique(s)),Ut.test(e)&&(s=s.reverse())),this.pushStack(s)}}),ct.extend({filter:function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ct.find.matchesSelector(n,e)?[n]:[]:ct.find.matches(e,ct.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,i,n){for(var s=[],o=e[i];o&&9!==o.nodeType&&(n===t||1!==o.nodeType||!ct(o).is(n));)1===o.nodeType&&s.push(o),o=o[i];return s},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var zt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Xt=/ jQuery\d+="(?:null|\d+)"/g,Gt=RegExp("<(?:"+zt+")[\\s/>]","i"),$t=/^\s+/,Kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Jt=/<([\w:]+)/,Qt=/<tbody/i,Zt=/<|&#?\w+;/,ei=/<(?:script|style|link)/i,ti=/^(?:checkbox|radio)$/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ni=/^$|\/(?:java|ecma)script/i,si=/^true\/(.*)/,oi=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ri={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ct.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ai=p(K),li=ai.appendChild(K.createElement("div"));ri.optgroup=ri.option,ri.tbody=ri.tfoot=ri.colgroup=ri.caption=ri.thead,ri.th=ri.td,ct.fn.extend({text:function(e){return ct.access(this,function(e){return e===t?ct.text(this):this.empty().append((this[0]&&this[0].ownerDocument||K).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?ct.filter(e,this):this,s=0;null!=(i=n[s]);s++)t||1!==i.nodeType||ct.cleanData(E(i)),i.parentNode&&(t&&ct.contains(i.ownerDocument,i)&&v(E(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ct.cleanData(E(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ct.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ct.clone(this,e,t)})},html:function(e){return ct.access(this,function(e){var i=this[0]||{},n=0,s=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(Xt,""):t;if(!("string"!=typeof e||ei.test(e)||!ct.support.htmlSerialize&&Gt.test(e)||!ct.support.leadingWhitespace&&$t.test(e)||ri[(Jt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Kt,"<$1></$2>");try{for(;s>n;n++)i=this[n]||{},1===i.nodeType&&(ct.cleanData(E(i,!1)),i.innerHTML=e);i=0}catch(o){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ct.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(i){var n=e[t++],s=e[t++];s&&(n&&n.parentNode!==s&&(n=this.nextSibling),ct(this).remove(),s.insertBefore(i,n))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,i){e=nt.apply([],e);var n,s,o,r,a,l,u=0,c=this.length,h=this,d=c-1,p=e[0],f=ct.isFunction(p);if(f||!(1>=c||"string"!=typeof p||ct.support.checkClone)&&ii.test(p))return this.each(function(n){var s=h.eq(n);f&&(e[0]=p.call(this,n,s.html())),s.domManip(e,t,i)});if(c&&(l=ct.buildFragment(e,this[0].ownerDocument,!1,!i&&this),n=l.firstChild,1===l.childNodes.length&&(l=n),n)){for(r=ct.map(E(l,"script"),m),o=r.length;c>u;u++)s=l,u!==d&&(s=ct.clone(s,!0,!0),o&&ct.merge(r,E(s,"script"))),t.call(this[u],s,u);if(o)for(a=r[r.length-1].ownerDocument,ct.map(r,g),u=0;o>u;u++)s=r[u],ni.test(s.type||"")&&!ct._data(s,"globalEval")&&ct.contains(a,s)&&(s.src?ct._evalUrl(s.src):ct.globalEval((s.text||s.textContent||s.innerHTML||"").replace(oi,"")));l=n=null}return this}}),ct.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ct.fn[e]=function(e){for(var i,n=0,s=[],o=ct(e),r=o.length-1;r>=n;n++)i=n===r?this:this.clone(!0),ct(o[n])[t](i),st.apply(s,i.get());return this.pushStack(s)}}),ct.extend({clone:function(e,t,i){var n,s,o,r,a,l=ct.contains(e.ownerDocument,e);if(ct.support.html5Clone||ct.isXMLDoc(e)||!Gt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(li.innerHTML=e.outerHTML,li.removeChild(o=li.firstChild)),!(ct.support.noCloneEvent&&ct.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ct.isXMLDoc(e)))for(n=E(o),a=E(e),r=0;null!=(s=a[r]);++r)n[r]&&y(s,n[r]);if(t)if(i)for(a=a||E(e),n=n||E(o),r=0;null!=(s=a[r]);r++)b(s,n[r]);else b(e,o);return n=E(o,"script"),n.length>0&&v(n,!l&&E(e,"script")),n=a=s=null,o},buildFragment:function(e,t,i,n){for(var s,o,r,a,l,u,c,h=e.length,d=p(t),f=[],m=0;h>m;m++)if(o=e[m],o||0===o)if("object"===ct.type(o))ct.merge(f,o.nodeType?[o]:o);else if(Zt.test(o)){for(a=a||d.appendChild(t.createElement("div")),l=(Jt.exec(o)||["",""])[1].toLowerCase(),c=ri[l]||ri._default,a.innerHTML=c[1]+o.replace(Kt,"<$1></$2>")+c[2],s=c[0];s--;)a=a.lastChild;if(!ct.support.leadingWhitespace&&$t.test(o)&&f.push(t.createTextNode($t.exec(o)[0])),!ct.support.tbody)for(o="table"!==l||Qt.test(o)?"<table>"!==c[1]||Qt.test(o)?0:a:a.firstChild,s=o&&o.childNodes.length;s--;)ct.nodeName(u=o.childNodes[s],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(ct.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(t.createTextNode(o));for(a&&d.removeChild(a),ct.support.appendChecked||ct.grep(E(f,"input"),C),m=0;o=f[m++];)if((!n||-1===ct.inArray(o,n))&&(r=ct.contains(o.ownerDocument,o),a=E(d.appendChild(o),"script"),r&&v(a),i))for(s=0;o=a[s++];)ni.test(o.type||"")&&i.push(o);return a=null,d},cleanData:function(e,t){for(var i,n,s,o,r=0,a=ct.expando,l=ct.cache,u=ct.support.deleteExpando,c=ct.event.special;null!=(i=e[r]);r++)if((t||ct.acceptData(i))&&(s=i[a],o=s&&l[s])){if(o.events)for(n in o.events)c[n]?ct.event.remove(i,n):ct.removeEvent(i,n,o.handle);l[s]&&(delete l[s],u?delete i[a]:typeof i.removeAttribute!==G?i.removeAttribute(a):i[a]=null,tt.push(s))}},_evalUrl:function(e){return ct.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ct.fn.extend({wrapAll:function(e){if(ct.isFunction(e))return this.each(function(t){ct(this).wrapAll(e.call(this,t))});if(this[0]){var t=ct(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ct.isFunction(e)?this.each(function(t){ct(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ct(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ct.isFunction(e);return this.each(function(i){ct(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){ct.nodeName(this,"body")||ct(this).replaceWith(this.childNodes)}).end()}});var ui,ci,hi,di=/alpha\([^)]*\)/i,pi=/opacity\s*=\s*([^)]*)/,fi=/^(top|right|bottom|left)$/,mi=/^(none|table(?!-c[ea]).+)/,gi=/^margin/,vi=RegExp("^("+ht+")(.*)$","i"),bi=RegExp("^("+ht+")(?!px)[a-z%]+$","i"),yi=RegExp("^([+-])=("+ht+")","i"),Ei={BODY:"block"},Ci={position:"absolute",visibility:"hidden",display:"block"},wi={letterSpacing:0,fontWeight:400},xi=["Top","Right","Bottom","Left"],Oi=["Webkit","O","Moz","ms"];ct.fn.extend({css:function(e,i){return ct.access(this,function(e,i,n){var s,o,r={},a=0;if(ct.isArray(i)){for(o=ci(e),s=i.length;s>a;a++)r[i[a]]=ct.css(e,i[a],!1,o);return r}return n!==t?ct.style(e,i,n):ct.css(e,i)},e,i,arguments.length>1)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){x(this)?ct(this).show():ct(this).hide()})}}),ct.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=hi(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ct.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,l=ct.camelCase(i),u=e.style;if(i=ct.cssProps[l]||(ct.cssProps[l]=w(u,l)),a=ct.cssHooks[i]||ct.cssHooks[l],n===t)return a&&"get"in a&&(o=a.get(e,!1,s))!==t?o:u[i];if(r=typeof n,"string"===r&&(o=yi.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(ct.css(e,i)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||ct.cssNumber[l]||(n+="px"),ct.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(u[i]="inherit"),a&&"set"in a&&(n=a.set(e,n,s))===t)))try{u[i]=n}catch(c){}}},css:function(e,i,n,s){var o,r,a,l=ct.camelCase(i);return i=ct.cssProps[l]||(ct.cssProps[l]=w(e.style,l)),a=ct.cssHooks[i]||ct.cssHooks[l],a&&"get"in a&&(r=a.get(e,!0,n)),r===t&&(r=hi(e,i,s)),"normal"===r&&i in wi&&(r=wi[i]),""===n||n?(o=parseFloat(r),n===!0||ct.isNumeric(o)?o||0:r):r}}),e.getComputedStyle?(ci=function(t){return e.getComputedStyle(t,null)},hi=function(e,i,n){var s,o,r,a=n||ci(e),l=a?a.getPropertyValue(i)||a[i]:t,u=e.style;return a&&(""!==l||ct.contains(e.ownerDocument,e)||(l=ct.style(e,i)),bi.test(l)&&gi.test(i)&&(s=u.width,o=u.minWidth,r=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=a.width,u.width=s,u.minWidth=o,u.maxWidth=r)),l}):K.documentElement.currentStyle&&(ci=function(e){return e.currentStyle},hi=function(e,i,n){var s,o,r,a=n||ci(e),l=a?a[i]:t,u=e.style;return null==l&&u&&u[i]&&(l=u[i]),bi.test(l)&&!fi.test(i)&&(s=u.left,o=e.runtimeStyle,r=o&&o.left,r&&(o.left=e.currentStyle.left),u.left="fontSize"===i?"1em":l,l=u.pixelLeft+"px",u.left=s,r&&(o.left=r)),""===l?"auto":l}),ct.each(["height","width"],function(e,i){ct.cssHooks[i]={get:function(e,n,s){return n?0===e.offsetWidth&&mi.test(ct.css(e,"display"))?ct.swap(e,Ci,function(){return S(e,i,s)}):S(e,i,s):t},set:function(e,t,n){var s=n&&ci(e);return T(e,t,n?_(e,i,n,ct.support.boxSizing&&"border-box"===ct.css(e,"boxSizing",!1,s),s):0)}}}),ct.support.opacity||(ct.cssHooks.opacity={get:function(e,t){return pi.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,s=ct.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===ct.trim(o.replace(di,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=di.test(o)?o.replace(di,s):o+" "+s)}}),ct(function(){ct.support.reliableMarginRight||(ct.cssHooks.marginRight={get:function(e,i){return i?ct.swap(e,{display:"inline-block"},hi,[e,"marginRight"]):t}}),!ct.support.pixelPosition&&ct.fn.position&&ct.each(["top","left"],function(e,i){ct.cssHooks[i]={get:function(e,n){return n?(n=hi(e,i),bi.test(n)?ct(e).position()[i]+"px":n):t}}})}),ct.expr&&ct.expr.filters&&(ct.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!ct.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ct.css(e,"display"))},ct.expr.filters.visible=function(e){return!ct.expr.filters.hidden(e)}),ct.each({margin:"",padding:"",border:"Width"},function(e,t){ct.cssHooks[e+t]={expand:function(i){for(var n=0,s={},o="string"==typeof i?i.split(" "):[i];4>n;n++)s[e+xi[n]+t]=o[n]||o[n-2]||o[0];return s}},gi.test(e)||(ct.cssHooks[e+t].set=T)});var Ti=/%20/g,_i=/\[\]$/,Si=/\r?\n/g,Ai=/^(?:submit|button|image|reset|file)$/i,ki=/^(?:input|select|textarea|keygen)/i;ct.fn.extend({serialize:function(){return ct.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ct.prop(this,"elements");return e?ct.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ct(this).is(":disabled")&&ki.test(this.nodeName)&&!Ai.test(e)&&(this.checked||!ti.test(e))}).map(function(e,t){var i=ct(this).val();return null==i?null:ct.isArray(i)?ct.map(i,function(e){return{name:t.name,value:e.replace(Si,"\r\n")}}):{name:t.name,value:i.replace(Si,"\r\n")}}).get()}}),ct.param=function(e,i){var n,s=[],o=function(e,t){t=ct.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=ct.ajaxSettings&&ct.ajaxSettings.traditional),ct.isArray(e)||e.jquery&&!ct.isPlainObject(e))ct.each(e,function(){o(this.name,this.value)});else for(n in e)D(n,e[n],i,o);return s.join("&").replace(Ti,"+")},ct.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ct.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ct.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Di,Ii,Ni=ct.now(),Hi=/\?/,Pi=/#.*$/,Li=/([?&])_=[^&]*/,Fi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ri=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mi=/^(?:GET|HEAD)$/,Bi=/^\/\//,Yi=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Wi=ct.fn.load,ji={},Ui={},qi="*/".concat("*");try{Ii=$.href}catch(Vi){Ii=K.createElement("a"),Ii.href="",Ii=Ii.href}Di=Yi.exec(Ii.toLowerCase())||[],ct.fn.load=function(e,i,n){if("string"!=typeof e&&Wi)return Wi.apply(this,arguments);var s,o,r,a=this,l=e.indexOf(" ");return l>=0&&(s=e.slice(l,e.length),e=e.slice(0,l)),ct.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(r="POST"),a.length>0&&ct.ajax({url:e,type:r,dataType:"html",data:i}).done(function(e){o=arguments,a.html(s?ct("<div>").append(ct.parseHTML(e)).find(s):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},ct.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ct.fn[t]=function(e){return this.on(t,e)}}),ct.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ii,type:"GET",isLocal:Ri.test(Di[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ct.parseJSON,"text xml":ct.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,ct.ajaxSettings),t):H(ct.ajaxSettings,e)},ajaxPrefilter:I(ji),ajaxTransport:I(Ui),ajax:function(e,i){function n(e,i,n,s){var o,h,b,y,C,x=i;2!==E&&(E=2,l&&clearTimeout(l),c=t,a=s||"",w.readyState=e>0?4:0,o=e>=200&&300>e||304===e,n&&(y=P(d,w,n)),y=L(d,y,w,o),o?(d.ifModified&&(C=w.getResponseHeader("Last-Modified"),C&&(ct.lastModified[r]=C),C=w.getResponseHeader("etag"),C&&(ct.etag[r]=C)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=y.state,h=y.data,b=y.error,o=!b)):(b=x,(e||!x)&&(x="error",0>e&&(e=0))),w.status=e,w.statusText=(i||x)+"",o?m.resolveWith(p,[h,x,w]):m.rejectWith(p,[w,x,b]),w.statusCode(v),v=t,u&&f.trigger(o?"ajaxSuccess":"ajaxError",[w,d,o?h:b]),g.fireWith(p,[w,x]),u&&(f.trigger("ajaxComplete",[w,d]),--ct.active||ct.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var s,o,r,a,l,u,c,h,d=ct.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ct(p):ct.event,m=ct.Deferred(),g=ct.Callbacks("once memory"),v=d.statusCode||{},b={},y={},E=0,C="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===E){if(!h)for(h={};t=Fi.exec(a);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===E?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return E||(e=y[i]=y[i]||e,b[e]=t),this},overrideMimeType:function(e){return E||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>E)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||C;return c&&c.abort(t),n(0,t),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||Ii)+"").replace(Pi,"").replace(Bi,Di[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=ct.trim(d.dataType||"*").toLowerCase().match(dt)||[""],null==d.crossDomain&&(s=Yi.exec(d.url.toLowerCase()),d.crossDomain=!(!s||s[1]===Di[1]&&s[2]===Di[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(Di[3]||("http:"===Di[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ct.param(d.data,d.traditional)),N(ji,d,i,w),2===E)return w;u=d.global,u&&0===ct.active++&&ct.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Mi.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(Hi.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Li.test(r)?r.replace(Li,"$1_="+Ni++):r+(Hi.test(r)?"&":"?")+"_="+Ni++)),d.ifModified&&(ct.lastModified[r]&&w.setRequestHeader("If-Modified-Since",ct.lastModified[r]),ct.etag[r]&&w.setRequestHeader("If-None-Match",ct.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+qi+"; q=0.01":""):d.accepts["*"]);
for(o in d.headers)w.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(p,w,d)===!1||2===E))return w.abort();C="abort";for(o in{success:1,error:1,complete:1})w[o](d[o]);if(c=N(Ui,d,i,w)){w.readyState=1,u&&f.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},d.timeout));try{E=1,c.send(b,n)}catch(x){if(!(2>E))throw x;n(-1,x)}}else n(-1,"No Transport");return w},getJSON:function(e,t,i){return ct.get(e,t,i,"json")},getScript:function(e,i){return ct.get(e,t,i,"script")}}),ct.each(["get","post"],function(e,i){ct[i]=function(e,n,s,o){return ct.isFunction(n)&&(o=o||s,s=n,n=t),ct.ajax({url:e,type:i,dataType:o,data:n,success:s})}}),ct.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ct.globalEval(e),e}}}),ct.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ct.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=K.head||ct("head")[0]||K.documentElement;return{send:function(t,s){i=K.createElement("script"),i.async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||s(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(t,!0)}}}});var zi=[],Xi=/(=)\?(?=&|$)|\?\?/;ct.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zi.pop()||ct.expando+"_"+Ni++;return this[e]=!0,e}}),ct.ajaxPrefilter("json jsonp",function(i,n,s){var o,r,a,l=i.jsonp!==!1&&(Xi.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xi.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(o=i.jsonpCallback=ct.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Xi,"$1"+o):i.jsonp!==!1&&(i.url+=(Hi.test(i.url)?"&":"?")+i.jsonp+"="+o),i.converters["script json"]=function(){return a||ct.error(o+" was not called"),a[0]},i.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},s.always(function(){e[o]=r,i[o]&&(i.jsonpCallback=n.jsonpCallback,zi.push(o)),a&&ct.isFunction(r)&&r(a[0]),a=r=t}),"script"):t});var Gi,$i,Ki=0,Ji=e.ActiveXObject&&function(){var e;for(e in Gi)Gi[e](t,!0)};ct.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&F()||R()}:F,$i=ct.ajaxSettings.xhr(),ct.support.cors=!!$i&&"withCredentials"in $i,$i=ct.support.ajax=!!$i,$i&&ct.ajaxTransport(function(i){if(!i.crossDomain||ct.support.cors){var n;return{send:function(s,o){var r,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(a in s)l.setRequestHeader(a,s[a])}catch(u){}l.send(i.hasContent&&i.data||null),n=function(e,s){var a,u,c,h;try{if(n&&(s||4===l.readyState))if(n=t,r&&(l.onreadystatechange=ct.noop,Ji&&delete Gi[r]),s)4!==l.readyState&&l.abort();else{h={},a=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(h.text=l.responseText);try{c=l.statusText}catch(d){c=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=h.text?200:404}}catch(p){s||o(-1,p)}h&&o(a,c,h,u)},i.async?4===l.readyState?setTimeout(n):(r=++Ki,Ji&&(Gi||(Gi={},ct(e).unload(Ji)),Gi[r]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(t,!0)}}}});var Qi,Zi,en=/^(?:toggle|show|hide)$/,tn=RegExp("^(?:([+-])=|)("+ht+")([a-z%]*)$","i"),nn=/queueHooks$/,sn=[j],on={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),s=tn.exec(t),o=s&&s[3]||(ct.cssNumber[e]?"":"px"),r=(ct.cssNumber[e]||"px"!==o&&+n)&&tn.exec(ct.css(i.elem,e)),a=1,l=20;if(r&&r[3]!==o){o=o||r[3],s=s||[],r=+n||1;do a=a||".5",r/=a,ct.style(i.elem,e,r+o);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return s&&(r=i.start=+r||+n||0,i.unit=o,i.end=s[1]?r+(s[1]+1)*s[2]:+s[2]),i}]};ct.Animation=ct.extend(Y,{tweener:function(e,t){ct.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,s=e.length;s>n;n++)i=e[n],on[i]=on[i]||[],on[i].unshift(t)},prefilter:function(e,t){t?sn.unshift(e):sn.push(e)}}),ct.Tween=U,U.prototype={constructor:U,init:function(e,t,i,n,s,o){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ct.cssNumber[i]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,i=U.propHooks[this.prop];return this.pos=t=this.options.duration?ct.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ct.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ct.fx.step[e.prop]?ct.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ct.cssProps[e.prop]]||ct.cssHooks[e.prop])?ct.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ct.each(["toggle","show","hide"],function(e,t){var i=ct.fn[t];ct.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(q(t,!0),e,n,s)}}),ct.fn.extend({fadeTo:function(e,t,i,n){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=ct.isEmptyObject(e),o=ct.speed(t,i,n),r=function(){var t=Y(this,ct.extend({},e),o);(s||ct._data(this,"finish"))&&t.stop(!0)};return r.finish=r,s||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(e,i,n){var s=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ct.timers,r=ct._data(this);if(i)r[i]&&r[i].stop&&s(r[i]);else for(i in r)r[i]&&r[i].stop&&nn.test(i)&&s(r[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&ct.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=ct._data(this),n=i[e+"queue"],s=i[e+"queueHooks"],o=ct.timers,r=n?n.length:0;for(i.finish=!0,ct.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;r>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),ct.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ct.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),ct.speed=function(e,t,i){var n=e&&"object"==typeof e?ct.extend({},e):{complete:i||!i&&t||ct.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ct.isFunction(t)&&t};return n.duration=ct.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ct.fx.speeds?ct.fx.speeds[n.duration]:ct.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ct.isFunction(n.old)&&n.old.call(this),n.queue&&ct.dequeue(this,n.queue)},n},ct.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ct.timers=[],ct.fx=U.prototype.init,ct.fx.tick=function(){var e,i=ct.timers,n=0;for(Qi=ct.now();i.length>n;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||ct.fx.stop(),Qi=t},ct.fx.timer=function(e){e()&&ct.timers.push(e)&&ct.fx.start()},ct.fx.interval=13,ct.fx.start=function(){Zi||(Zi=setInterval(ct.fx.tick,ct.fx.interval))},ct.fx.stop=function(){clearInterval(Zi),Zi=null},ct.fx.speeds={slow:600,fast:200,_default:400},ct.fx.step={},ct.expr&&ct.expr.filters&&(ct.expr.filters.animated=function(e){return ct.grep(ct.timers,function(t){return e===t.elem}).length}),ct.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ct.offset.setOffset(this,e,t)});var i,n,s={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(i=r.documentElement,ct.contains(i,o)?(typeof o.getBoundingClientRect!==G&&(s=o.getBoundingClientRect()),n=V(r),{top:s.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:s.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):s):void 0},ct.offset={setOffset:function(e,t,i){var n=ct.css(e,"position");"static"===n&&(e.style.position="relative");var s,o,r=ct(e),a=r.offset(),l=ct.css(e,"top"),u=ct.css(e,"left"),c=("absolute"===n||"fixed"===n)&&ct.inArray("auto",[l,u])>-1,h={},d={};c?(d=r.position(),s=d.top,o=d.left):(s=parseFloat(l)||0,o=parseFloat(u)||0),ct.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+o),"using"in t?t.using.call(e,h):r.css(h)}},ct.fn.extend({position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===ct.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ct.nodeName(e[0],"html")||(i=e.offset()),i.top+=ct.css(e[0],"borderTopWidth",!0),i.left+=ct.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ct.css(n,"marginTop",!0),left:t.left-i.left-ct.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J;e&&!ct.nodeName(e,"html")&&"static"===ct.css(e,"position");)e=e.offsetParent;return e||J})}}),ct.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);ct.fn[e]=function(s){return ct.access(this,function(e,s,o){var r=V(e);return o===t?r?i in r?r[i]:r.document.documentElement[s]:e[s]:(r?r.scrollTo(n?ct(r).scrollLeft():o,n?o:ct(r).scrollTop()):e[s]=o,t)},e,s,arguments.length,null)}}),ct.each({Height:"height",Width:"width"},function(e,i){ct.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,s){ct.fn[s]=function(s,o){var r=arguments.length&&(n||"boolean"!=typeof s),a=n||(s===!0||o===!0?"margin":"border");return ct.access(this,function(i,n,s){var o;return ct.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(o=i.documentElement,Math.max(i.body["scroll"+e],o["scroll"+e],i.body["offset"+e],o["offset"+e],o["client"+e])):s===t?ct.css(i,n,a):ct.style(i,n,s,a)},i,r?s:t,r,null)}})}),ct.fn.size=function(){return this.length},ct.fn.andSelf=ct.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ct:(e.jQuery=e.$=ct,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ct}))}(window),!function(e,t,i){"function"==typeof define&&define.amd?define(["jquery"],function(n){return i(n,e,t),n.mobile}):i(e.jQuery,e,t)}(this,document,function(e,t,i,n){!function(e){e.mobile={}}(e),function(e,t,n){var s={};e.mobile=e.extend(e.mobile,{version:"1.3.2",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},window:e(t),document:e(i),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(i){"number"!==e.type(i)&&(i=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,i),e.mobile.document.trigger("silentscroll",{x:0,y:i})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:s,nsNormalize:function(t){return t?s[t]||(s[t]=e.camelCase(e.mobile.ns+t)):void 0},getInheritedTheme:function(e,t){for(var i,n,s=e[0],o="",r=/ui-(bar|body|overlay)-([a-z])\b/;s&&(i=s.className||"",!(i&&(n=r.exec(i))&&(o=n[2])));)s=s.parentNode;return o||t||"a"},closestPageData:function(e){return e.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page")},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,i){if(!e.mobile.ignoreContentEnabled)return t;for(var n,s,o,r=t.length,a=e(),l=0;r>l;l++){for(s=t.eq(l),o=!1,n=t[l];n;){var u=n.getAttribute?n.getAttribute("data-"+e.mobile.ns+i):"";if("false"===u){o=!0;break}n=n.parentNode}o||(a=a.add(s))}return a},getScreenHeight:function(){return t.innerHeight||e.mobile.window.height()}},e.mobile),e.fn.jqmData=function(t,i){var s;return"undefined"!=typeof t&&(t&&(t=e.mobile.nsNormalize(t)),s=arguments.length<2||i===n?this.data(t):this.data(t,i)),s},e.jqmData=function(t,i,n){var s;return"undefined"!=typeof i&&(s=e.data(t,i?e.mobile.nsNormalize(i):i,n)),s},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,i){return e.removeData(t,e.mobile.nsNormalize(i))},e.fn.removeWithDependents=function(){e.removeWithDependents(this)},e.removeWithDependents=function(t){var i=e(t);(i.jqmData("dependents")||e()).remove(),i.remove()},e.fn.addDependents=function(t){e.addDependents(e(this),t)},e.addDependents=function(t,i){var n=e(t).jqmData("dependents")||e();e(t).jqmData("dependents",e.merge(n,i))},e.fn.getEncodedText=function(){return e("<div/>").text(e(this).text()).html()},e.fn.jqmEnhanceable=function(){return e.mobile.enhanceable(this)},e.fn.jqmHijackable=function(){return e.mobile.hijackable(this)};var o=e.find,r=/:jqmData\(([^)]*)\)/g;e.find=function(t,i,n,s){return t=t.replace(r,"[data-"+(e.mobile.ns||"")+"$1]"),o.call(this,t,i,n,s)},e.extend(e.find,o),e.find.matches=function(t,i){return e.find(t,null,null,i)},e.find.matchesSelector=function(t,i){return e.find(i,null,null,[t]).length>0}}(e,this),function(e,t){var i=0,n=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(o){}s(t)},e.widget=function(t,i,n){var s,o,r,a,l=t.split(".")[0];t=t.split(".")[1],s=l+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[l]=e[l]||{},o=e[l][t],r=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new r(e,t)},e.extend(r,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,s){e.isFunction(s)&&(n[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=o,t}}())}),r.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:t},n,{constructor:r,namespace:l,widgetName:t,widgetFullName:s}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r)},e.widget.extend=function(i){for(var s,o,r=n.call(arguments,1),a=0,l=r.length;l>a;a++)for(s in r[a])o=r[a][s],r[a].hasOwnProperty(s)&&o!==t&&(i[s]=e.isPlainObject(o)?e.isPlainObject(i[s])?e.widget.extend({},i[s],o):e.widget.extend({},o):o);return i},e.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;e.fn[i]=function(r){var a="string"==typeof r,l=n.call(arguments,1),u=this;return r=!a&&l.length?e.widget.extend.apply(null,[r].concat(l)):r,a?this.each(function(){var n,s=e.data(this,o);return s?e.isFunction(s[r])&&"_"!==r.charAt(0)?(n=s[r].apply(s,l),n!==s&&n!==t?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(r||{})._init():e.data(this,o,new s(r,this))}),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var s,o,r,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},s=i.split("."),i=s.shift(),s.length){for(o=a[i]=e.widget.extend({},this.options[i]),r=0;r<s.length-1;r++)o[s[r]]=o[s[r]]||{},o=o[s[r]];if(i=s.pop(),n===t)return o[i]===t?null:o[i];o[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var s,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,r){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?o[r]:r).apply(o,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?s.delegate(c,u,a):i.bind(u,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,o,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&e.effects&&e.effects.effect[a]?n[t](s):a!==t&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}})}(e),function(e,t){e.widget("mobile.widget",{_createWidget:function(){e.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var i=this.element,n={};return e.each(this.options,function(e){var s=i.jqmData(e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}));s!==t&&(n[e]=s)}),n},enhanceWithin:function(t,i){this.enhance(e(this.options.initSelector,e(t)),i)},enhance:function(t,i){var n,s,o=e(t);o=e.mobile.enhanceable(o),i&&o.length&&(n=e.mobile.closestPageData(o),s=n&&n.keepNativeSelector()||"",o=o.not(s)),o[this.widgetName]()},raise:function(e){throw"Widget ["+this.widgetName+"]: "+e}})}(e),function(e){e.extend(e.mobile,{loadingMessageTextVisible:n,loadingMessageTheme:n,loadingMessage:n,showPageLoadingMsg:function(t,i,n){e.mobile.loading("show",t,i,n)},hidePageLoadingMsg:function(){e.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments)}});var t="ui-loader",i=e("html"),s=e.mobile.window;e.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+t+"'>"+"<span class='ui-icon ui-icon-loading'></span>"+"<h1></h1>"+"</div>",fakeFixLoader:function(){var t=e("."+e.mobile.activeBtnClass).first();this.element.css({top:e.support.scrollTop&&s.scrollTop()+s.height()/2||t.length&&t.offset().top||100})},checkLoaderPosition:function(){var t=this.element.offset(),i=s.scrollTop(),n=e.mobile.getScreenHeight();(t.top<i||t.top-i>n)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),s.unbind("scroll",this.checkLoaderPosition).bind("scroll",e.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(e(this.defaultHtml).html())},show:function(o,r,a){var l,u,c;this.resetHtml(),"object"===e.type(o)?(c=e.extend({},this.options,o),o=c.theme||e.mobile.loadingMessageTheme):(c=this.options,o=o||e.mobile.loadingMessageTheme||c.theme),u=r||e.mobile.loadingMessage||c.text,i.addClass("ui-loading"),(e.mobile.loadingMessage!==!1||c.html)&&(l=e.mobile.loadingMessageTextVisible!==n?e.mobile.loadingMessageTextVisible:c.textVisible,this.element.attr("class",t+" ui-corner-all ui-body-"+o+" ui-loader-"+(l||r||o.text?"verbose":"default")+(c.textonly||a?" ui-loader-textonly":"")),c.html?this.element.html(c.html):this.element.find("h1").text(u),this.element.appendTo(e.mobile.pageContainer),this.checkLoaderPosition(),s.bind("scroll",e.proxy(this.checkLoaderPosition,this)))},hide:function(){i.removeClass("ui-loading"),e.mobile.loadingMessage&&this.element.removeClass("ui-loader-fakefix"),e.mobile.window.unbind("scroll",this.fakeFixLoader),e.mobile.window.unbind("scroll",this.checkLoaderPosition)}}),s.bind("pagecontainercreate",function(){e.mobile.loaderWidget=e.mobile.loaderWidget||e(e.mobile.loader.prototype.defaultHtml).loader()})}(e,this),function(e,t,n){function s(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var o,r="hashchange",a=i,l=e.event.special,u=a.documentMode,c="on"+r in t&&(u===n||u>7);e.fn[r]=function(e){return e?this.bind(r,e):this.trigger(r)},e.fn[r].delay=50,l[r]=e.extend(l[r],{setup:function(){return c?!1:(e(o.start),void 0)},teardown:function(){return c?!1:(e(o.stop),void 0)}}),o=function(){function i(){var n=s(),a=p(u);n!==u?(d(u=n,a),e(t).trigger(r)):a!==u&&(location.href=location.href.replace(/#.*/,"")+a),o=setTimeout(i,e.fn[r].delay)}var o,l={},u=s(),h=function(e){return e},d=h,p=h;return l.start=function(){o||i()},l.stop=function(){o&&clearTimeout(o),o=n},t.attachEvent&&!t.addEventListener&&!c&&function(){var t,n;l.start=function(){t||(n=e.fn[r].src,n=n&&n+s(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){n||d(s()),i()}).attr("src",n||"javascript:0").insertAfter("body")[0].contentWindow,a.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=a.title)}catch(e){}})},l.stop=h,p=function(){return s(t.location.href)},d=function(i,n){var s=t.document,o=e.fn[r].domain;i!==n&&(s.title=a.title,s.open(),o&&s.write('<script>document.domain="'+o+'"</script>'),s.close(),t.location.hash=i)}}(),l}()}(e,this),function(e){t.matchMedia=t.matchMedia||function(e){var t,i=e.documentElement,n=i.firstElementChild||i.firstChild,s=e.createElement("body"),o=e.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(o),function(e){return o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(s,n),t=42===o.offsetWidth,i.removeChild(s),{matches:t,media:e}}}(i),e.mobile.media=function(e){return t.matchMedia(e).matches}}(e),function(e){var t={touch:"ontouchend"in i};e.mobile.support=e.mobile.support||{},e.extend(e.support,t),e.extend(e.mobile.support,t)}(e),function(e){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(e),function(e,n){function s(e){var t=e.charAt(0).toUpperCase()+e.substr(1),i=(e+" "+p.join(t+" ")+t).split(" ");for(var s in i)if(d[i[s]]!==n)return!0}function o(e,t,n){for(var s,o=i.createElement("div"),r=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},a=function(e){return""===e?"":"-"+e.charAt(0).toLowerCase()+e.substr(1)+"-"},l=function(i){var n=a(i)+e+": "+t+";",l=r(i),u=l+(""===l?e:r(e));o.setAttribute("style",n),o.style[u]&&(s=!0)},u=n?n:p,c=0;c<u.length;c++)l(u[c]);return!!s}function r(){var s="transform-3d",o=e.mobile.media("(-"+p.join("-"+s+"),(-")+"-"+s+"),("+s+")");if(o)return!!o;var r=i.createElement("div"),a={MozTransform:"-moz-transform",transform:"transform"};h.append(r);for(var l in a)r.style[l]!==n&&(r.style[l]="translate3d( 100px, 1px, 1px )",o=t.getComputedStyle(r).getPropertyValue(a[l]));return!!o&&"none"!==o}function a(){var t,i,n=location.protocol+"//"+location.host+location.pathname+"ui-dir/",s=e("head base"),o=null,r="";return s.length?r=s.attr("href"):s=o=e("<base>",{href:n}).appendTo("head"),t=e("<a href='testurl' />").prependTo(h),i=t[0].href,s[0].href=r||location.pathname,o&&o.remove(),0===i.indexOf(n)}function l(){var e,n=i.createElement("x"),s=i.documentElement,o=t.getComputedStyle;return"pointerEvents"in n.style?(n.style.pointerEvents="auto",n.style.pointerEvents="x",s.appendChild(n),e=o&&"auto"===o(n,"").pointerEvents,s.removeChild(n),!!e):!1}function u(){var e=i.createElement("div");return"undefined"!=typeof e.getBoundingClientRect}function c(){var e=t,i=navigator.userAgent,n=navigator.platform,s=i.match(/AppleWebKit\/([0-9]+)/),o=!!s&&s[1],r=i.match(/Fennec\/([0-9]+)/),a=!!r&&r[1],l=i.match(/Opera Mobi\/([0-9]+)/),u=!!l&&l[1];return(n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1||n.indexOf("iPod")>-1)&&o&&534>o||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||l&&7458>u||i.indexOf("Android")>-1&&o&&533>o||a&&6>a||"palmGetResource"in t&&o&&534>o||i.indexOf("MeeGo")>-1&&i.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var h=e("<body>").prependTo("html"),d=h[0].style,p=["Webkit","Moz","O"],f="palmGetResource"in t,m=t.opera,g=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),v=t.blackberry&&!s("-webkit-transform");e.extend(e.mobile,{browser:{}}),e.mobile.browser.oldIE=function(){var e=3,t=i.createElement("div"),n=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->";while(n[0]);return e>4?e:!e}(),e.extend(e.support,{cssTransitions:"WebKitTransitionEvent"in t||o("transition","height 100ms linear",["Webkit","Moz",""])&&!e.mobile.browser.oldIE&&!m,pushState:"pushState"in history&&"replaceState"in history&&!(t.navigator.userAgent.indexOf("Firefox")>=0&&t.top!==t)&&-1===t.navigator.userAgent.search(/CriOS/),mediaquery:e.mobile.media("only all"),cssPseudoElement:!!s("content"),touchOverflow:!!s("overflowScrolling"),cssTransform3d:r(),boxShadow:!!s("boxShadow")&&!v,fixedPosition:c(),scrollTop:("pageXOffset"in t||"scrollTop"in i.documentElement||"scrollTop"in h[0])&&!f&&!g,dynamicBaseTag:a(),cssPointerEvents:l(),boundingRect:u()}),h.remove();var b=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();e.mobile.gradeA=function(){return(e.support.mediaquery||e.mobile.browser.oldIE&&e.mobile.browser.oldIE>=7)&&(e.support.boundingRect||null!==e.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||g||b,b&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-mobile-nosupport-boxshadow")}(e),function(e,t){var i,n=e.mobile.window;e.event.special.navigate=i={bound:!1,pushStateEnabled:!0,originalEventName:t,isPushStateEnabled:function(){return e.support.pushState&&e.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return e.mobile.hashListeningEnabled===!0},popstate:function(t){var i=new e.Event("navigate"),s=new e.Event("beforenavigate"),o=t.originalEvent.state||{};location.href,n.trigger(s),s.isDefaultPrevented()||(t.historyState&&e.extend(o,t.historyState),i.originalEvent=t,setTimeout(function(){n.trigger(i,{state:o})},0))},hashchange:function(t){var i=new e.Event("navigate"),s=new e.Event("beforenavigate");n.trigger(s),s.isDefaultPrevented()||(i.originalEvent=t,n.trigger(i,{state:t.hashchangeState||{}}))},setup:function(){i.bound||(i.bound=!0,i.isPushStateEnabled()?(i.originalEventName="popstate",n.bind("popstate.navigate",i.popstate)):i.isHashChangeEnabled()&&(i.originalEventName="hashchange",n.bind("hashchange.navigate",i.hashchange)))}}}(e),function(e,i){var n,s,o="&ui-state=dialog";e.mobile.path=n={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(e){var t=e?this.parseUrl(e):location,i=this.parseUrl(e||location.href).hash;return i="#"===i?"":i,t.protocol+"//"+t.host+t.pathname+t.search+i},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if("object"===e.type(t))return t;var i=n.urlParseRE.exec(t||"")||[];return{href:i[0]||"",hrefNoHash:i[1]||"",hrefNoSearch:i[2]||"",domain:i[3]||"",protocol:i[4]||"",doubleSlash:i[5]||"",authority:i[6]||"",username:i[8]||"",password:i[9]||"",host:i[10]||"",hostname:i[11]||"",port:i[12]||"",pathname:i[13]||"",directory:i[14]||"",filename:i[15]||"",search:i[16]||"",hash:i[17]||""}},makePathAbsolute:function(e,t){if(e&&"/"===e.charAt(0))return e;e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";for(var i=t?t.split("/"):[],n=e.split("/"),s=0;s<n.length;s++){var o=n[s];switch(o){case".":break;case"..":i.length&&i.pop();break;default:i.push(o)}}return"/"+i.join("/")},isSameDomain:function(e,t){return n.parseUrl(e).domain===n.parseUrl(t).domain},isRelativeUrl:function(e){return""===n.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==n.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!n.isRelativeUrl(e))return e;t===i&&(t=this.documentBase);var s=n.parseUrl(e),o=n.parseUrl(t),r=s.protocol||o.protocol,a=s.protocol?s.doubleSlash:s.doubleSlash||o.doubleSlash,l=s.authority||o.authority,u=""!==s.pathname,c=n.makePathAbsolute(s.pathname||o.filename,o.pathname),h=s.search||!u&&o.search||"",d=s.hash;
return r+a+l+c+h+d},addSearchParams:function(t,i){var s=n.parseUrl(t),o="object"==typeof i?e.param(i):i,r=s.search||"?";return s.hrefNoSearch+r+("?"!==r.charAt(r.length-1)?"&":"")+o+(s.hash||"")},convertUrlToDataUrl:function(e){var i=n.parseUrl(e);return n.isEmbeddedPage(i)?i.hash.split(o)[0].replace(/^#/,"").replace(/\?.*$/,""):n.isSameDomain(i,this.documentBase)?i.hrefNoHash.replace(this.documentBase.domain,"").split(o)[0]:t.decodeURIComponent(e)},get:function(e){return e===i&&(e=n.parseLocation().hash),n.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(this.documentBase.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},stripQueryParams:function(e){return e.replace(/\?.*$/,"")},cleanHash:function(e){return n.stripHash(e.replace(/\?.*$/,"").replace(o,""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=n.parseUrl(e);return t.protocol&&t.domain!==this.documentUrl.domain?!0:!1},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isEmbeddedPage:function(e){var t=n.parseUrl(e);return""!==t.protocol?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(e,t){var i,s,o,r,a=this.isPath(e),l=this.parseUrl(e),u=l.hash,c="";return t=t||(n.isPath(e)?n.getLocation():n.getDocumentUrl()),s=a?n.stripHash(e):e,s=n.isPath(l.hash)?n.stripHash(l.hash):s,r=s.indexOf(this.uiStateKey),r>-1&&(c=s.slice(r),s=s.slice(0,r)),i=n.makeUrlAbsolute(s,t),o=this.parseUrl(i).search,a?((n.isPath(u)||0===u.replace("#","").indexOf(this.uiStateKey))&&(u=""),c&&-1===u.indexOf(this.uiStateKey)&&(u+=c),-1===u.indexOf("#")&&""!==u&&(u="#"+u),i=n.parseUrl(i),i=i.protocol+"//"+i.host+i.pathname+o+u):i+=i.indexOf("#")>-1?c:"#"+c,i},isPreservableHash:function(e){return 0===e.replace("#","").indexOf(this.uiStateKey)}},n.documentUrl=n.parseLocation(),s=e("head").find("base"),n.documentBase=s.length?n.parseUrl(n.makeUrlAbsolute(s.attr("href"),n.documentUrl.href)):n.documentUrl,n.documentBaseDiffers=n.documentUrl.hrefNoHash!==n.documentBase.hrefNoHash,n.getDocumentUrl=function(t){return t?e.extend({},n.documentUrl):n.documentUrl.href},n.getDocumentBase=function(t){return t?e.extend({},n.documentBase):n.documentBase.href}}(e),function(e,t){e.mobile.path,e.mobile.History=function(e,t){this.stack=e||[],this.activeIndex=t||0},e.extend(e.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(e,t){t=t||{},this.getNext()&&this.clearForward(),t.hash&&-1===t.hash.indexOf("#")&&(t.hash="#"+t.hash),t.url=e,this.stack.push(t),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(e,t,i){t=t||this.stack;var n,s,o,r=t.length;for(s=0;r>s;s++)if(n=t[s],(decodeURIComponent(e)===decodeURIComponent(n.url)||decodeURIComponent(e)===decodeURIComponent(n.hash))&&(o=s,i))return o;return o},closest:function(e){var i,n=this.activeIndex;return i=this.find(e,this.stack.slice(0,n)),i===t&&(i=this.find(e,this.stack.slice(n),!0),i=i===t?i:i+n),i},direct:function(i){var n=this.closest(i.url),s=this.activeIndex;n!==t&&(this.activeIndex=n,this.previousIndex=s),s>n?(i.present||i.back||e.noop)(this.getActive(),"back"):n>s?(i.present||i.forward||e.noop)(this.getActive(),"forward"):n===t&&i.missing&&i.missing(this.getActive())}})}(e),function(e){var n=e.mobile.path,s=location.href;e.mobile.Navigator=function(t){this.history=t,this.ignoreInitialHashChange=!0,e.mobile.window.bind({"popstate.history":e.proxy(this.popstate,this),"hashchange.history":e.proxy(this.hashchange,this)})},e.extend(e.mobile.Navigator.prototype,{squash:function(s,o){var r,a,l=n.isPath(s)?n.stripHash(s):s;return a=n.squash(s),r=e.extend({hash:l,url:a},o),t.history.replaceState(r,r.title||i.title,a),r},hash:function(e,t){var i,s,o;if(i=n.parseUrl(e),s=n.parseLocation(),s.pathname+s.search===i.pathname+i.search)o=i.hash?i.hash:i.pathname+i.search;else if(n.isPath(e)){var r=n.parseUrl(t);o=r.pathname+r.search+(n.isPreservableHash(r.hash)?r.hash.replace("#",""):"")}else o=e;return o},go:function(s,o,r){var a,l,u,c,h=e.event.special.navigate.isPushStateEnabled();l=n.squash(s),u=this.hash(s,l),r&&u!==n.stripHash(n.parseLocation().hash)&&(this.preventNextHashChange=r),this.preventHashAssignPopState=!0,t.location.hash=u,this.preventHashAssignPopState=!1,a=e.extend({url:l,hash:u,title:i.title},o),h&&(c=new e.Event("popstate"),c.originalEvent={type:"popstate",state:null},this.squash(s,a),r||(this.ignorePopState=!0,e.mobile.window.trigger(c))),this.history.add(a.url,a)},popstate:function(t){var i,o;return e.event.special.navigate.isPushStateEnabled()?this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,t.stopImmediatePropagation(),void 0):this.ignorePopState?(this.ignorePopState=!1,void 0):!t.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===s)?(t.preventDefault(),void 0):(i=n.parseLocation().hash,!t.originalEvent.state&&i?(o=this.squash(i),this.history.add(o.url,o),t.historyState=o,void 0):(this.history.direct({url:(t.originalEvent.state||{}).url||i,present:function(i,n){t.historyState=e.extend({},i),t.historyState.direction=n}}),void 0)):void 0},hashchange:function(t){var s,o;if(e.event.special.navigate.isHashChangeEnabled()&&!e.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,t.stopImmediatePropagation(),void 0;s=this.history,o=n.parseLocation().hash,this.history.direct({url:o,present:function(i,n){t.hashchangeState=e.extend({},i),t.hashchangeState.direction=n},missing:function(){s.add(o,{hash:o,title:i.title})}})}}})}(e),function(e){e.mobile.navigate=function(t,i,n){e.mobile.navigate.navigator.go(t,i,n)},e.mobile.navigate.history=new e.mobile.History,e.mobile.navigate.navigator=new e.mobile.Navigator(e.mobile.navigate.history);var t=e.mobile.path.parseLocation();e.mobile.navigate.history.add(t.href,{hash:t.hash})}(e),function(e,t,i,n){function s(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function o(t,i){var o,r,a,l,u,c,h,d,p,f=t.type;if(t=e.Event(t),t.type=i,o=t.originalEvent,r=e.event.props,f.search(/^(mouse|click)/)>-1&&(r=k),o)for(h=r.length,l;h;)l=r[--h],t[l]=o[l];if(f.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==f.search(/^touch/)&&(a=s(o),f=a.touches,u=a.changedTouches,c=f&&f.length?f[0]:u&&u.length?u[0]:n))for(d=0,p=S.length;p>d;d++)l=S[d],t[l]=c[l];return t}function r(t){for(var i,n,s={};t;){i=e.data(t,O);for(n in i)i[n]&&(s[n]=s.hasVirtualBinding=!0);t=t.parentNode}return s}function a(t,i){for(var n;t;){if(n=e.data(t,O),n&&(!i||n[i]))return t;t=t.parentNode}return null}function l(){R=!1}function u(){R=!0}function c(){W=0,L.length=0,F=!1,u()}function h(){l()}function d(){p(),I=setTimeout(function(){I=0,c()},e.vmouse.resetTimerDuration)}function p(){I&&(clearTimeout(I),I=0)}function f(t,i,n){var s;return(n&&n[t]||!n&&a(i.target,t))&&(s=o(i,t),e(i.target).trigger(s)),s}function m(t){var i=e.data(t.target,T);if(!(F||W&&W===i)){var n=f("v"+t.type,t);n&&(n.isDefaultPrevented()&&t.preventDefault(),n.isPropagationStopped()&&t.stopPropagation(),n.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function g(t){var i,n,o=s(t).touches;if(o&&1===o.length&&(i=t.target,n=r(i),n.hasVirtualBinding)){W=Y++,e.data(i,T,W),p(),h(),P=!1;var a=s(t).touches[0];N=a.pageX,H=a.pageY,f("vmouseover",t,n),f("vmousedown",t,n)}}function v(e){R||(P||f("vmousecancel",e,r(e.target)),P=!0,d())}function b(t){if(!R){var i=s(t).touches[0],n=P,o=e.vmouse.moveDistanceThreshold,a=r(t.target);P=P||Math.abs(i.pageX-N)>o||Math.abs(i.pageY-H)>o,P&&!n&&f("vmousecancel",t,a),f("vmousemove",t,a),d()}}function y(e){if(!R){u();var t,i=r(e.target);if(f("vmouseup",e,i),!P){var n=f("vclick",e,i);n&&n.isDefaultPrevented()&&(t=s(e).changedTouches[0],L.push({touchID:W,x:t.clientX,y:t.clientY}),F=!0)}f("vmouseout",e,i),P=!1,d()}}function E(t){var i,n=e.data(t,O);if(n)for(i in n)if(n[i])return!0;return!1}function C(){}function w(t){var i=t.substr(1);return{setup:function(){E(this)||e.data(this,O,{});var n=e.data(this,O);n[t]=!0,D[t]=(D[t]||0)+1,1===D[t]&&B.bind(i,m),e(this).bind(i,C),M&&(D.touchstart=(D.touchstart||0)+1,1===D.touchstart&&B.bind("touchstart",g).bind("touchend",y).bind("touchmove",b).bind("scroll",v))},teardown:function(){--D[t],D[t]||B.unbind(i,m),M&&(--D.touchstart,D.touchstart||B.unbind("touchstart",g).unbind("touchmove",b).unbind("touchend",y).unbind("scroll",v));var n=e(this),s=e.data(this,O);s&&(s[t]=!1),n.unbind(i,C),E(this)||n.removeData(O)}}}var x,O="virtualMouseBindings",T="virtualTouchID",_="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),S="clientX clientY pageX pageY screenX screenY".split(" "),A=e.event.mouseHooks?e.event.mouseHooks.props:[],k=e.event.props.concat(A),D={},I=0,N=0,H=0,P=!1,L=[],F=!1,R=!1,M="addEventListener"in i,B=e(i),Y=1,W=0;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var j=0;j<_.length;j++)e.event.special[_[j]]=w(_[j]);M&&i.addEventListener("click",function(t){var i,n,s,o,r,a,l=L.length,u=t.target;if(l)for(i=t.clientX,n=t.clientY,x=e.vmouse.clickDistanceThreshold,s=u;s;){for(o=0;l>o;o++)if(r=L[o],a=0,s===u&&Math.abs(r.x-i)<x&&Math.abs(r.y-n)<x||e.data(s,T)===r.touchID)return t.preventDefault(),t.stopPropagation(),void 0;s=s.parentNode}},!0)}(e,t,i),function(e,t,n){function s(t,i,n){var s=n.type;n.type=i,e.event.dispatch.call(t,n),n.type=s}var o=e(i);e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,i){e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)});var r=e.mobile.support.touch,a="touchmove scroll",l=r?"touchstart":"mousedown",u=r?"touchend":"mouseup",c=r?"touchmove":"mousemove";e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){i=t,s(o,i?"scrollstart":"scrollstop",e)}var i,n,o=this,r=e(o);r.bind(a,function(s){e.event.special.scrollstart.enabled&&(i||t(s,!0),clearTimeout(n),n=setTimeout(function(){t(s,!1)},50))})}},e.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,i=e(t);i.bind("vmousedown",function(n){function r(){clearTimeout(u)}function a(){r(),i.unbind("vclick",l).unbind("vmouseup",r),o.unbind("vmousecancel",a)}function l(e){a(),c===e.target&&s(t,"tap",e)}if(n.which&&1!==n.which)return!1;var u,c=n.target;n.originalEvent,i.bind("vmouseup",r).bind("vclick",l),o.bind("vmousecancel",a),u=setTimeout(function(){s(t,"taphold",e.Event("taphold",{target:c}))},e.event.special.tap.tapholdThreshold)})}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,i){i.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>i.coords[0]?"swipeleft":"swiperight")},setup:function(){var t=this,i=e(t);i.bind(l,function(t){function s(t){r&&(o=e.event.special.swipe.stop(t),Math.abs(r.coords[0]-o.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())}var o,r=e.event.special.swipe.start(t);i.bind(c,s).one(u,function(){i.unbind(c,s),r&&o&&e.event.special.swipe.handleSwipe(r,o),r=o=n})})}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,i){e.event.special[t]={setup:function(){e(this).bind(i,e.noop)}}})}(e,this),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",o)},teardown:function(){e(this).unbind("resize",o)}};var t,i,n,s=250,o=function(){i=(new Date).getTime(),n=i-r,n>=s?(r=i,e(this).trigger("throttledresize")):(t&&clearTimeout(t),t=setTimeout(o,s-n))},r=0}(e),function(e,t){function n(){var e=s();e!==o&&(o=e,l.trigger(u))}var s,o,r,a,l=e(t),u="orientationchange",c={0:!0,180:!0};if(e.support.orientation){var h=t.innerWidth||l.width(),d=t.innerHeight||l.height(),p=50;r=h>d&&h-d>p,a=c[t.orientation],(r&&a||!r&&!a)&&(c={"-90":!0,90:!0})}e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:(o=s(),l.bind("throttledresize",n),void 0)},teardown:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:(l.unbind("throttledresize",n),void 0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=s(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=s=function(){var n=!0,s=i.documentElement;return n=e.support.orientation?c[t.orientation]:s&&s.clientWidth/s.clientHeight<1.1,n?"portrait":"landscape"},e.fn[u]=function(e){return e?this.bind(u,e):this.trigger(u)},e.attrFn&&(e.attrFn[u]=!0)}(e,this),function(e){e.widget("mobile.page",e.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),void 0)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){e.mobile.pageContainer.removeClass("ui-overlay-"+e.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(t){this.options.theme&&e.mobile.pageContainer.addClass("ui-overlay-"+(t||this.options.theme))},keepNativeSelector:function(){var t=this.options,i=t.keepNative&&e.trim(t.keepNative);return i&&t.keepNative!==t.keepNativeDefault?[t.keepNative,t.keepNativeDefault].join(", "):t.keepNativeDefault}})}(e),function(e,t,i){var n=function(n){return n===i&&(n=!0),function(i,s,o,r){var a=new e.Deferred,l=s?" reverse":"",u=e.mobile.urlHistory.getActive(),c=u.lastScroll||e.mobile.defaultHomeScroll,h=e.mobile.getScreenHeight(),d=e.mobile.maxTransitionWidth!==!1&&e.mobile.window.width()>e.mobile.maxTransitionWidth,p=!e.support.cssTransitions||d||!i||"none"===i||Math.max(e.mobile.window.scrollTop(),c)>e.mobile.getMaxScrollForTransition(),f=" ui-page-pre-in",m=function(){e.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+i)},g=function(){e.event.special.scrollstart.enabled=!1,t.scrollTo(0,c),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},v=function(){r.removeClass(e.mobile.activePageClass+" out in reverse "+i).height("")},b=function(){n?r.animationComplete(y):y(),r.height(h+e.mobile.window.scrollTop()).addClass(i+" out"+l)},y=function(){r&&n&&v(),E()},E=function(){o.css("z-index",-10),o.addClass(e.mobile.activePageClass+f),e.mobile.focusPage(o),o.height(h+c),g(),o.css("z-index",""),p||o.animationComplete(C),o.removeClass(f).addClass(i+" in"+l),p&&C()},C=function(){n||r&&v(),o.removeClass("out in reverse "+i).height(""),m(),e.mobile.window.scrollTop()!==c&&g(),a.resolve(i,s,o,r,!0)};return m(),r&&!p?b():y(),a.promise()}},s=n(),o=n(!1),r=function(){return 3*e.mobile.getScreenHeight()};e.mobile.defaultTransitionHandler=s,e.mobile.transitionHandlers={"default":e.mobile.defaultTransitionHandler,sequential:s,simultaneous:o},e.mobile.transitionFallbacks={},e.mobile._maybeDegradeTransition=function(t){return t&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[t]&&(t=e.mobile.transitionFallbacks[t]),t},e.mobile.getMaxScrollForTransition=e.mobile.getMaxScrollForTransition||r}(e,this),function(e,n){function s(t){!m||m.closest("."+e.mobile.activePageClass).length&&!t||m.removeClass(e.mobile.activeBtnClass),m=null}function o(){y=!1,b.length>0&&e.mobile.changePage.apply(null,b.pop())}function r(t,i,n,s){i&&i.data("mobile-page")._trigger("beforehide",null,{nextPage:t}),t.data("mobile-page")._trigger("beforeshow",null,{prevPage:i||e("")}),e.mobile.hidePageLoadingMsg(),n=e.mobile._maybeDegradeTransition(n);var o=e.mobile.transitionHandlers[n||"default"]||e.mobile.defaultTransitionHandler,r=o(n,s,t,i);return r.done(function(){i&&i.data("mobile-page")._trigger("hide",null,{nextPage:t}),t.data("mobile-page")._trigger("show",null,{prevPage:i||e("")})}),r}function a(t,i){i&&t.attr("data-"+e.mobile.ns+"role",i),t.page()}function l(){var t=e.mobile.activePage&&c(e.mobile.activePage);return t||x.hrefNoHash}function u(e){for(;e&&("string"!=typeof e.nodeName||"a"!==e.nodeName.toLowerCase());)e=e.parentNode;return e}function c(t){var i=e(t).closest(".ui-page").jqmData("url"),n=x.hrefNoHash;return i&&p.isPath(i)||(i=n),p.makeUrlAbsolute(i,n)}var h=e.mobile.window,d=(e("html"),e("head")),p=e.extend(e.mobile.path,{getFilePath:function(t){var i="&"+e.mobile.subPageUrlKey;return t&&t.split(i)[0].split(E)[0]},isFirstPageUrl:function(t){var i=p.parseUrl(p.makeUrlAbsolute(t,this.documentBase)),s=i.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&i.hrefNoHash===this.documentBase.hrefNoHash,o=e.mobile.firstPage,r=o&&o[0]?o[0].id:n;return s&&(!i.hash||"#"===i.hash||r&&i.hash.replace(/^#/,"")===r)},isPermittedCrossDomainRequest:function(t,i){return e.mobile.allowCrossDomainPages&&"file:"===t.protocol&&-1!==i.search(/^https?:/)}}),f=null,m=null,g=e.Deferred(),v=e.mobile.navigate.history,b=[],y=!1,E="&ui-state=dialog",C=d.children("base"),w=p.documentUrl,x=p.documentBase,O=(p.documentBaseDiffers,e.mobile.getScreenHeight),T=e.support.dynamicBaseTag?{element:C.length?C:e("<base>",{href:x.hrefNoHash}).prependTo(d),set:function(e){e=p.parseUrl(e).hrefNoHash,T.element.attr("href",p.makeUrlAbsolute(e,x))},reset:function(){T.element.attr("href",x.hrefNoSearch)}}:n;e.mobile.getDocumentUrl=p.getDocumentUrl,e.mobile.getDocumentBase=p.getDocumentBase,e.mobile.back=function(){var e=t.navigator;this.phonegapNavigationEnabled&&e&&e.app&&e.app.backHistory?e.app.backHistory():t.history.back()},e.mobile.focusPage=function(e){var t=e.find("[autofocus]"),i=e.find(".ui-title:eq(0)");return t.length?(t.focus(),void 0):(i.length?i.focus():e.focus(),void 0)};var _,S,A=!0;_=function(){if(A){var t=e.mobile.urlHistory.getActive();if(t){var i=h.scrollTop();t.lastScroll=i<e.mobile.minScrollBack?e.mobile.defaultHomeScroll:i}}},S=function(){setTimeout(_,100)},h.bind(e.support.pushState?"popstate":"hashchange",function(){A=!1}),h.one(e.support.pushState?"popstate":"hashchange",function(){A=!0}),h.one("pagecontainercreate",function(){e.mobile.pageContainer.bind("pagechange",function(){A=!0,h.unbind("scrollstop",S),h.bind("scrollstop",S)})}),h.bind("scrollstop",S),e.mobile._maybeDegradeTransition=e.mobile._maybeDegradeTransition||function(e){return e},e.mobile.resetActivePageHeight=function(t){var i=e("."+e.mobile.activePageClass),n=parseFloat(i.css("padding-top")),s=parseFloat(i.css("padding-bottom")),o=parseFloat(i.css("border-top-width")),r=parseFloat(i.css("border-bottom-width"));t="number"==typeof t?t:O(),i.css("min-height",t-n-s-o-r)},e.fn.animationComplete=function(t){return e.support.cssTransitions?e(this).one("webkitAnimationEnd animationend",t):(setTimeout(t,0),e(this))},e.mobile.path=p,e.mobile.base=T,e.mobile.urlHistory=v,e.mobile.dialogHashKey=E,e.mobile.allowCrossDomainPages=!1,e.mobile._bindPageRemove=function(){var t=e(this);!t.data("mobile-page").options.domCache&&t.is(":jqmData(external-page='true')")&&t.bind("pagehide.remove",function(){var t=e(this),i=new e.Event("pageremove");t.trigger(i),i.isDefaultPrevented()||t.removeWithDependents()})},e.mobile.loadPage=function(t,i){var s=e.Deferred(),o=e.extend({},e.mobile.loadPage.defaults,i),r=null,u=null,c=p.makeUrlAbsolute(t,l());o.data&&"get"===o.type&&(c=p.addSearchParams(c,o.data),o.data=n),o.data&&"post"===o.type&&(o.reloadPage=!0);var h=p.getFilePath(c),d=p.convertUrlToDataUrl(c);if(o.pageContainer=o.pageContainer||e.mobile.pageContainer,r=o.pageContainer.children("[data-"+e.mobile.ns+"url='"+d+"']"),0===r.length&&d&&!p.isPath(d)&&(r=o.pageContainer.children("#"+d).attr("data-"+e.mobile.ns+"url",d).jqmData("url",d)),0===r.length)if(e.mobile.firstPage&&p.isFirstPageUrl(h))e.mobile.firstPage.parent().length&&(r=e(e.mobile.firstPage));else if(p.isEmbeddedPage(h))return s.reject(c,i),s.promise();if(r.length){if(!o.reloadPage)return a(r,o.role),s.resolve(c,i,r),T&&!i.prefetch&&T.set(t),s.promise();u=r}var f=o.pageContainer,m=new e.Event("pagebeforeload"),g={url:t,absUrl:c,dataUrl:d,deferred:s,options:o};if(f.trigger(m,g),m.isDefaultPrevented())return s.promise();if(o.showLoadMsg)var v=setTimeout(function(){e.mobile.showPageLoadingMsg()},o.loadMsgDelay),b=function(){clearTimeout(v),e.mobile.hidePageLoadingMsg()};return!T||"undefined"!=typeof i&&"undefined"!=typeof i.prefetch||T.reset(),e.mobile.allowCrossDomainPages||p.isSameDomain(w,c)?e.ajax({url:h,type:o.type,data:o.data,contentType:o.contentType,dataType:"html",success:function(n,l,f){var m=e("<div></div>"),v=n.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,y=new RegExp("(<[^>]+\\bdata-"+e.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),E=new RegExp("\\bdata-"+e.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(y.test(n)&&RegExp.$1&&E.test(RegExp.$1)&&RegExp.$1&&(t=h=p.getFilePath(e("<div>"+RegExp.$1+"</div>").text())),!T||"undefined"!=typeof i&&"undefined"!=typeof i.prefetch||T.set(h),m.get(0).innerHTML=n,r=m.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),r.length||(r=e("<div data-"+e.mobile.ns+"role='page'>"+(n.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),v&&!r.jqmData("title")&&(~v.indexOf("&")&&(v=e("<div>"+v+"</div>").text()),r.jqmData("title",v)),!e.support.dynamicBaseTag){var C=p.get(h);r.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var t=e(this).is("[href]")?"href":e(this).is("[src]")?"src":"action",i=e(this).attr(t);i=i.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(i)||e(this).attr(t,C+i)})}r.attr("data-"+e.mobile.ns+"url",p.convertUrlToDataUrl(h)).attr("data-"+e.mobile.ns+"external-page",!0).appendTo(o.pageContainer),r.one("pagecreate",e.mobile._bindPageRemove),a(r,o.role),c.indexOf("&"+e.mobile.subPageUrlKey)>-1&&(r=o.pageContainer.children("[data-"+e.mobile.ns+"url='"+d+"']")),o.showLoadMsg&&b(),g.xhr=f,g.textStatus=l,g.page=r,o.pageContainer.trigger("pageload",g),s.resolve(c,i,r,u)},error:function(t,n,r){T&&T.set(p.get()),g.xhr=t,g.textStatus=n,g.errorThrown=r;var a=new e.Event("pageloadfailed");o.pageContainer.trigger(a,g),a.isDefaultPrevented()||(o.showLoadMsg&&(b(),e.mobile.showPageLoadingMsg(e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.mobile.hidePageLoadingMsg,1500)),s.reject(c,i))}}):s.reject(c,i),s.promise()},e.mobile.loadPage.defaults={type:"get",data:n,reloadPage:!1,role:n,showLoadMsg:!1,pageContainer:n,loadMsgDelay:50},e.mobile.changePage=function(t,u){if(y)return b.unshift(arguments),void 0;var c,h=e.extend({},e.mobile.changePage.defaults,u);h.pageContainer=h.pageContainer||e.mobile.pageContainer,h.fromPage=h.fromPage||e.mobile.activePage,c="string"==typeof t;var d=h.pageContainer,f=new e.Event("pagebeforechange"),m={toPage:t,options:h};if(m.absUrl=c?p.makeUrlAbsolute(t,l()):t.data("absUrl"),d.trigger(f,m),!f.isDefaultPrevented()){if(t=m.toPage,c="string"==typeof t,y=!0,c)return h.target=t,e.mobile.loadPage(t,h).done(function(t,i,n,s){y=!1,i.duplicateCachedPage=s,n.data("absUrl",m.absUrl),e.mobile.changePage(n,i)}).fail(function(){s(!0),o(),h.pageContainer.trigger("pagechangefailed",m)}),void 0;t[0]!==e.mobile.firstPage[0]||h.dataUrl||(h.dataUrl=w.hrefNoHash);var g=h.fromPage,C=h.dataUrl&&p.convertUrlToDataUrl(h.dataUrl)||t.jqmData("url"),x=C,O=(p.getFilePath(C),v.getActive()),T=0===v.activeIndex,_=0,S=i.title,A="dialog"===h.role||"dialog"===t.jqmData("role");if(g&&g[0]===t[0]&&!h.allowSamePageTransition)return y=!1,d.trigger("pagechange",m),h.fromHashChange&&v.direct({url:C}),void 0;a(t,h.role),h.fromHashChange&&(_="back"===u.direction?-1:1);try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()?e(i.activeElement).blur():e("input:focus, textarea:focus, select:focus").blur()}catch(k){}var D=!1;A&&O&&(O.url&&O.url.indexOf(E)>-1&&e.mobile.activePage&&!e.mobile.activePage.is(".ui-dialog")&&v.activeIndex>0&&(h.changeHash=!1,D=!0),C=O.url||"",C+=!D&&C.indexOf("#")>-1?E:"#"+E,0===v.activeIndex&&C===v.initialDst&&(C+=E));var I=O?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").text():S;if(I&&S===i.title&&(S=I),t.jqmData("title")||t.jqmData("title",S),h.transition=h.transition||(_&&!T?O.transition:n)||(A?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),!_&&D&&(v.getActive().pageUrl=x),C&&!h.fromHashChange){var N;!p.isPath(C)&&C.indexOf("#")<0&&(C="#"+C),N={transition:h.transition,title:S,pageUrl:x,role:h.role},h.changeHash!==!1&&e.mobile.hashListeningEnabled?e.mobile.navigate(C,N,!0):t[0]!==e.mobile.firstPage[0]&&e.mobile.navigate.history.add(C,N)}i.title=S,e.mobile.activePage=t,h.reverse=h.reverse||0>_,r(t,g,h.transition,h.reverse).done(function(i,n,r,a,l){s(),h.duplicateCachedPage&&h.duplicateCachedPage.remove(),l||e.mobile.focusPage(t),o(),d.trigger("pagechange",m)})}},e.mobile.changePage.defaults={transition:n,reverse:!1,changeHash:!0,fromHashChange:!1,role:n,duplicateCachedPage:n,pageContainer:n,showLoadMsg:!0,dataUrl:n,fromPage:n,allowSamePageTransition:!1},e.mobile.navreadyDeferred=e.Deferred(),e.mobile._registerInternalEvents=function(){var i=function(t,i){var n,s,o,r,a=!0;return!e.mobile.ajaxEnabled||t.is(":jqmData(ajax='false')")||!t.jqmHijackable().length||t.attr("target")?!1:(n=t.attr("action"),r=(t.attr("method")||"get").toLowerCase(),n||(n=c(t),"get"===r&&(n=p.parseUrl(n).hrefNoSearch),n===x.hrefNoHash&&(n=w.hrefNoSearch)),n=p.makeUrlAbsolute(n,c(t)),p.isExternal(n)&&!p.isPermittedCrossDomainRequest(w,n)?!1:(i||(s=t.serializeArray(),f&&f[0].form===t[0]&&(o=f.attr("name"),o&&(e.each(s,function(e,t){return t.name===o?(o="",!1):void 0}),o&&s.push({name:o,value:f.attr("value")}))),a={url:n,options:{type:r,data:e.param(s),transition:t.jqmData("transition"),reverse:"reverse"===t.jqmData("direction"),reloadPage:!0}}),a))};e.mobile.document.delegate("form","submit",function(t){var n=i(e(this));n&&(e.mobile.changePage(n.url,n.options),t.preventDefault())}),e.mobile.document.bind("vclick",function(t){var n,o,r=t.target,a=!1;if(!(t.which>1)&&e.mobile.linkBindingEnabled){if(f=e(r),e.data(r,"mobile-button")){if(!i(e(r).closest("form"),!0))return;r.parentNode&&(r=r.parentNode)}else{if(r=u(r),!r||"#"===p.parseUrl(r.getAttribute("href")||"#").hash)return;if(!e(r).jqmHijackable().length)return}~r.className.indexOf("ui-link-inherit")?r.parentNode&&(o=e.data(r.parentNode,"buttonElements")):o=e.data(r,"buttonElements"),o?r=o.outer:a=!0,n=e(r),a&&(n=n.closest(".ui-btn")),n.length>0&&!n.hasClass("ui-disabled")&&(s(!0),m=n,m.addClass(e.mobile.activeBtnClass))}}),e.mobile.document.bind("click",function(i){if(e.mobile.linkBindingEnabled&&!i.isDefaultPrevented()){var o,r=u(i.target),a=e(r);if(r&&!(i.which>1)&&a.jqmHijackable().length){if(o=function(){t.setTimeout(function(){s(!0)},200)},a.is(":jqmData(rel='back')"))return e.mobile.back(),!1;var l=c(a),h=p.makeUrlAbsolute(a.attr("href")||"#",l);if(!e.mobile.ajaxEnabled&&!p.isEmbeddedPage(h))return o(),void 0;if(-1!==h.search("#")){if(h=h.replace(/[^#]*#/,""),!h)return i.preventDefault(),void 0;h=p.isPath(h)?p.makeUrlAbsolute(h,l):p.makeUrlAbsolute("#"+h,w.hrefNoHash)}var d=a.is("[rel='external']")||a.is(":jqmData(ajax='false')")||a.is("[target]"),f=d||p.isExternal(h)&&!p.isPermittedCrossDomainRequest(w,h);if(f)return o(),void 0;var m=a.jqmData("transition"),g="reverse"===a.jqmData("direction")||a.jqmData("back"),v=a.attr("data-"+e.mobile.ns+"rel")||n;e.mobile.changePage(h,{transition:m,reverse:g,role:v,link:a}),i.preventDefault()}}}),e.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var t=[];e(this).find("a:jqmData(prefetch)").each(function(){var i=e(this),n=i.attr("href");n&&-1===e.inArray(n,t)&&(t.push(n),e.mobile.loadPage(n,{role:i.attr("data-"+e.mobile.ns+"rel"),prefetch:!0}))})}),e.mobile._handleHashChange=function(i,s){var o=p.stripHash(i),r=0===e.mobile.urlHistory.stack.length?"none":n,a={changeHash:!1,fromHashChange:!0,reverse:"back"===s.direction};if(e.extend(a,s,{transition:(v.getLast()||{}).transition||r}),v.activeIndex>0&&o.indexOf(E)>-1&&v.initialDst!==o){if(e.mobile.activePage&&!e.mobile.activePage.is(".ui-dialog"))return"back"===s.direction?e.mobile.back():t.history.forward(),void 0;o=s.pageUrl;var l=e.mobile.urlHistory.getActive();e.extend(a,{role:l.role,transition:l.transition,reverse:"back"===s.direction})}o?(o=p.isPath(o)?o:p.makeUrlAbsolute("#"+o,x),o===p.makeUrlAbsolute("#"+v.initialDst,x)&&v.stack.length&&v.stack[0].url!==v.initialDst.replace(E,"")&&(o=e.mobile.firstPage),e.mobile.changePage(o,a)):e.mobile.changePage(e.mobile.firstPage,a)},h.bind("navigate",function(t,i){var n;t.originalEvent&&t.originalEvent.isDefaultPrevented()||(n=e.event.special.navigate.originalEventName.indexOf("hashchange")>-1?i.state.hash:i.state.url,n||(n=e.mobile.path.parseLocation().hash),n&&"#"!==n&&0!==n.indexOf("#"+e.mobile.path.uiStateKey)||(n=location.href),e.mobile._handleHashChange(n,i.state))}),e.mobile.document.bind("pageshow",e.mobile.resetActivePageHeight),e.mobile.window.bind("throttledresize",e.mobile.resetActivePageHeight)},e(function(){g.resolve()}),e.when(g,e.mobile.navreadyDeferred).done(function(){e.mobile._registerInternalEvents()})}(e),function(e){e.mobile.transitionFallbacks.flip="fade"}(e,this),function(e){e.mobile.transitionFallbacks.flow="fade"}(e,this),function(e){e.mobile.transitionFallbacks.pop="fade"}(e,this),function(e){e.mobile.transitionHandlers.slide=e.mobile.transitionHandlers.simultaneous,e.mobile.transitionFallbacks.slide="fade"}(e,this),function(e){e.mobile.transitionFallbacks.slidedown="fade"}(e,this),function(e){e.mobile.transitionFallbacks.slidefade="fade"}(e,this),function(e){e.mobile.transitionFallbacks.slideup="fade"}(e,this),function(e){e.mobile.transitionFallbacks.turn="fade"}(e,this),function(e){e.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},e.mobile.document.bind("pagecreate create",function(t){var i,n=e.mobile.closestPageData(e(t.target));n&&(i=n.options,e(t.target).find("input").not(n.keepNativeSelector()).each(function(){var t=e(this),n=this.getAttribute("type"),s=i.degradeInputs[n]||"text";if(i.degradeInputs[n]){var o=e("<div>").html(t.clone()).html(),r=o.indexOf(" type=")>-1,a=r?/\s+type=["']?\w+['"]?/:/\/?>/,l=' type="'+s+'" data-'+e.mobile.ns+'type="'+n+'"'+(r?"":">");t.replaceWith(o.replace(a,l))}}))})}(e),function(e){e.widget("mobile.dialog",e.mobile.widget,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,initSelector:":jqmData(role='dialog')"},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_create:function(){var t=this.element,i=this.options.corners?" ui-corner-all":"",n=e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+i});t.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme),t.wrapInner(n),t.bind("vclick submit",function(t){var i,n=e(t.target).closest("vclick"===t.type?"a":"form");
n.length&&!n.jqmData("transition")&&(i=e.mobile.urlHistory.getActive()||{},n.attr("data-"+e.mobile.ns+"transition",i.transition||e.mobile.defaultDialogTransition).attr("data-"+e.mobile.ns+"direction","reverse"))}),this._on(t,{pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),e.extend(this,{_createComplete:!1}),this._setCloseBtn(this.options.closeBtn)},_setCloseBtn:function(t){var i,n,s=this;this._headerCloseButton&&(this._headerCloseButton.remove(),this._headerCloseButton=null),"none"!==t&&(n="left"===t?"left":"right",i=e("<a href='#' class='ui-btn-"+n+"' data-"+e.mobile.ns+"icon='delete' data-"+e.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),this.element.children().find(":jqmData(role='header')").first().prepend(i),this._createComplete&&e.fn.buttonMarkup&&i.buttonMarkup(),this._createComplete=!0,i.bind("click",function(){s.close()}),this._headerCloseButton=i)},_setOption:function(e,t){"closeBtn"===e&&this._setCloseBtn(t),this._super(e,t)},close:function(){var t,i,n=e.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,e.mobile.hashListeningEnabled&&n.activeIndex>0?e.mobile.back():(t=Math.max(0,n.activeIndex-1),i=n.stack[t].pageUrl||n.stack[t].url,n.previousIndex=n.activeIndex,n.activeIndex=t,e.mobile.path.isPath(i)||(i=e.mobile.path.makeUrlAbsolute("#"+i)),e.mobile.changePage(i,{direction:"back",changeHash:!1,fromHashChange:!0})))}}),e.mobile.document.delegate(e.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){e.mobile.dialog.prototype.enhance(this)})}(e,this),function(e){e.mobile.page.prototype.options.backBtnText="Back",e.mobile.page.prototype.options.addBackBtn=!1,e.mobile.page.prototype.options.backBtnTheme=null,e.mobile.page.prototype.options.headerTheme="a",e.mobile.page.prototype.options.footerTheme="a",e.mobile.page.prototype.options.contentTheme=null,e.mobile.document.bind("pagecreate",function(t){var i=e(t.target),n=i.data("mobile-page").options,s=i.jqmData("role"),o=n.theme;e(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",i).jqmEnhanceable().each(function(){var t,r,a,l,u=e(this),c=u.jqmData("role"),h=u.jqmData("theme"),d=h||n.contentTheme||"dialog"===s&&o;if(u.addClass("ui-"+c),"header"===c||"footer"===c){var p=h||("header"===c?n.headerTheme:n.footerTheme)||o;u.addClass("ui-bar-"+p).attr("role","header"===c?"banner":"contentinfo"),"header"===c&&(t=u.children("a, button"),r=t.hasClass("ui-btn-left"),a=t.hasClass("ui-btn-right"),r=r||t.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,a=a||t.eq(1).addClass("ui-btn-right").length),n.addBackBtn&&"header"===c&&e(".ui-page").length>1&&i.jqmData("url")!==e.mobile.path.stripHash(location.hash)&&!r&&(l=e("<a href='javascript:void(0);' class='ui-btn-left' data-"+e.mobile.ns+"rel='back' data-"+e.mobile.ns+"icon='arrow-l'>"+n.backBtnText+"</a>").attr("data-"+e.mobile.ns+"theme",n.backBtnTheme||p).prependTo(u)),u.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else"content"===c&&(d&&u.addClass("ui-body-"+d),u.attr("role","main"))})})}(e),function(e,t){function n(e){for(var t;e&&(t="string"==typeof e.className&&e.className+" ",!(t&&t.indexOf("ui-btn ")>-1&&t.indexOf("ui-disabled ")<0));)e=e.parentNode;return e}function s(n,s,o,r,a){var l=e.data(n[0],"buttonElements");n.removeClass(s).addClass(o),l&&(l.bcls=e(i.createElement("div")).addClass(l.bcls+" "+o).removeClass(s).attr("class"),r!==t&&(l.hover=r),l.state=a)}var o=function(e,i){var n=e.getAttribute(i);return"true"===n?!0:"false"===n?!1:null===n?t:n};e.fn.buttonMarkup=function(n){var s,a=this,l="data-"+e.mobile.ns;n=n&&"object"===e.type(n)?n:{};for(var u=0;u<a.length;u++){var c,h,d,p,f,m,g=a.eq(u),v=g[0],b=e.extend({},e.fn.buttonMarkup.defaults,{icon:n.icon!==t?n.icon:o(v,l+"icon"),iconpos:n.iconpos!==t?n.iconpos:o(v,l+"iconpos"),theme:n.theme!==t?n.theme:o(v,l+"theme")||e.mobile.getInheritedTheme(g,"c"),inline:n.inline!==t?n.inline:o(v,l+"inline"),shadow:n.shadow!==t?n.shadow:o(v,l+"shadow"),corners:n.corners!==t?n.corners:o(v,l+"corners"),iconshadow:n.iconshadow!==t?n.iconshadow:o(v,l+"iconshadow"),mini:n.mini!==t?n.mini:o(v,l+"mini")},n),y="ui-btn-inner",E="ui-btn-text",C=!1,w="up";for(s in b)b[s]===t||null===b[s]?g.removeAttr(l+s):v.setAttribute(l+s,b[s]);for(m=e.data("INPUT"===v.tagName||"BUTTON"===v.tagName?v.parentNode:v,"buttonElements"),m?(v=m.outer,g=e(v),d=m.inner,p=m.text,e(m.icon).remove(),m.icon=null,C=m.hover,w=m.state):(d=i.createElement(b.wrapperEls),p=i.createElement(b.wrapperEls)),f=b.icon?i.createElement("span"):null,r&&!m&&r(),b.theme||(b.theme=e.mobile.getInheritedTheme(g,"c")),c="ui-btn ",c+=C?"ui-btn-hover-"+b.theme:"",c+=w?" ui-btn-"+w+"-"+b.theme:"",c+=b.shadow?" ui-shadow":"",c+=b.corners?" ui-btn-corner-all":"",b.mini!==t&&(c+=b.mini===!0?" ui-mini":" ui-fullsize"),b.inline!==t&&(c+=b.inline===!0?" ui-btn-inline":" ui-btn-block"),b.icon&&(b.icon="ui-icon-"+b.icon,b.iconpos=b.iconpos||"left",h="ui-icon "+b.icon,b.iconshadow&&(h+=" ui-icon-shadow")),b.iconpos&&(c+=" ui-btn-icon-"+b.iconpos,"notext"!==b.iconpos||g.attr("title")||g.attr("title",g.getEncodedText())),m&&g.removeClass(m.bcls||""),g.removeClass("ui-link").addClass(c),d.className=y,p.className=E,m||d.appendChild(p),f&&(f.className=h,m&&m.icon||(f.innerHTML="&#160;",d.appendChild(f)));v.firstChild&&!m;)p.appendChild(v.firstChild);m||v.appendChild(d),m={hover:C,state:w,bcls:c,outer:v,inner:d,text:p,icon:f},e.data(v,"buttonElements",m),e.data(d,"buttonElements",m),e.data(p,"buttonElements",m),f&&e.data(f,"buttonElements",m)}return this},e.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};var r=function(){var i,o,a=e.mobile.buttonMarkup.hoverDelay;e.mobile.document.bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(r){var l,u=e(n(r.target)),c=r.originalEvent&&/^touch/.test(r.originalEvent.type),h=r.type;u.length&&(l=u.attr("data-"+e.mobile.ns+"theme"),"vmousedown"===h?c?i=setTimeout(function(){s(u,"ui-btn-up-"+l,"ui-btn-down-"+l,t,"down")},a):s(u,"ui-btn-up-"+l,"ui-btn-down-"+l,t,"down"):"vmousecancel"===h||"vmouseup"===h?s(u,"ui-btn-down-"+l,"ui-btn-up-"+l,t,"up"):"vmouseover"===h||"focus"===h?c?o=setTimeout(function(){s(u,"ui-btn-up-"+l,"ui-btn-hover-"+l,!0,"")},a):s(u,"ui-btn-up-"+l,"ui-btn-hover-"+l,!0,""):("vmouseout"===h||"blur"===h||"scrollstart"===h)&&(s(u,"ui-btn-hover-"+l+" ui-btn-down-"+l,"ui-btn-up-"+l,!1,"up"),i&&clearTimeout(i),o&&clearTimeout(o)))},"focusin focus":function(t){e(n(t.target)).addClass(e.mobile.focusClass)},"focusout blur":function(t){e(n(t.target)).removeClass(e.mobile.focusClass)}}),r=null};e.mobile.document.bind("pagecreate create",function(t){e(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",t.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(e),function(e,t){e.widget("mobile.collapsible",e.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:"plus",expandedIcon:"minus",iconpos:"left",theme:null,contentTheme:null,inset:!0,corners:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var i=this.element,n=this.options,s=i.addClass("ui-collapsible"),o=i.children(n.heading).first(),r=s.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),a=i.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set"),l="";o.is("legend")&&(o=e("<div role='heading'>"+o.html()+"</div>").insertBefore(o),o.next().remove()),a.length?(n.theme||(n.theme=a.jqmData("theme")||e.mobile.getInheritedTheme(a,"c")),n.contentTheme||(n.contentTheme=a.jqmData("content-theme")),n.collapsedIcon=i.jqmData("collapsed-icon")||a.jqmData("collapsed-icon")||n.collapsedIcon,n.expandedIcon=i.jqmData("expanded-icon")||a.jqmData("expanded-icon")||n.expandedIcon,n.iconpos=i.jqmData("iconpos")||a.jqmData("iconpos")||n.iconpos,n.inset=a.jqmData("inset")!==t?a.jqmData("inset"):!0,n.corners=!1,n.mini||(n.mini=a.jqmData("mini"))):n.theme||(n.theme=e.mobile.getInheritedTheme(i,"c")),n.inset&&(l+=" ui-collapsible-inset",n.corners&&(l+=" ui-corner-all")),n.contentTheme&&(l+=" ui-collapsible-themed-content",r.addClass("ui-body-"+n.contentTheme)),""!==l&&s.addClass(l),o.insertBefore(r).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:n.iconpos,icon:n.collapsedIcon,mini:n.mini,theme:n.theme}),s.bind("expand collapse",function(t){if(!t.isDefaultPrevented()){var i=e(this),s="collapse"===t.type;t.preventDefault(),o.toggleClass("ui-collapsible-heading-collapsed",s).find(".ui-collapsible-heading-status").text(s?n.expandCueText:n.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+n.expandedIcon,!s).toggleClass("ui-icon-"+n.collapsedIcon,s||n.expandedIcon===n.collapsedIcon).end().find("a").first().removeClass(e.mobile.activeBtnClass),i.toggleClass("ui-collapsible-collapsed",s),r.toggleClass("ui-collapsible-content-collapsed",s).attr("aria-hidden",s),r.trigger("updatelayout")}}).trigger(n.collapsed?"collapse":"expand"),o.bind("tap",function(){o.find("a").first().addClass(e.mobile.activeBtnClass)}).bind("click",function(e){var t=o.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";s.trigger(t),e.preventDefault(),e.stopPropagation()})}}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.collapsible.prototype.enhanceWithin(t.target)})}(e),function(e){e.mobile.behaviors.addFirstLastClasses={_getVisibles:function(e,t){var i;return t?i=e.not(".ui-screen-hidden"):(i=e.filter(":visible"),0===i.length&&(i=e.not(".ui-screen-hidden"))),i},_addFirstLastClasses:function(e,t,i){e.removeClass("ui-first-child ui-last-child"),t.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),i||this.element.trigger("updatelayout")}}}(e),function(e,t){e.widget("mobile.collapsibleset",e.mobile.widget,e.extend({options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var i=this.element.addClass("ui-collapsible-set"),n=this.options;n.theme||(n.theme=e.mobile.getInheritedTheme(i,"c")),n.contentTheme||(n.contentTheme=i.jqmData("content-theme")),n.corners||(n.corners=i.jqmData("corners")),i.jqmData("inset")!==t&&(n.inset=i.jqmData("inset")),n.inset=n.inset!==t?n.inset:!0,n.corners=n.corners!==t?n.corners:!0,n.corners&&n.inset&&i.addClass("ui-corner-all"),i.jqmData("collapsiblebound")||i.jqmData("collapsiblebound",!0).bind("expand",function(t){var i=e(t.target).closest(".ui-collapsible");i.parent().is(":jqmData(role='collapsible-set')")&&i.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var e=this.element,t=e.children(":jqmData(role='collapsible')"),i=t.filter(":jqmData(collapsed='false')");this._refresh("true"),i.trigger("expand")},_refresh:function(t){var i=this.element.children(":jqmData(role='collapsible')");e.mobile.collapsible.prototype.enhance(i.not(".ui-collapsible")),this._addFirstLastClasses(i,this._getVisibles(i,t),t)},refresh:function(){this._refresh(!1)}},e.mobile.behaviors.addFirstLastClasses)),e.mobile.document.bind("pagecreate create",function(t){e.mobile.collapsibleset.prototype.enhanceWithin(t.target)})}(e),function(e){e.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return 3===this.nodeType&&!/\S/.test(this.nodeValue)}).remove()},e(i).bind("pagecreate create",function(t){e(":jqmData(role='fieldcontain')",t.target).jqmEnhanceable().fieldcontain()})}(e),function(e){e.fn.grid=function(t){return this.each(function(){var i,n=e(this),s=e.extend({grid:null},t),o=n.children(),r={solo:1,a:2,b:3,c:4,d:5},a=s.grid;if(!a)if(o.length<=5)for(var l in r)r[l]===o.length&&(a=l);else a="a",n.addClass("ui-grid-duo");i=r[a],n.addClass("ui-grid-"+a),o.filter(":nth-child("+i+"n+1)").addClass("ui-block-a"),i>1&&o.filter(":nth-child("+i+"n+2)").addClass("ui-block-b"),i>2&&o.filter(":nth-child("+i+"n+3)").addClass("ui-block-c"),i>3&&o.filter(":nth-child("+i+"n+4)").addClass("ui-block-d"),i>4&&o.filter(":nth-child("+i+"n+5)").addClass("ui-block-e")})}}(e),function(e,t){e.widget("mobile.navbar",e.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var n=this.element,s=n.find("a"),o=s.filter(":jqmData(icon)").length?this.options.iconpos:t;n.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),s.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:o}),n.delegate("a","vclick",function(t){var n=e(t.target).is("a")?e(this):e(this).parent("a");if(!n.is(".ui-disabled, .ui-btn-active")){s.removeClass(e.mobile.activeBtnClass),e(this).addClass(e.mobile.activeBtnClass);var o=e(this);e(i).one("pagehide",function(){o.removeClass(e.mobile.activeBtnClass)})}}),n.closest(".ui-page").bind("pagebeforeshow",function(){s.filter(".ui-state-persist").addClass(e.mobile.activeBtnClass)})}}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.navbar.prototype.enhanceWithin(t.target)})}(e),function(e){var t={};e.widget("mobile.listview",e.mobile.widget,e.extend({options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",icon:"arrow-r",splitIcon:"arrow-r",splitTheme:"b",corners:!0,shadow:!0,inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var e=this,t="";t+=e.options.inset?" ui-listview-inset":"",e.options.inset&&(t+=e.options.corners?" ui-corner-all":"",t+=e.options.shadow?" ui-shadow":""),e.element.addClass(function(e,i){return i+" ui-listview"+t}),e.refresh(!0)},_findFirstElementByTagName:function(e,t,i,n){var s={};for(s[i]=s[n]=!0;e;){if(s[e.nodeName])return e;e=e[t]}return null},_getChildrenByTagName:function(t,i,n){var s=[],o={};for(o[i]=o[n]=!0,t=t.firstChild;t;)o[t.nodeName]&&s.push(t),t=t.nextSibling;return e(s)},_addThumbClasses:function(t){var i,n,s=t.length;for(i=0;s>i;i++)n=e(this._findFirstElementByTagName(t[i].firstChild,"nextSibling","img","IMG")),n.length&&(n.addClass("ui-li-thumb"),e(this._findFirstElementByTagName(n[0].parentNode,"parentNode","li","LI")).addClass(n.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(t){this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var n,s,o,r,a,l,u,c,h,d,p,f,m=this.options,g=this.element,v=g.jqmData("dividertheme")||m.dividerTheme,b=g.jqmData("splittheme"),y=g.jqmData("spliticon"),E=g.jqmData("icon"),C=this._getChildrenByTagName(g[0],"li","LI"),w=!!e.nodeName(g[0],"ol"),x=!e.support.cssPseudoElement,O=g.attr("start"),T={};w&&x&&g.find(".ui-li-dec").remove(),w&&(O||0===O?x?u=parseInt(O,10):(c=parseInt(O,10)-1,g.css("counter-reset","listnumbering "+c)):x&&(u=1)),m.theme||(m.theme=e.mobile.getInheritedTheme(this.element,"c"));for(var _=0,S=C.length;S>_;_++){if(n=C.eq(_),s="ui-li",t||!n.hasClass("ui-li")){o=n.jqmData("theme")||m.theme,r=this._getChildrenByTagName(n[0],"a","A");var A="list-divider"===n.jqmData("role");r.length&&!A?(p=n.jqmData("icon"),n.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:r.length>1||p===!1?!1:p||E||m.icon,theme:o}),p!==!1&&1===r.length&&n.addClass("ui-li-has-arrow"),r.first().removeClass("ui-link").addClass("ui-link-inherit"),r.length>1&&(s+=" ui-li-has-alt",a=r.last(),l=b||a.jqmData("theme")||m.splitTheme,f=a.jqmData("icon"),a.appendTo(n).attr("title",e.trim(a.getEncodedText())).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:o,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(e(i.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:l,iconpos:"notext",icon:f||p||y||m.splitIcon})))):A?(s+=" ui-li-divider ui-bar-"+(n.jqmData("theme")||v),n.attr("role","heading"),w&&(O||0===O?x?u=parseInt(O,10):(h=parseInt(O,10)-1,n.css("counter-reset","listnumbering "+h)):x&&(u=1))):s+=" ui-li-static ui-btn-up-"+o}w&&x&&s.indexOf("ui-li-divider")<0&&(d=s.indexOf("ui-li-static")>0?n:n.find(".ui-link-inherit"),d.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+u++ +". </span>")),T[s]||(T[s]=[]),T[s].push(n[0])}for(s in T)e(T[s]).addClass(s).children(".ui-btn-inner").addClass(s);g.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var t=e(this);t.prependTo(t.parent())}).end().find(".ui-li-count").each(function(){e(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(g.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(C),this._addThumbClasses(g.find(".ui-link-inherit")),this._addFirstLastClasses(C,this._getVisibles(C,t),t),this._trigger("afterrefresh")},_idStringEscape:function(e){return e.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var i,n=this.element,s=n.closest(".ui-page"),o=s.jqmData("url"),r=o||s[0][e.expando],a=n.attr("id"),l=this.options,u="data-"+e.mobile.ns,c=this,h=s.find(":jqmData(role='footer')").jqmData("id");if("undefined"==typeof t[r]&&(t[r]=-1),a=a||++t[r],e(n.find("li>ul, li>ol").toArray().reverse()).each(function(t){var s,r,c=e(this),d=c.attr("id")||a+"-"+t,p=c.parent(),f=e(c.prevAll().toArray().reverse()),m=f.length?f:e("<span>"+e.trim(p.contents()[0].nodeValue)+"</span>"),g=m.first().getEncodedText(),v=(o||"")+"&"+e.mobile.subPageUrlKey+"="+d,b=c.jqmData("theme")||l.theme,y=c.jqmData("counttheme")||n.jqmData("counttheme")||l.countTheme;i=!0,s=c.detach().wrap("<div "+u+"role='page' "+u+"url='"+v+"' "+u+"theme='"+b+"' "+u+"count-theme='"+y+"'><div "+u+"role='content'></div></div>").parent().before("<div "+u+"role='header' "+u+"theme='"+l.headerTheme+"'><div class='ui-title'>"+g+"</div></div>").after(h?e("<div "+u+"role='footer' "+u+"id='"+h+"'>"):"").parent().appendTo(e.mobile.pageContainer),s.page(),r=p.find("a:first"),r.length||(r=e("<a/>").html(m||g).prependTo(p.empty())),r.attr("href","#"+v)}).listview(),i&&s.is(":jqmData(external-page='true')")&&s.data("mobile-page").options.domCache===!1){var d=function(t,i){var n,r=i.nextPage,a=new e.Event("pageremove");i.nextPage&&(n=r.jqmData("url"),0!==n.indexOf(o+"&"+e.mobile.subPageUrlKey)&&(c.childPages().remove(),s.trigger(a),a.isDefaultPrevented()||s.removeWithDependents()))};s.unbind("pagehide.remove").bind("pagehide.remove",d)}},childPages:function(){var t=this.parentPage.jqmData("url");return e(":jqmData(url^='"+t+"&"+e.mobile.subPageUrlKey+"')")}},e.mobile.behaviors.addFirstLastClasses)),e.mobile.document.bind("pagecreate create",function(t){e.mobile.listview.prototype.enhanceWithin(t.target)})}(e),function(e){var t=e("meta[name=viewport]"),i=t.attr("content"),n=i+",maximum-scale=1, user-scalable=no",s=i+",maximum-scale=10, user-scalable=yes",o=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(i);e.mobile.zoom=e.extend({},{enabled:!o,locked:!1,disable:function(i){o||e.mobile.zoom.locked||(t.attr("content",n),e.mobile.zoom.enabled=!1,e.mobile.zoom.locked=i||!1)},enable:function(i){o||e.mobile.zoom.locked&&i!==!0||(t.attr("content",s),e.mobile.zoom.enabled=!0,e.mobile.zoom.locked=!1)},restore:function(){o||(t.attr("content",i),e.mobile.zoom.enabled=!0)}})}(e),function(e){e.widget("mobile.textinput",e.mobile.widget,{options:{theme:null,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type]), input[type='file']",clearBtn:!1,clearSearchButtonText:null,clearBtnText:"clear text",disabled:!1},_create:function(){function t(){setTimeout(function(){n.toggleClass("ui-input-clear-hidden",!o.val())},0)}var i,n,s=this,o=this.element,r=this.options,a=r.theme||e.mobile.getInheritedTheme(this.element,"c"),l=" ui-body-"+a,u=r.mini?" ui-mini":"",c=o.is("[type='search'], :jqmData(type='search')"),h=r.clearSearchButtonText||r.clearBtnText,d=o.is("textarea, :jqmData(type='range')"),p=!!r.clearBtn&&!d,f=o.is("input")&&!o.is(":jqmData(type='range')");if(e("label[for='"+o.attr("id")+"']").addClass("ui-input-text"),i=o.addClass("ui-input-text ui-body-"+a),"undefined"==typeof o[0].autocorrect||e.support.touchOverflow||(o[0].setAttribute("autocorrect","off"),o[0].setAttribute("autocomplete","off")),c?i=o.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+l+u+"'></div>").parent():f&&(i=o.wrap("<div class='ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow"+l+u+"'></div>").parent()),p||c?(n=e("<a href='#' class='ui-input-clear' title='"+h+"'>"+h+"</a>").bind("click",function(e){o.val("").focus().trigger("change"),n.addClass("ui-input-clear-hidden"),e.preventDefault()}).appendTo(i).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:r.mini}),c||i.addClass("ui-input-has-clear"),t(),o.bind("paste cut keyup input focus change blur",t)):f||c||o.addClass("ui-corner-all ui-shadow-inset"+l+u),o.focus(function(){r.preventFocusZoom&&e.mobile.zoom.disable(!0),i.addClass(e.mobile.focusClass)}).blur(function(){i.removeClass(e.mobile.focusClass),r.preventFocusZoom&&e.mobile.zoom.enable(!0)}),o.is("textarea")){var m,g=15,v=100;this._keyup=function(){var e=o[0].scrollHeight,t=o[0].clientHeight;if(e>t){var i=parseFloat(o.css("padding-top")),n=parseFloat(o.css("padding-bottom")),s=i+n;o.height(e-s+g)}},o.on("keyup change input paste",function(){clearTimeout(m),m=setTimeout(s._keyup,v)}),this._on(!0,e.mobile.document,{pagechange:"_keyup"}),e.trim(o.val())&&this._on(!0,e.mobile.window,{load:"_keyup"})}o.attr("disabled")&&this.disable()},disable:function(){var e,t=this.element.is("[type='search'], :jqmData(type='search')"),i=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),n=this.element.attr("disabled",!0)&&(i||t);return e=n?this.element.parent():this.element,e.addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var e,t=this.element.is("[type='search'], :jqmData(type='search')"),i=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),n=this.element.attr("disabled",!1)&&(i||t);return e=n?this.element.parent():this.element,e.removeClass("ui-disabled"),this._setOption("disabled",!1)}}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.textinput.prototype.enhanceWithin(t.target,!0)})}(e),function(e){e.mobile.listview.prototype.options.filter=!1,e.mobile.listview.prototype.options.filterPlaceholder="Filter items...",e.mobile.listview.prototype.options.filterTheme="c",e.mobile.listview.prototype.options.filterReveal=!1;var t=function(e,t){return-1===e.toString().toLowerCase().indexOf(t)};e.mobile.listview.prototype.options.filterCallback=t,e.mobile.document.delegate("ul, ol","listviewcreate",function(){var i=e(this),n=i.data("mobile-listview");if(n&&n.options.filter){n.options.filterReveal&&i.children().addClass("ui-screen-hidden");var s=e("<form>",{"class":"ui-listview-filter ui-bar-"+n.options.filterTheme,role:"search"}).submit(function(e){e.preventDefault(),r.blur()}),o=function(){var s,o=e(this),r=this.value.toLowerCase(),a=null,l=i.children(),u=o.jqmData("lastval")+"",c=!1,h="",d=n.options.filterCallback!==t;if(!u||u!==r){if(n._trigger("beforefilter","beforefilter",{input:this}),o.jqmData("lastval",r),d||r.length<u.length||0!==r.indexOf(u)?a=i.children():(a=i.children(":not(.ui-screen-hidden)"),!a.length&&n.options.filterReveal&&(a=i.children(".ui-screen-hidden"))),r){for(var p=a.length-1;p>=0;p--)s=e(a[p]),h=s.jqmData("filtertext")||s.text(),s.is("li:jqmData(role=list-divider)")?(s.toggleClass("ui-filter-hidequeue",!c),c=!1):n.options.filterCallback(h,r,s)?s.toggleClass("ui-filter-hidequeue",!0):c=!0;a.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),a.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else a.toggleClass("ui-screen-hidden",!!n.options.filterReveal);n._addFirstLastClasses(l,n._getVisibles(l,!1),!1)}},r=e("<input>",{placeholder:n.options.filterPlaceholder}).attr("data-"+e.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change input",o).appendTo(s).textinput();n.options.inset&&s.addClass("ui-listview-filter-inset"),s.bind("submit",function(){return!1}).insertBefore(i)}})}(e),function(e){e.mobile.listview.prototype.options.autodividers=!1,e.mobile.listview.prototype.options.autodividersSelector=function(t){var i=e.trim(t.text())||null;return i?i=i.slice(0,1).toUpperCase():null},e.mobile.document.delegate("ul,ol","listviewcreate",function(){var t=e(this),n=t.data("mobile-listview");if(n&&n.options.autodividers){var s=function(){t.find("li:jqmData(role='list-divider')").remove();for(var s,o,r=t.find("li"),a=null,l=0;l<r.length;l++){if(s=r[l],o=n.options.autodividersSelector(e(s)),o&&a!==o){var u=i.createElement("li");u.appendChild(i.createTextNode(o)),u.setAttribute("data-"+e.mobile.ns+"role","list-divider"),s.parentNode.insertBefore(u,s)}a=o}},o=function(){t.unbind("listviewafterrefresh",o),s(),n.refresh(),t.bind("listviewafterrefresh",o)};o()}})}(e),function(e){e(i).bind("pagecreate create",function(t){e(":jqmData(role='nojs')",t.target).addClass("ui-nojs")})}(e),function(e){e.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(e),function(e){e.widget("mobile.checkboxradio",e.mobile.widget,e.extend({options:{theme:null,mini:!1,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var t=this,n=this.element,s=this.options,o=function(e,t){return e.jqmData(t)||e.closest("form, fieldset").jqmData(t)},r=e(n).closest("label"),a=r.length?r:e(n).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+n[0].id+"']").first(),l=n[0].type,u=o(n,"mini")||s.mini,c=l+"-on",h=l+"-off",d=o(n,"iconpos"),p="ui-"+c,f="ui-"+h;if("checkbox"===l||"radio"===l){e.extend(this,{label:a,inputtype:l,checkedClass:p,uncheckedClass:f,checkedicon:c,uncheckedicon:h}),s.theme||(s.theme=e.mobile.getInheritedTheme(this.element,"c")),a.buttonMarkup({theme:s.theme,icon:h,shadow:!1,mini:u,iconpos:d});var m=i.createElement("div");m.className="ui-"+l,n.add(a).wrapAll(m),a.bind({vmouseover:function(t){e(this).parent().is(".ui-disabled")&&t.stopPropagation()},vclick:function(e){return n.is(":disabled")?(e.preventDefault(),void 0):(t._cacheVals(),n.prop("checked","radio"===l&&!0||!n.prop("checked")),n.triggerHandler("click"),t._getInputSet().not(n).prop("checked",!1),t._updateAll(),!1)}}),n.bind({vmousedown:function(){t._cacheVals()},vclick:function(){var i=e(this);i.is(":checked")?(i.prop("checked",!0),t._getInputSet().not(i).prop("checked",!1)):i.prop("checked",!1),t._updateAll()},focus:function(){a.addClass(e.mobile.focusClass)},blur:function(){a.removeClass(e.mobile.focusClass)}}),this._handleFormReset(),this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){e(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return"checkbox"===this.inputtype?this.element:this.element.closest("form, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var t=this;this._getInputSet().each(function(){var i=e(this);(this.checked||"checkbox"===t.inputtype)&&i.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},refresh:function(){var t=this.element[0],i=" "+e.mobile.activeBtnClass,n=this.checkedClass+(this.element.parents(".ui-controlgroup-horizontal").length?i:""),s=this.label;t.checked?s.removeClass(this.uncheckedClass+i).addClass(n).buttonMarkup({icon:this.checkedicon}):s.removeClass(n).addClass(this.uncheckedClass).buttonMarkup({icon:this.uncheckedicon}),t.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}},e.mobile.behaviors.formReset)),e.mobile.document.bind("pagecreate create",function(t){e.mobile.checkboxradio.prototype.enhanceWithin(t.target,!0)})}(e),function(e){e.widget("mobile.button",e.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,inline:null,mini:null,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},_create:function(){var t,i=this.element,n=function(e){var t,i={};for(t in e)null!==e[t]&&"initSelector"!==t&&(i[t]=e[t]);return i}(this.options),s="";return"A"===i[0].tagName?(i.hasClass("ui-btn")||i.buttonMarkup(),void 0):(this.options.theme||(this.options.theme=e.mobile.getInheritedTheme(this.element,"c")),~i[0].className.indexOf("ui-btn-left")&&(s="ui-btn-left"),~i[0].className.indexOf("ui-btn-right")&&(s="ui-btn-right"),("submit"===i.attr("type")||"reset"===i.attr("type"))&&(s?s+=" ui-submit":s="ui-submit"),e("label[for='"+i.attr("id")+"']").addClass("ui-submit"),this.button=e("<div></div>")[i.html()?"html":"text"](i.html()||i.val()).insertBefore(i).buttonMarkup(n).addClass(s).append(i.addClass("ui-btn-hidden")),t=this.button,i.bind({focus:function(){t.addClass(e.mobile.focusClass)},blur:function(){t.removeClass(e.mobile.focusClass)}}),this.refresh(),void 0)},_setOption:function(t,i){var n={};n[t]=i,"initSelector"!==t&&(this.button.buttonMarkup(n),this.element.attr("data-"+(e.mobile.ns||"")+t.replace(/([A-Z])/,"-$1").toLowerCase(),i)),this._super("_setOption",t,i)},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var t=this.element;t.prop("disabled")?this.disable():this.enable(),e(this.button.data("buttonElements").text)[t.html()?"html":"text"](t.html()||t.val())}}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.button.prototype.enhanceWithin(t.target,!0)})}(e),function(e,n){e.widget("mobile.slider",e.mobile.widget,e.extend({widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1,highlight:!1},_create:function(){var s,o,r=this,a=this.element,l=e.mobile.getInheritedTheme(a,"c"),u=this.options.theme||l,c=this.options.trackTheme||l,h=a[0].nodeName.toLowerCase(),d=(this.isToggleSwitch="select"===h,a.parent().is(":jqmData(role='rangeslider')")),p=this.isToggleSwitch?"ui-slider-switch":"",f=a.attr("id"),m=e("[for='"+f+"']"),g=m.attr("id")||f+"-label",v=m.attr("id",g),b=this.isToggleSwitch?0:parseFloat(a.attr("min")),y=this.isToggleSwitch?a.find("option").length-1:parseFloat(a.attr("max")),E=t.parseFloat(a.attr("step")||1),C=this.options.mini||a.jqmData("mini")?" ui-mini":"",w=i.createElement("a"),x=e(w),O=i.createElement("div"),T=e(O),_=this.options.highlight&&!this.isToggleSwitch?function(){var t=i.createElement("div");return t.className="ui-slider-bg "+e.mobile.activeBtnClass+" ui-btn-corner-all",e(t).prependTo(T)}():!1;if(w.setAttribute("href","#"),O.setAttribute("role","application"),O.className=[this.isToggleSwitch?"ui-slider ":"ui-slider-track ",p," ui-btn-down-",c," ui-btn-corner-all",C].join(""),w.className="ui-slider-handle",O.appendChild(w),x.buttonMarkup({corners:!0,theme:u,shadow:!0}).attr({role:"slider","aria-valuemin":b,"aria-valuemax":y,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":g}),e.extend(this,{slider:T,handle:x,type:h,step:E,max:y,min:b,valuebg:_,isRangeslider:d,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),this.isToggleSwitch){o=i.createElement("div"),o.className="ui-slider-inneroffset";
for(var S=0,A=O.childNodes.length;A>S;S++)o.appendChild(O.childNodes[S]);O.appendChild(o),x.addClass("ui-slider-handle-snapping"),s=a.find("option");for(var k=0,D=s.length;D>k;k++){var I=k?"a":"b",N=k?" "+e.mobile.activeBtnClass:" ui-btn-down-"+c,H=(i.createElement("div"),i.createElement("span"));H.className=["ui-slider-label ui-slider-label-",I,N," ui-btn-corner-all"].join(""),H.setAttribute("role","img"),H.appendChild(i.createTextNode(s[k].innerHTML)),e(H).prependTo(T)}r._labels=e(".ui-slider-label",T)}v.addClass("ui-slider"),a.addClass(this.isToggleSwitch?"ui-slider-switch":"ui-slider-input"),this._on(a,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),T.bind("vmousedown",e.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(i,{vmousemove:"_preventDocumentDrag"}),this._on(T.add(i),{vmouseup:"_sliderVMouseUp"}),T.insertAfter(a),this.isToggleSwitch||d||(o=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",a.add(T).wrapAll(o)),this.isToggleSwitch&&this.handle.bind({focus:function(){T.addClass(e.mobile.focusClass)},blur:function(){T.removeClass(e.mobile.focusClass)}}),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(n,n,!0)},_controlChange:function(e){return this._trigger("controlchange",e)===!1?!1:(this.mouseMoved||this.refresh(this._value(),!0),void 0)},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(t){var i=this._value();if(!this.options.disabled){switch(t.keyCode){case e.mobile.keyCode.HOME:case e.mobile.keyCode.END:case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:t.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(t.keyCode){case e.mobile.keyCode.HOME:this.refresh(this.min);break;case e.mobile.keyCode.END:this.refresh(this.max);break;case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:this.refresh(i+this.step);break;case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:this.refresh(i-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(e){return this.options.disabled||1!==e.which&&0!==e.which&&e.which!==n?!1:this._trigger("beforestart",e)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(e),this._trigger("start"),!1)},_sliderVMouseUp:function(){return this.dragging?(this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.mouseMoved?this.userModified?this.refresh(0===this.beforeStart?1:0):this.refresh(this.beforeStart):this.refresh(0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1):void 0},_preventDocumentDrag:function(e){return this._trigger("drag",e)===!1?!1:this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(e),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(n,!1,!0)},refresh:function(t,n,s){var o,r,a,l,u=this,c=e.mobile.getInheritedTheme(this.element,"c"),h=this.options.theme||c,d=this.options.trackTheme||c;u.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch":"ui-slider-track"," ui-btn-down-"+d," ui-btn-corner-all",this.options.mini?" ui-mini":""].join(""),(this.options.disabled||this.element.attr("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var t=i.createElement("div");return t.className="ui-slider-bg "+e.mobile.activeBtnClass+" ui-btn-corner-all",e(t).prependTo(u.slider)}()),this.handle.buttonMarkup({corners:!0,theme:h,shadow:!0});var p,f,m=this.element,g=!this.isToggleSwitch,v=g?[]:m.find("option"),b=g?parseFloat(m.attr("min")):0,y=g?parseFloat(m.attr("max")):v.length-1,E=g&&parseFloat(m.attr("step"))>0?parseFloat(m.attr("step")):1;if("object"==typeof t){if(a=t,l=8,o=this.slider.offset().left,r=this.slider.width(),p=r/((y-b)/E),!this.dragging||a.pageX<o-l||a.pageX>o+r+l)return;f=p>1?100*((a.pageX-o)/r):Math.round(100*((a.pageX-o)/r))}else null==t&&(t=g?parseFloat(m.val()||0):m[0].selectedIndex),f=100*((parseFloat(t)-b)/(y-b));if(!isNaN(f)){var C=f/100*(y-b)+b,w=(C-b)%E,x=C-w;2*Math.abs(w)>=E&&(x+=w>0?E:-E);var O=100/((y-b)/E);if(C=parseFloat(x.toFixed(5)),"undefined"==typeof p&&(p=r/((y-b)/E)),p>1&&g&&(f=(C-b)*O*(1/E)),0>f&&(f=0),f>100&&(f=100),b>C&&(C=b),C>y&&(C=y),this.handle.css("left",f+"%"),this.handle[0].setAttribute("aria-valuenow",g?C:v.eq(C).attr("value")),this.handle[0].setAttribute("aria-valuetext",g?C:v.eq(C).getEncodedText()),this.handle[0].setAttribute("title",g?C:v.eq(C).getEncodedText()),this.valuebg&&this.valuebg.css("width",f+"%"),this._labels){var T=100*(this.handle.width()/this.slider.width()),_=f&&T+(100-T)*f/100,S=100===f?0:Math.min(T+100-_,100);this._labels.each(function(){var t=e(this).is(".ui-slider-label-a");e(this).width((t?_:S)+"%")})}if(!s){var A=!1;if(g?(A=m.val()!==C,m.val(C)):(A=m[0].selectedIndex!==C,m[0].selectedIndex=C),this._trigger("beforechange",t)===!1)return!1;!n&&A&&m.trigger("change")}}},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}},e.mobile.behaviors.formReset)),e.mobile.document.bind("pagecreate create",function(t){e.mobile.slider.prototype.enhanceWithin(t.target,!0)})}(e),function(e){e.widget("mobile.rangeslider",e.mobile.widget,{options:{theme:null,trackTheme:null,disabled:!1,initSelector:":jqmData(role='rangeslider')",mini:!1,highlight:!0},_create:function(){var t,i=this.element,n=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",s=i.find("input").first(),o=i.find("input").last(),r=i.find("label").first(),a=e.data(s.get(0),"mobileSlider").slider,l=e.data(o.get(0),"mobileSlider").slider,u=e.data(s.get(0),"mobileSlider").handle,c=e('<div class="ui-rangeslider-sliders" />').appendTo(i);i.find("label").length>1&&(t=i.find("label").last().hide()),s.addClass("ui-rangeslider-first"),o.addClass("ui-rangeslider-last"),i.addClass(n),a.appendTo(c),l.appendTo(c),r.prependTo(i),u.prependTo(l),e.extend(this,{_inputFirst:s,_inputLast:o,_sliderFirst:a,_sliderLast:l,_targetVal:null,_sliderTarget:!1,_sliders:c,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(u,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var e=this;setTimeout(function(){e._updateHighlight()},0)},_dragFirstHandle:function(t){return e.data(this._inputFirst.get(0),"mobileSlider").dragging=!0,e.data(this._inputFirst.get(0),"mobileSlider").refresh(t),!1},_slidedrag:function(t){var i=e(t.target).is(this._inputFirst),n=i?this._inputLast:this._inputFirst;return this._sliderTarget=!1,"first"===this._proxy&&i||"last"===this._proxy&&!i?(e.data(n.get(0),"mobileSlider").dragging=!0,e.data(n.get(0),"mobileSlider").refresh(t),!1):void 0},_slidestop:function(t){var i=e(t.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",i?1:"")},_slidebeforestart:function(t){this._sliderTarget=!1,e(t.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=e(t.target).val())},_setOption:function(e){this._superApply(e),this.refresh()},refresh:function(){var e=this.element,t=this.options;e.find("input").slider({theme:t.theme,trackTheme:t.trackTheme,disabled:t.disabled,mini:t.mini,highlight:t.highlight}).slider("refresh"),this._updateHighlight()},_change:function(t){if("keyup"===t.type)return this._updateHighlight(),!1;var i=this,n=parseFloat(this._inputFirst.val(),10),s=parseFloat(this._inputLast.val(),10),o=e(t.target).hasClass("ui-rangeslider-first"),r=o?this._inputFirst:this._inputLast,a=o?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===t.type&&!e(t.target).hasClass("ui-slider-handle"))r.blur();else if("mousedown"===t.type)return;return n>s&&!this._sliderTarget?(r.val(o?s:n).slider("refresh"),this._trigger("normalize")):n>s&&(r.val(this._targetVal).slider("refresh"),setTimeout(function(){a.val(o?n:s).slider("refresh"),e.data(a.get(0),"mobileSlider").handle.focus(),i._sliderFirst.css("z-index",o?"":1),i._trigger("normalize")},0),this._proxy=o?"first":"last"),n===s?(e.data(r.get(0),"mobileSlider").handle.css("z-index",1),e.data(a.get(0),"mobileSlider").handle.css("z-index",0)):(e.data(a.get(0),"mobileSlider").handle.css("z-index",""),e.data(r.get(0),"mobileSlider").handle.css("z-index","")),this._updateHighlight(),n>=s?!1:void 0},_updateHighlight:function(){var t=parseInt(e.data(this._inputFirst.get(0),"mobileSlider").handle.get(0).style.left,10),i=parseInt(e.data(this._inputLast.get(0),"mobileSlider").handle.get(0).style.left,10),n=i-t;this.element.find(".ui-slider-bg").css({"margin-left":t+"%",width:n+"%"})},_destroy:function(){this.element.removeClass("ui-rangeslider ui-mini").find("label").show(),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}}),e.widget("mobile.rangeslider",e.mobile.rangeslider,e.mobile.behaviors.formReset),e(i).bind("pagecreate create",function(t){e.mobile.rangeslider.prototype.enhanceWithin(t.target,!0)})}(e),function(e){e.widget("mobile.selectmenu",e.mobile.widget,e.extend({options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!0,overlayTheme:"a",dividerTheme:"b",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not( :jqmData(role='slider') )",mini:!1},_button:function(){return e("<div/>")},_setDisabled:function(e){return this.element.attr("disabled",e),this.button.attr("aria-disabled",e),this._setOption("disabled",e)},_focusButton:function(){var e=this;setTimeout(function(){e.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var t="";~this.element[0].className.indexOf("ui-btn-left")&&(t=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(t=" ui-btn-right"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+t+"'>"),this.selectID=this.select.attr("id"),this.label=e("label[for='"+this.selectID+"']").addClass("ui-select"),this.isMultiple=this.select[0].multiple,this.options.theme||(this.options.theme=e.mobile.getInheritedTheme(this.select,"c"))},_destroy:function(){var e=this.element.parents(".ui-select");e.length>0&&(e.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(e.is(".ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(e),e.remove())},_create:function(){this._preExtension(),this._trigger("beforeCreate"),this.button=this._button();var i=this,n=this.options,s=n.inline||this.select.jqmData("inline"),o=n.mini||this.select.jqmData("mini"),r=n.icon?n.iconpos||this.select.jqmData("iconpos"):!1,a=(-1===this.select[0].selectedIndex?0:this.select[0].selectedIndex,this.button.insertBefore(this.select).buttonMarkup({theme:n.theme,icon:n.icon,iconpos:r,inline:s,corners:n.corners,shadow:n.shadow,iconshadow:n.iconshadow,mini:o}));this.setButtonText(),n.nativeMenu&&t.opera&&t.opera.version&&a.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=e("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(a.addClass("ui-li-has-count"))),(n.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){i.refresh(),n.nativeMenu&&this.blur()}),this._handleFormReset(),this.build()},build:function(){var t=this;this.select.appendTo(t.button).bind("vmousedown",function(){t.button.addClass(e.mobile.activeBtnClass)}).bind("focus",function(){t.button.addClass(e.mobile.focusClass)}).bind("blur",function(){t.button.removeClass(e.mobile.focusClass)}).bind("focus vmouseover",function(){t.button.trigger("vmouseover")}).bind("vmousemove",function(){t.button.removeClass(e.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){t.button.trigger("vmouseout").removeClass(e.mobile.activeBtnClass)}).bind("change blur",function(){t.button.removeClass("ui-btn-down-"+t.options.theme)}),t.button.bind("vmousedown",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.label.bind("click focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.select.bind("focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.button.bind("mouseup",function(){t.options.preventFocusZoom&&setTimeout(function(){e.mobile.zoom.enable(!0)},0)}),t.select.bind("blur",function(){t.options.preventFocusZoom&&e.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var e=this;return this.selected().map(function(){return e._selectOptions().index(this)}).get()},setButtonText:function(){var t=this,n=this.selected(),s=this.placeholder,o=e(i.createElement("span"));this.button.find(".ui-btn-text").html(function(){return s=n.length?n.map(function(){return e(this).text()}).get().join(", "):t.placeholder,o.text(s).addClass(t.select.attr("class")).addClass(n.attr("class"))})},setButtonCount:function(){var e=this.selected();this.isMultiple&&this.buttonCount[e.length>1?"show":"hide"]().text(e.length)},_reset:function(){this.refresh()},refresh:function(){this.setButtonText(),this.setButtonCount()},open:e.noop,close:e.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-disabled")}},e.mobile.behaviors.formReset)),e.mobile.document.bind("pagecreate create",function(t){e.mobile.selectmenu.prototype.enhanceWithin(t.target,!0)})}(e),function(e,n){function s(e,t,i,n){var s=n;return s=t>e?i+(e-t)/2:Math.min(Math.max(i,n-t/2),i+e-t)}function o(){var i=e.mobile.window;return{x:i.scrollLeft(),y:i.scrollTop(),cx:t.innerWidth||i.width(),cy:t.innerHeight||i.height()}}e.widget("mobile.popup",e.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,history:!e.mobile.browser.oldIE},_eatEventAndClose:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var e=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style"),e>this._ui.screen.height()&&this._ui.screen.height(e)},_handleWindowKeyUp:function(t){return this._isOpen&&t.keyCode===e.mobile.keyCode.ESCAPE?this._eatEventAndClose(t):void 0},_expectResizeEvent:function(){var t=o();if(this._resizeData){if(t.x===this._resizeData.winCoords.x&&t.y===this._resizeData.winCoords.y&&t.cx===this._resizeData.winCoords.cx&&t.cy===this._resizeData.winCoords.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:setTimeout(e.proxy(this,"_resizeTimeout"),200),winCoords:t},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_ignoreResizeEvents:function(){var e=this;this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=setTimeout(function(){e._ignoreResizeTo=0},1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(t){var n,s=t.target,o=this._ui;if(this._isOpen){if(s!==o.container[0]){if(n=e(t.target),0===n.parents().filter(o.container[0]).length)return e(i.activeElement).one("focus",function(){n.blur()}),o.focusElement.focus(),t.preventDefault(),t.stopImmediatePropagation(),!1;o.focusElement[0]===o.container[0]&&(o.focusElement=n)}this._ignoreResizeEvents()}},_create:function(){var t={screen:e("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:e("<div style='display: none;'><!-- placeholder --></div>"),container:e("<div class='ui-popup-container ui-popup-hidden'></div>")},i=this.element.closest(".ui-page"),n=this.element.attr("id"),s=this.options;s.history=s.history&&e.mobile.ajaxEnabled&&e.mobile.hashListeningEnabled,0===i.length&&(i=e("body")),s.container=s.container||e.mobile.pageContainer||i,i.append(t.screen),t.container.insertAfter(t.screen),t.placeholder.insertAfter(this.element),n&&(t.screen.attr("id",n+"-screen"),t.container.attr("id",n+"-popup"),t.placeholder.html("<!-- placeholder for "+n+" -->")),t.container.append(this.element),t.focusElement=t.container,this.element.addClass("ui-popup"),e.extend(this,{_scrollTop:0,_page:i,_ui:t,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),this._applyTheme(this.element,s.theme,"body"),this._applyTheme(this._ui.screen,s.overlayTheme,"overlay"),this._applyTransition(s.transition),this.element.toggleClass("ui-overlay-shadow",s.shadow).toggleClass("ui-corner-all",s.corners),this._setTolerance(s.tolerance),t.screen.bind("vclick",e.proxy(this,"_eatEventAndClose")),this._on(e.mobile.window,{orientationchange:e.proxy(this,"_handleWindowOrientationchange"),resize:e.proxy(this,"_handleWindowResize"),keyup:e.proxy(this,"_handleWindowKeyUp")}),this._on(e.mobile.document,{focusin:e.proxy(this,"_handleDocumentFocusIn")})},_applyTheme:function(e,t,i){for(var n,s=(e.attr("class")||"").split(" "),o=null,r=String(t);s.length>0;){if(o=s.pop(),n=new RegExp("^ui-"+i+"-([a-z])$").exec(o),n&&n.length>1){o=n[1];break}o=null}t!==o&&(e.removeClass("ui-"+i+"-"+o),null!==t&&"none"!==t&&e.addClass("ui-"+i+"-"+r))},_setTheme:function(e){this._applyTheme(this.element,e,"body")},_setOverlayTheme:function(e){this._applyTheme(this._ui.screen,e,"overlay"),this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(e){this.element.toggleClass("ui-overlay-shadow",e)},_setCorners:function(e){this.element.toggleClass("ui-corner-all",e)},_applyTransition:function(t){this._ui.container.removeClass(this._fallbackTransition),t&&"none"!==t&&(this._fallbackTransition=e.mobile._maybeDegradeTransition(t),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(e){this._currentTransition||this._applyTransition(e)},_setTolerance:function(t){var i={t:30,r:15,b:30,l:15};if(t!==n){var s=String(t).split(",");switch(e.each(s,function(e,t){s[e]=parseInt(t,10)}),s.length){case 1:isNaN(s[0])||(i.t=i.r=i.b=i.l=s[0]);break;case 2:isNaN(s[0])||(i.t=i.b=s[0]),isNaN(s[1])||(i.l=i.r=s[1]);break;case 4:isNaN(s[0])||(i.t=s[0]),isNaN(s[1])||(i.r=s[1]),isNaN(s[2])||(i.b=s[2]),isNaN(s[3])||(i.l=s[3])}}this._tolerance=i},_setOption:function(e,t){var i="_set"+e.charAt(0).toUpperCase()+e.slice(1);this[i]!==n&&this[i](t),this._super(e,t)},_placementCoords:function(e){var t,n,r=o(),a={x:this._tolerance.l,y:r.y+this._tolerance.t,cx:r.cx-this._tolerance.l-this._tolerance.r,cy:r.cy-this._tolerance.t-this._tolerance.b};this._ui.container.css("max-width",a.cx),t={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},n={x:s(a.cx,t.cx,a.x,e.x),y:s(a.cy,t.cy,a.y,e.y)},n.y=Math.max(0,n.y);var l=i.documentElement,u=i.body,c=Math.max(l.clientHeight,u.scrollHeight,u.offsetHeight,l.scrollHeight,l.offsetHeight);return n.y-=Math.min(n.y,Math.max(0,n.y+t.cy-c)),{left:n.x,top:n.y}},_createPrereqs:function(t,i,n){var s,o=this;s={screen:e.Deferred(),container:e.Deferred()},s.screen.then(function(){s===o._prereqs&&t()}),s.container.then(function(){s===o._prereqs&&i()}),e.when(s.screen,s.container).done(function(){s===o._prereqs&&(o._prereqs=null,n())}),o._prereqs=s},_animate:function(t){return this._ui.screen.removeClass(t.classToRemove).addClass(t.screenClassToAdd),t.prereqs.screen.resolve(),t.transition&&"none"!==t.transition&&(t.applyTransition&&this._applyTransition(t.transition),this._fallbackTransition)?(this._ui.container.animationComplete(e.proxy(t.prereqs.container,"resolve")).addClass(t.containerClassToAdd).removeClass(t.classToRemove),void 0):(this._ui.container.removeClass(t.classToRemove),t.prereqs.container.resolve(),void 0)},_desiredCoords:function(t){var i,n=null,s=o(),r=t.x,a=t.y,l=t.positionTo;if(l&&"origin"!==l)if("window"===l)r=s.cx/2+s.x,a=s.cy/2+s.y;else{try{n=e(l)}catch(u){n=null}n&&(n.filter(":visible"),0===n.length&&(n=null))}return n&&(i=n.offset(),r=i.left+n.outerWidth()/2,a=i.top+n.outerHeight()/2),("number"!==e.type(r)||isNaN(r))&&(r=s.cx/2+s.x),("number"!==e.type(a)||isNaN(a))&&(a=s.cy/2+s.y),{x:r,y:a}},_reposition:function(e){e={x:e.x,y:e.y,positionTo:e.positionTo},this._trigger("beforeposition",n,e),this._ui.container.offset(this._placementCoords(this._desiredCoords(e)))},reposition:function(e){this._isOpen&&this._reposition(e)},_openPrereqsComplete:function(){this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),this._ui.container.attr("tabindex","0").focus(),this._ignoreResizeEvents(),this._trigger("afteropen")},_open:function(t){var i=e.extend({},this.options,t),n=function(){var e=navigator.userAgent,t=e.match(/AppleWebKit\/([0-9\.]+)/),i=!!t&&t[1],n=e.match(/Android (\d+(?:\.\d+))/),s=!!n&&n[1],o=e.indexOf("Chrome")>-1;return null!==n&&"4.0"===s&&i&&i>534.13&&!o?!0:!1}();this._createPrereqs(e.noop,e.noop,e.proxy(this,"_openPrereqsComplete")),this._currentTransition=i.transition,this._applyTransition(i.transition),this.options.theme||this._setTheme(this._page.jqmData("theme")||e.mobile.getInheritedTheme(this._page,"c")),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-hidden"),this._reposition(i),this.options.overlayTheme&&n&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:i.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden").removeAttr("style")},_closePrereqsDone:function(){var t=this._ui.container;t.removeAttr("tabindex"),e.mobile.popup.active=n,e(":focus",t[0]).add(t[0]).blur(),this._trigger("afterclose")},_close:function(t){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrereqs(e.proxy(this,"_closePrereqScreen"),e.proxy(this,"_closePrereqContainer"),e.proxy(this,"_closePrereqsDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:t?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_unenhance:function(){this._setTheme("none"),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove()},_destroy:function(){e.mobile.popup.active===this?(this.element.one("popupafterclose",e.proxy(this,"_unenhance")),this.close()):this._unenhance()},_closePopup:function(i,n){var s,o,r=this.options,a=!1;t.scrollTo(0,this._scrollTop),i&&"pagebeforechange"===i.type&&n&&(s="string"==typeof n.toPage?n.toPage:n.toPage.jqmData("url"),s=e.mobile.path.parseUrl(s),o=s.pathname+s.search+s.hash,this._myUrl!==e.mobile.path.makeUrlAbsolute(o)?a=!0:i.preventDefault()),r.container.unbind(r.closeEvents),this.element.undelegate(r.closeLinkSelector,r.closeLinkEvents),this._close(a)},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,e.proxy(this,"_closePopup"))},open:function(i){var n,s,o,r,a,l,u=this,c=this.options;if(!e.mobile.popup.active){if(e.mobile.popup.active=this,this._scrollTop=e.mobile.window.scrollTop(),!c.history)return u._open(i),u._bindContainerClose(),u.element.delegate(c.closeLinkSelector,c.closeLinkEvents,function(e){u.close(),e.preventDefault()}),void 0;if(l=e.mobile.urlHistory,s=e.mobile.dialogHashKey,o=e.mobile.activePage,r=o.is(".ui-dialog"),this._myUrl=n=l.getActive().url,a=n.indexOf(s)>-1&&!r&&l.activeIndex>0)return u._open(i),u._bindContainerClose(),void 0;-1!==n.indexOf(s)||r?n=e.mobile.path.parseLocation().hash+s:n+=n.indexOf("#")>-1?s:"#"+s,0===l.activeIndex&&n===l.initialDst&&(n+=s),e(t).one("beforenavigate",function(e){e.preventDefault(),u._open(i),u._bindContainerClose()}),this.urlAltered=!0,e.mobile.navigate(n,{role:"dialog"})}},close:function(){e.mobile.popup.active===this&&(this._scrollTop=e.mobile.window.scrollTop(),this.options.history&&this.urlAltered?(e.mobile.back(),this.urlAltered=!1):this._closePopup())}}),e.mobile.popup.handleLink=function(t){var i,n=t.closest(":jqmData(role='page')"),s=0===n.length?e("body"):n,o=e(e.mobile.path.parseUrl(t.attr("href")).hash,s[0]);o.data("mobile-popup")&&(i=t.offset(),o.popup("open",{x:i.left+t.outerWidth()/2,y:i.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to")})),setTimeout(function(){var i=t.parent().parent();i.hasClass("ui-li")&&(t=i.parent()),t.removeClass(e.mobile.activeBtnClass)},300)},e.mobile.document.bind("pagebeforechange",function(t,i){"popup"===i.options.role&&(e.mobile.popup.handleLink(i.options.link),t.preventDefault())}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.popup.prototype.enhanceWithin(t.target,!0)})}(e),function(e,t){var n=function(n){var s,o,r,a=(n.select,n._destroy),l=n.selectID,u=l?l:(e.mobile.ns||"")+"uuid-"+n.uuid,c=u+"-listbox",h=u+"-dialog",d=n.label,p=n.select.closest(".ui-page"),f=n._selectOptions(),m=n.isMultiple=n.select[0].multiple,g=l+"-button",v=l+"-menu",b=e("<div data-"+e.mobile.ns+"role='dialog' id='"+h+"' data-"+e.mobile.ns+"theme='"+n.options.theme+"' data-"+e.mobile.ns+"overlay-theme='"+n.options.overlayTheme+"'>"+"<div data-"+e.mobile.ns+"role='header'>"+"<div class='ui-title'>"+d.getEncodedText()+"</div>"+"</div>"+"<div data-"+e.mobile.ns+"role='content'></div>"+"</div>"),y=e("<div id='"+c+"' class='ui-selectmenu'>").insertAfter(n.select).popup({theme:n.options.overlayTheme}),E=e("<ul>",{"class":"ui-selectmenu-list",id:v,role:"listbox","aria-labelledby":g}).attr("data-"+e.mobile.ns+"theme",n.options.theme).attr("data-"+e.mobile.ns+"divider-theme",n.options.dividerTheme).appendTo(y),C=e("<div>",{"class":"ui-header ui-bar-"+n.options.theme}).prependTo(y),w=e("<h1>",{"class":"ui-title"}).appendTo(C);n.isMultiple&&(r=e("<a>",{text:n.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+e.mobile.ns+"iconpos","notext").attr("data-"+e.mobile.ns+"icon","delete").appendTo(C).buttonMarkup()),e.extend(n,{select:n.select,selectID:l,buttonId:g,menuId:v,popupID:c,dialogID:h,thisPage:p,menuPage:b,label:d,selectOptions:f,isMultiple:m,theme:n.options.theme,listbox:y,list:E,header:C,headerTitle:w,headerClose:r,menuPageContent:s,menuPageClose:o,placeholder:"",build:function(){var i=this,s=function(e){return e.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")};i.refresh(),i._origTabIndex===t&&(i._origTabIndex=null===i.select[0].getAttribute("tabindex")?!1:i.select.attr("tabindex")),i.select.attr("tabindex","-1").focus(function(){e(this).blur(),i.button.focus()}),i.button.bind("vclick keydown",function(t){i.options.disabled||i.isOpen||("vclick"===t.type||t.keyCode&&(t.keyCode===e.mobile.keyCode.ENTER||t.keyCode===e.mobile.keyCode.SPACE))&&(i._decideFormat(),"overlay"===i.menuType?i.button.attr("href","#"+s(i.popupID)).attr("data-"+(e.mobile.ns||"")+"rel","popup"):i.button.attr("href","#"+s(i.dialogID)).attr("data-"+(e.mobile.ns||"")+"rel","dialog"),i.isOpen=!0)}),i.list.attr("role","listbox").bind("focusin",function(t){e(t.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(t){e(t.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(t){var s=i.select[0].selectedIndex,o=i.list.find("li:not(.ui-li-divider)").index(this),r=i._selectOptions().eq(o)[0];r.selected=i.isMultiple?!r.selected:!0,i.isMultiple&&e(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",r.selected).toggleClass("ui-icon-checkbox-off",!r.selected),(i.isMultiple||s!==o)&&i.select.trigger("change"),i.isMultiple?i.list.find("li:not(.ui-li-divider)").eq(o).addClass("ui-btn-down-"+n.options.theme).find("a").first().focus():i.close(),t.preventDefault()}).keydown(function(t){var i,s,o=e(t.target),r=o.closest("li");switch(t.keyCode){case 38:return i=r.prev().not(".ui-selectmenu-placeholder"),i.is(".ui-li-divider")&&(i=i.prev()),i.length&&(o.blur().attr("tabindex","-1"),i.addClass("ui-btn-down-"+n.options.theme).find("a").first().focus()),!1;case 40:return s=r.next(),s.is(".ui-li-divider")&&(s=s.next()),s.length&&(o.blur().attr("tabindex","-1"),s.addClass("ui-btn-down-"+n.options.theme).find("a").first().focus()),!1;case 13:case 32:return o.trigger("click"),!1}}),i.menuPage.bind("pagehide",function(){e.mobile._bindPageRemove.call(i.thisPage)}),i.listbox.bind("popupafterclose",function(){i.close()}),i.isMultiple&&i.headerClose.click(function(){return"overlay"===i.menuType?(i.close(),!1):void 0}),i.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var e=this.list.find("li"),t=this._selectOptions();return t.text()!==e.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(t){var i,n=this;this.element,this.isMultiple,(t||this._isRebuildRequired())&&n._buildList(),i=this.selectedIndices(),n.setButtonText(),n.setButtonCount(),n.list.find("li:not(.ui-li-divider)").removeClass(e.mobile.activeBtnClass).attr("aria-selected",!1).each(function(t){if(e.inArray(t,i)>-1){var s=e(this);s.attr("aria-selected",!0),n.isMultiple?s.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):s.is(".ui-selectmenu-placeholder")?s.next().addClass(e.mobile.activeBtnClass):s.addClass(e.mobile.activeBtnClass)}})
},close:function(){if(!this.options.disabled&&this.isOpen){var e=this;"page"===e.menuType?(e.menuPage.dialog("close"),e.list.appendTo(e.listbox)):e.listbox.popup("close"),e._focusButton(),e.isOpen=!1}},open:function(){this.button.click()},_decideFormat:function(){function t(){var t=i.list.find("."+e.mobile.activeBtnClass+" a");0===t.length&&(t=i.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a")),t.first().focus().closest("li").addClass("ui-btn-down-"+n.options.theme)}var i=this,s=e.mobile.window,o=i.list.parent(),r=o.outerHeight(),a=(o.outerWidth(),e("."+e.mobile.activePageClass),s.scrollTop()),l=i.button.offset().top,u=s.height();s.width(),r>u-80||!e.support.scrollTop?(i.menuPage.appendTo(e.mobile.pageContainer).page(),i.menuPageContent=b.find(".ui-content"),i.menuPageClose=b.find(".ui-header a"),i.thisPage.unbind("pagehide.remove"),0===a&&l>u&&i.thisPage.one("pagehide",function(){e(this).jqmData("lastScroll",l)}),i.menuPage.one("pageshow",function(){t()}).one("pagehide",function(){i.close()}),i.menuType="page",i.menuPageContent.append(i.list),i.menuPage.find("div .ui-title").text(i.label.text())):(i.menuType="overlay",i.listbox.one("popupafteropen",t))},_buildList:function(){var t=this,n=this.options,s=this.placeholder,o=!0,r=t.isMultiple?"checkbox-off":"false";t.list.empty().filter(".ui-listview").listview("destroy");for(var a,l=t.select.find("option"),u=l.length,c=this.select[0],h="data-"+e.mobile.ns,d=h+"option-index",p=h+"icon",f=h+"role",m=h+"placeholder",g=i.createDocumentFragment(),v=!1,b=0;u>b;b++,v=!1){var y=l[b],E=e(y),C=y.parentNode,w=E.text(),x=i.createElement("a"),O=[];if(x.setAttribute("href","#"),x.appendChild(i.createTextNode(w)),C!==c&&"optgroup"===C.nodeName.toLowerCase()){var T=C.getAttribute("label");if(T!==a){var _=i.createElement("li");_.setAttribute(f,"list-divider"),_.setAttribute("role","option"),_.setAttribute("tabindex","-1"),_.appendChild(i.createTextNode(T)),g.appendChild(_),a=T}}!o||y.getAttribute("value")&&0!==w.length&&!E.jqmData("placeholder")||(o=!1,v=!0,null===y.getAttribute(m)&&(this._removePlaceholderAttr=!0),y.setAttribute(m,!0),n.hidePlaceholderMenuItems&&O.push("ui-selectmenu-placeholder"),s!==w&&(s=t.placeholder=w));var S=i.createElement("li");y.disabled&&(O.push("ui-disabled"),S.setAttribute("aria-disabled",!0)),S.setAttribute(d,b),S.setAttribute(p,r),v&&S.setAttribute(m,!0),S.className=O.join(" "),S.setAttribute("role","option"),x.setAttribute("tabindex","-1"),S.appendChild(x),g.appendChild(S)}t.list[0].appendChild(g),this.isMultiple||s.length?this.headerTitle.text(this.placeholder):this.header.hide(),t.list.listview()},_button:function(){return e("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.close(),this._origTabIndex!==t&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+e.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove(),a.apply(this,arguments)}})};e.mobile.document.bind("selectmenubeforecreate",function(t){var i=e(t.target).data("mobile-selectmenu");i.options.nativeMenu||0!==i.element.parents(":jqmData(role='popup')").length||n(i)})}(e),function(e,t){e.widget("mobile.controlgroup",e.mobile.widget,e.extend({options:{shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1,initSelector:":jqmData(role='controlgroup')"},_create:function(){var i=this.element,n={inner:e("<div class='ui-controlgroup-controls'></div>"),legend:e("<div role='heading' class='ui-controlgroup-label'></div>")},s=i.children("legend"),o=this;i.wrapInner(n.inner),s.length&&n.legend.append(s).insertBefore(i.children(0)),i.addClass("ui-corner-all ui-controlgroup"),e.extend(this,{_initialRefresh:!0}),e.each(this.options,function(e,i){o.options[e]=t,o._setOption(e,i,!0)})},_init:function(){this.refresh()},_setOption:function(i,n){var s="_set"+i.charAt(0).toUpperCase()+i.slice(1);this[s]!==t&&this[s](n),this._super(i,n),this.element.attr("data-"+(e.mobile.ns||"")+i.replace(/([A-Z])/,"-$1").toLowerCase(),n)},_setType:function(e){this.element.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+e),this.refresh()},_setCorners:function(e){this.element.toggleClass("ui-corner-all",e)},_setShadow:function(e){this.element.toggleClass("ui-shadow",e)},_setMini:function(e){this.element.toggleClass("ui-mini",e)},container:function(){return this.element.children(".ui-controlgroup-controls")},refresh:function(){var t=this.element.find(".ui-btn").not(".ui-slider-handle"),i=this._initialRefresh;e.mobile.checkboxradio&&this.element.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(t,this.options.excludeInvisible?this._getVisibles(t,i):t,i),this._initialRefresh=!1}},e.mobile.behaviors.addFirstLastClasses)),e(function(){e.mobile.document.bind("pagecreate create",function(t){e.mobile.controlgroup.prototype.enhanceWithin(t.target,!0)})})}(e),function(e){e(i).bind("pagecreate create",function(t){e(t.target).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var t=this,n=e(this).attr("href"),s=n.substring(1);t.setAttribute("aria-haspopup",!0),t.setAttribute("aria-owns",s),t.setAttribute("aria-expanded",!1),e(i).on("popupafteropen",n,function(){t.setAttribute("aria-expanded",!0)}).on("popupafterclose",n,function(){t.setAttribute("aria-expanded",!1)})}).end().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})}(e),function(e,t){e.widget("mobile.fixedtoolbar",e.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!e.support.fixedPosition},initSelector:":jqmData(position='fixed')"},_create:function(){var t=this,i=t.options,n=t.element,s=n.is(":jqmData(role='header')")?"header":"footer",o=n.closest(".ui-page");return i.supportBlacklist()?(t.destroy(),void 0):(n.addClass("ui-"+s+"-fixed"),i.fullscreen?(n.addClass("ui-"+s+"-fullscreen"),o.addClass("ui-page-"+s+"-fullscreen")):o.addClass("ui-page-"+s+"-fixed"),e.extend(this,{_thisPage:null}),t._addTransitionClass(),t._bindPageEvents(),t._bindToggleHandlers(),void 0)},_addTransitionClass:function(){var e=this.options.transition;e&&"none"!==e&&("slide"===e&&(e=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(e))},_bindPageEvents:function(){this._thisPage=this.element.closest(".ui-page"),this._on(this._thisPage,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var t=this.options;t.disablePageZoom&&e.mobile.zoom.disable(!0),t.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this._thisPage)},_handlePageShow:function(){this.updatePagePadding(this._thisPage),this.options.updatePagePadding&&this._on(e.mobile.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(t,i){var n=this.options;if(n.disablePageZoom&&e.mobile.zoom.enable(!0),n.updatePagePadding&&this._off(e.mobile.window,"throttledresize"),n.trackPersistentToolbars){var s=e(".ui-footer-fixed:jqmData(id)",this._thisPage),o=e(".ui-header-fixed:jqmData(id)",this._thisPage),r=s.length&&i.nextPage&&e(".ui-footer-fixed:jqmData(id='"+s.jqmData("id")+"')",i.nextPage)||e(),a=o.length&&i.nextPage&&e(".ui-header-fixed:jqmData(id='"+o.jqmData("id")+"')",i.nextPage)||e();(r.length||a.length)&&(r.add(a).appendTo(e.mobile.pageContainer),i.nextPage.one("pageshow",function(){a.prependTo(this),r.appendTo(this)}))}},_visible:!0,updatePagePadding:function(i){var n=this.element,s=n.is(".ui-header"),o=parseFloat(n.css(s?"top":"bottom"));this.options.fullscreen||(i=i&&i.type===t&&i||this._thisPage||n.closest(".ui-page"),e(i).css("padding-"+(s?"top":"bottom"),n.outerHeight()+o))},_useTransition:function(t){var i=e.mobile.window,n=this.element,s=i.scrollTop(),o=n.height(),r=n.closest(".ui-page").height(),a=e.mobile.getScreenHeight(),l=n.is(":jqmData(role='header')")?"header":"footer";return!t&&(this.options.transition&&"none"!==this.options.transition&&("header"===l&&!this.options.fullscreen&&s>o||"footer"===l&&!this.options.fullscreen&&r-o>s+a)||this.options.fullscreen)},show:function(e){var t="ui-fixed-hidden",i=this.element;this._useTransition(e)?i.removeClass("out "+t).addClass("in").animationComplete(function(){i.removeClass("in")}):i.removeClass(t),this._visible=!0},hide:function(e){var t="ui-fixed-hidden",i=this.element,n="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(e)?i.addClass(n).removeClass("in").animationComplete(function(){i.addClass(t).removeClass(n)}):i.addClass(t).removeClass(n),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var t,i,n=this,s=n.options,o=n.element,r=!0;o.closest(".ui-page").bind("vclick",function(t){s.tapToggle&&!e(t.target).closest(s.tapToggleBlacklist).length&&n.toggle()}).bind("focusin focusout",function(o){screen.width<1025&&e(o.target).is(s.hideDuringFocus)&&!e(o.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==o.type||r?"focusin"===o.type&&r&&(clearTimeout(t),r=!1,i=setTimeout(function(){n.hide()},0)):(r=!0,clearTimeout(i),t=setTimeout(function(){n.show()},0)))})},_destroy:function(){var e=this.element,t=e.is(".ui-header");e.closest(".ui-page").css("padding-"+(t?"top":"bottom"),""),e.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),e.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}}),e.mobile.document.bind("pagecreate create",function(t){e(t.target).jqmData("fullscreen")&&e(e.mobile.fixedtoolbar.prototype.options.initSelector,t.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0),e.mobile.fixedtoolbar.prototype.enhanceWithin(t.target)})}(e),function(e){e.widget("mobile.fixedtoolbar",e.mobile.fixedtoolbar,{_create:function(){this._super(),this._workarounds()},_workarounds:function(){var e=navigator.userAgent,t=navigator.platform,i=e.match(/AppleWebKit\/([0-9]+)/),n=!!i&&i[1],s=null,o=this;if(t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1||t.indexOf("iPod")>-1)s="ios";else{if(!(e.indexOf("Android")>-1))return;s="android"}if("ios"===s)o._bindScrollWorkaround();else{if(!("android"===s&&n&&534>n))return;o._bindScrollWorkaround(),o._bindListThumbWorkaround()}},_viewportOffset:function(){var t=this.element,i=t.is(".ui-header"),n=Math.abs(t.offset().top-e.mobile.window.scrollTop());return i||(n=Math.round(n-e.mobile.window.height()+t.outerHeight())-60),n},_bindScrollWorkaround:function(){var t=this;this._on(e.mobile.window,{scrollstop:function(){var e=t._viewportOffset();e>2&&t._visible&&t._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var t=parseFloat(e(".ui-page-active").css("padding-bottom"));e(".ui-page-active").css("padding-bottom",t+1+"px"),setTimeout(function(){e(".ui-page-active").css("padding-bottom",t+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(e),function(e,n){e.widget("mobile.panel",e.mobile.widget,{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pagePanel:"ui-page-panel",pagePanelOpen:"ui-page-panel-open",contentWrap:"ui-panel-content-wrap",contentWrapOpen:"ui-panel-content-wrap-open",contentWrapClosed:"ui-panel-content-wrap-closed",contentFixedToolbar:"ui-panel-content-fixed-toolbar",contentFixedToolbarOpen:"ui-panel-content-fixed-toolbar-open",contentFixedToolbarClosed:"ui-panel-content-fixed-toolbar-closed",animate:"ui-panel-animate"},animate:!0,theme:"c",position:"left",dismissible:!0,display:"reveal",initSelector:":jqmData(role='panel')",swipeClose:!0,positionFixed:!1},_panelID:null,_closeLink:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbar:null,_create:function(){var t=this,i=t.element,n=i.closest(":jqmData(role='page')"),s=function(){var t=e.data(n[0],"mobilePage").options.theme,i="ui-body-"+t;return i},o=function(){var e=i.find("."+t.options.classes.panelInner);return 0===e.length&&(e=i.children().wrapAll('<div class="'+t.options.classes.panelInner+'" />').parent()),e},r=function(){var i=n.find("."+t.options.classes.contentWrap);return 0===i.length&&(i=n.children(".ui-header:not(:jqmData(position='fixed')), .ui-content:not(:jqmData(role='popup')), .ui-footer:not(:jqmData(position='fixed'))").wrapAll('<div class="'+t.options.classes.contentWrap+" "+s()+'" />').parent(),e.support.cssTransform3d&&t.options.animate&&i.addClass(t.options.classes.animate)),i},a=function(){var i=n.find("."+t.options.classes.contentFixedToolbar);return 0===i.length&&(i=n.find(".ui-header:jqmData(position='fixed'), .ui-footer:jqmData(position='fixed')").addClass(t.options.classes.contentFixedToolbar),e.support.cssTransform3d&&t.options.animate&&i.addClass(t.options.classes.animate)),i};e.extend(this,{_panelID:i.attr("id"),_closeLink:i.find(":jqmData(rel='close')"),_page:i.closest(":jqmData(role='page')"),_pageTheme:s(),_panelInner:o(),_wrapper:r(),_fixedToolbar:a()}),t._addPanelClasses(),t._wrapper.addClass(this.options.classes.contentWrapClosed),t._fixedToolbar.addClass(this.options.classes.contentFixedToolbarClosed),t._page.addClass(t.options.classes.pagePanel),e.support.cssTransform3d&&t.options.animate&&this.element.addClass(t.options.classes.animate),t._bindUpdateLayout(),t._bindCloseEvents(),t._bindLinkListeners(),t._bindPageEvents(),t.options.dismissible&&t._createModal(),t._bindSwipeEvents()},_createModal:function(){var t=this;t._modal=e("<div class='"+t.options.classes.modal+"' data-panelid='"+t._panelID+"'></div>").on("mousedown",function(){t.close()}).appendTo(this._page)},_getPosDisplayClasses:function(e){return e+"-position-"+this.options.position+" "+e+"-display-"+this.options.display},_getPanelClasses:function(){var e=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed;return this.options.theme&&(e+=" ui-body-"+this.options.theme),this.options.positionFixed&&(e+=" "+this.options.classes.panelFixed),e},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_bindCloseEvents:function(){var e=this;e._closeLink.on("click.panel",function(t){return t.preventDefault(),e.close(),!1}),e.element.on("click.panel","a:jqmData(ajax='false')",function(){e.close()})},_positionPanel:function(){var t=this,i=t._panelInner.outerHeight(),n=i>e.mobile.getScreenHeight();n||!t.options.positionFixed?(n&&(t._unfixPanel(),e.mobile.resetActivePageHeight(i)),t._scrollIntoView(i)):t._fixPanel()},_scrollIntoView:function(i){i<e(t).scrollTop()&&t.scrollTo(0,0)},_bindFixListener:function(){this._on(e(t),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(e(t),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&e.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&e.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var e=this;e.element.on("updatelayout",function(){e._open&&e._positionPanel()})},_bindLinkListeners:function(){var t=this;t._page.on("click.panel","a",function(i){if(this.href.split("#")[1]===t._panelID&&t._panelID!==n){i.preventDefault();var s,o=e(this);return o.hasClass("ui-link")||(s=o.parent().parent(),s.hasClass("ui-li")&&(o=s.parent()),o.addClass(e.mobile.activeBtnClass),t.element.one("panelopen panelclose",function(){o.removeClass(e.mobile.activeBtnClass)})),t.toggle(),!1}})},_bindSwipeEvents:function(){var e=this,t=e._modal?e.element.add(e._modal):e.element;e.options.swipeClose&&("left"===e.options.position?t.on("swipeleft.panel",function(){e.close()}):t.on("swiperight.panel",function(){e.close()}))},_bindPageEvents:function(){var e=this;e._page.on("panelbeforeopen",function(t){e._open&&t.target!==e.element[0]&&e.close()}).on("pagehide",function(){e._open&&e.close(!0)}).on("keyup.panel",function(t){27===t.keyCode&&e._open&&e.close()})},_open:!1,_contentWrapOpenClasses:null,_fixedToolbarOpenClasses:null,_modalOpenClasses:null,open:function(t){if(!this._open){var i=this,n=i.options,s=function(){i._page.off("panelclose"),i._page.jqmData("panel","open"),!t&&e.support.cssTransform3d&&n.animate?i.element.add(i._wrapper).on(i._transitionEndEvents,o):setTimeout(o,0),i.options.theme&&"overlay"!==i.options.display&&i._page.removeClass(i._pageTheme).addClass("ui-body-"+i.options.theme),i.element.removeClass(n.classes.panelClosed).addClass(n.classes.panelOpen),i._positionPanel(),i.options.theme&&"overlay"!==i.options.display&&i._wrapper.css("min-height",i._page.css("min-height")),i._contentWrapOpenClasses=i._getPosDisplayClasses(n.classes.contentWrap),i._wrapper.removeClass(n.classes.contentWrapClosed).addClass(i._contentWrapOpenClasses+" "+n.classes.contentWrapOpen),i._fixedToolbarOpenClasses=i._getPosDisplayClasses(n.classes.contentFixedToolbar),i._fixedToolbar.removeClass(n.classes.contentFixedToolbarClosed).addClass(i._fixedToolbarOpenClasses+" "+n.classes.contentFixedToolbarOpen),i._modalOpenClasses=i._getPosDisplayClasses(n.classes.modal)+" "+n.classes.modalOpen,i._modal&&i._modal.addClass(i._modalOpenClasses)},o=function(){i.element.add(i._wrapper).off(i._transitionEndEvents,o),i._page.addClass(n.classes.pagePanelOpen),i._bindFixListener(),i._trigger("open")};this.element.closest(".ui-page-active").length<0&&(t=!0),i._trigger("beforeopen"),"open"===i._page.jqmData("panel")?i._page.on("panelclose",function(){s()}):s(),i._open=!0}},close:function(t){if(this._open){var i=this.options,n=this,s=function(){!t&&e.support.cssTransform3d&&i.animate?n.element.add(n._wrapper).on(n._transitionEndEvents,o):setTimeout(o,0),n._page.removeClass(i.classes.pagePanelOpen),n.element.removeClass(i.classes.panelOpen),n._wrapper.removeClass(i.classes.contentWrapOpen),n._fixedToolbar.removeClass(i.classes.contentFixedToolbarOpen),n._modal&&n._modal.removeClass(n._modalOpenClasses)},o=function(){n.options.theme&&"overlay"!==n.options.display&&(n._page.removeClass("ui-body-"+n.options.theme).addClass(n._pageTheme),n._wrapper.css("min-height","")),n.element.add(n._wrapper).off(n._transitionEndEvents,o),n.element.addClass(i.classes.panelClosed),n._wrapper.removeClass(n._contentWrapOpenClasses).addClass(i.classes.contentWrapClosed),n._fixedToolbar.removeClass(n._fixedToolbarOpenClasses).addClass(i.classes.contentFixedToolbarClosed),n._fixPanel(),n._unbindFixListener(),e.mobile.resetActivePageHeight(),n._page.jqmRemoveData("panel"),n._trigger("close")};this.element.closest(".ui-page-active").length<0&&(t=!0),n._trigger("beforeclose"),s(),n._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_transitionEndEvents:"webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",_destroy:function(){var t=this.options.classes,i=this.options.theme,n=this.element.siblings("."+t.panel).length;n?this._open&&(this._wrapper.removeClass(t.contentWrapOpen),this._fixedToolbar.removeClass(t.contentFixedToolbarOpen),this._page.jqmRemoveData("panel"),this._page.removeClass(t.pagePanelOpen),i&&this._page.removeClass("ui-body-"+i).addClass(this._pageTheme)):(this._wrapper.children().unwrap(),this._page.find("a").unbind("panelopen panelclose"),this._page.removeClass(t.pagePanel),this._open&&(this._page.jqmRemoveData("panel"),this._page.removeClass(t.pagePanelOpen),i&&this._page.removeClass("ui-body-"+i).addClass(this._pageTheme),e.mobile.resetActivePageHeight())),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),t.panelAnimate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._closeLink.off("click.panel"),this._modal&&this._modal.remove(),this.element.off(this._transitionEndEvents).removeClass([t.panelUnfixed,t.panelClosed,t.panelOpen].join(" "))}}),e(i).bind("pagecreate create",function(t){e.mobile.panel.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.table",e.mobile.widget,{options:{classes:{table:"ui-table"},initSelector:":jqmData(role='table')"},_create:function(){var e=this;e.refresh(!0)},refresh:function(i){var n=this,s=this.element.find("thead tr");i&&this.element.addClass(this.options.classes.table),n.headers=this.element.find("tr:eq(0)").children(),n.allHeaders=n.headers.add(s.children()),s.each(function(){var o=0;e(this).children().each(function(){var r=parseInt(e(this).attr("colspan"),10),a=":nth-child("+(o+1)+")";if(e(this).jqmData("colstart",o+1),r)for(var l=0;r-1>l;l++)o++,a+=", :nth-child("+(o+1)+")";i===t&&e(this).jqmData("cells",""),e(this).jqmData("cells",n.element.find("tr").not(s.eq(0)).not(this).children(a)),o++})}),i===t&&this.element.trigger("refresh")}}),e.mobile.document.bind("pagecreate create",function(t){e.mobile.table.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.mobile.table.prototype.options.mode="columntoggle",e.mobile.table.prototype.options.columnBtnTheme=null,e.mobile.table.prototype.options.columnPopupTheme=null,e.mobile.table.prototype.options.columnBtnText="Columns...",e.mobile.table.prototype.options.classes=e.extend(e.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"}),e.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(i){var n,s,o,r,a=e(this),l=a.data("mobile-table"),u=i.type,c=l.options,h=e.mobile.ns,d=(a.attr("id")||c.classes.popup)+"-popup";"columntoggle"===c.mode&&("refresh"!==u&&(l.element.addClass(c.classes.columnToggleTable),n=e("<a href='#"+d+"' class='"+c.classes.columnBtn+"' data-"+h+"rel='popup' data-"+h+"mini='true'>"+c.columnBtnText+"</a>"),s=e("<div data-"+h+"role='popup' data-"+h+"role='fieldcontain' class='"+c.classes.popup+"' id='"+d+"'></div>"),o=e("<fieldset data-"+h+"role='controlgroup'></fieldset>")),l.headers.not("td").each(function(t){var i=e(this).jqmData("priority"),n=e(this).add(e(this).jqmData("cells"));i&&(n.addClass(c.classes.priorityPrefix+i),"refresh"!==u?e("<label><input type='checkbox' checked />"+e(this).text()+"</label>").appendTo(o).children(0).jqmData("cells",n).checkboxradio({theme:c.columnPopupTheme}):e("#"+d+" fieldset div:eq("+t+")").find("input").jqmData("cells",n))}),"refresh"!==u&&o.appendTo(s),r=o===t?e("#"+d+" fieldset"):o,"refresh"!==u&&(r.on("change","input",function(){this.checked?e(this).jqmData("cells").removeClass("ui-table-cell-hidden").addClass("ui-table-cell-visible"):e(this).jqmData("cells").removeClass("ui-table-cell-visible").addClass("ui-table-cell-hidden")}),n.insertBefore(a).buttonMarkup({theme:c.columnBtnTheme}),s.insertBefore(a).popup()),l.update=function(){r.find("input").each(function(){this.checked?(this.checked="table-cell"===e(this).jqmData("cells").eq(0).css("display"),"refresh"===u&&e(this).jqmData("cells").addClass("ui-table-cell-visible")):e(this).jqmData("cells").addClass("ui-table-cell-hidden"),e(this).checkboxradio("refresh")})},e.mobile.window.on("throttledresize",l.update),l.update())})}(e),function(e){e.mobile.table.prototype.options.mode="reflow",e.mobile.table.prototype.options.classes=e.extend(e.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"}),e.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(t){var i=e(this),n=t.type,s=i.data("mobile-table"),o=s.options;if("reflow"===o.mode){"refresh"!==n&&s.element.addClass(o.classes.reflowTable);var r=e(s.allHeaders.get().reverse());r.each(function(){var t=e(this).jqmData("cells"),i=e(this).jqmData("colstart"),n=t.not(this).filter("thead th").length&&" ui-table-cell-label-top",s=e(this).text();if(""!==s)if(n){var r=parseInt(e(this).attr("colspan"),10),a="";r&&(a="td:nth-child("+r+"n + "+i+")"),t.filter(a).prepend("<b class='"+o.classes.cellLabels+n+"'>"+s+"</b>")}else t.prepend("<b class='"+o.classes.cellLabels+"'>"+s+"</b>")})}})}(e),function(e,t){function i(e){s=e.originalEvent,l=s.accelerationIncludingGravity,o=Math.abs(l.x),r=Math.abs(l.y),a=Math.abs(l.z),!t.orientation&&(o>7||(a>6&&8>r||8>a&&r>6)&&o>5)?u.enabled&&u.disable():u.enabled||u.enable()}e.mobile.iosorientationfixEnabled=!0;var n=navigator.userAgent;if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(n)&&n.indexOf("AppleWebKit")>-1))return e.mobile.iosorientationfixEnabled=!1,void 0;var s,o,r,a,l,u=e.mobile.zoom;e.mobile.document.on("mobileinit",function(){e.mobile.iosorientationfixEnabled&&e.mobile.window.bind("orientationchange.iosorientationfix",u.enable).bind("devicemotion.iosorientationfix",i)})}(e,this),function(e,t){function n(){s.removeClass("ui-mobile-rendering")}var s=e("html"),o=(e("head"),e.mobile.window);e(t.document).trigger("mobileinit"),e.mobile.gradeA()&&(e.mobile.ajaxBlacklist&&(e.mobile.ajaxEnabled=!1),s.addClass("ui-mobile ui-mobile-rendering"),setTimeout(n,5e3),e.extend(e.mobile,{initializePage:function(){var t=e.mobile.path,s=e(":jqmData(role='page'), :jqmData(role='dialog')"),r=t.stripHash(t.stripQueryParams(t.parseLocation().hash)),a=i.getElementById(r);s.length||(s=e("body").wrapInner("<div data-"+e.mobile.ns+"role='page'></div>").children(0)),s.each(function(){var t=e(this);t.jqmData("url")||t.attr("data-"+e.mobile.ns+"url",t.attr("id")||location.pathname+location.search)}),e.mobile.firstPage=s.first(),e.mobile.pageContainer=e.mobile.firstPage.parent().addClass("ui-mobile-viewport"),e.mobile.navreadyDeferred.resolve(),o.trigger("pagecontainercreate"),e.mobile.showPageLoadingMsg(),n(),e.mobile.hashListeningEnabled&&e.mobile.path.isHashValid(location.hash)&&(e(a).is(':jqmData(role="page")')||e.mobile.path.isPath(r)||r===e.mobile.dialogHashKey)?e.event.special.navigate.isPushStateEnabled()?(e.mobile.navigate.history.stack=[],e.mobile.navigate(e.mobile.path.isPath(location.hash)?location.hash:location.href)):o.trigger("hashchange",[!0]):(e.mobile.path.isHashValid(location.hash)&&(e.mobile.urlHistory.initialDst=r.replace("#","")),e.event.special.navigate.isPushStateEnabled()&&e.mobile.navigate.navigator.squash(t.parseLocation().href),e.mobile.changePage(e.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),e(function(){t.scrollTo(0,1),e.mobile.defaultHomeScroll=e.support.scrollTop&&1!==e.mobile.window.scrollTop()?1:0,e.mobile.autoInitializePage&&e.mobile.initializePage(),o.load(e.mobile.silentScroll),e.support.cssPointerEvents||e.mobile.document.delegate(".ui-disabled","vclick",function(e){e.preventDefault(),e.stopImmediatePropagation()})}))}(e,this)}),function(e,t){function i(t,i){var s,o,r,a=t.nodeName.toLowerCase();return"area"===a?(s=t.parentNode,o=s.name,t.href&&o&&"map"===s.nodeName.toLowerCase()?(r=e("img[usemap=#"+o+"]")[0],!!r&&n(r)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,o=e(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each(function(){e(this).css(r,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(r,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,o=e.ui[t].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})}(jQuery),function(e,t){var i=0,n=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(o){}s(t)},e.widget=function(i,n,s){var o,r,a,l,u={},c=i.split(".")[0];i=i.split(".")[1],o=c+"-"+i,s||(s=n,n=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},r=e[c][i],a=e[c][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new a(e,i)
},e.extend(a,r,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),l=new n,l.options=e.widget.extend({},l.options),e.each(s,function(i,s){return e.isFunction(s)?(u[i]=function(){var e=function(){return n.prototype[i].apply(this,arguments)},t=function(e){return n.prototype[i].apply(this,e)};return function(){var i,n=this._super,o=this._superApply;return this._super=e,this._superApply=t,i=s.apply(this,arguments),this._super=n,this._superApply=o,i}}(),t):(u[i]=s,t)}),a.prototype=e.widget.extend(l,{widgetEventPrefix:r?l.widgetEventPrefix:i},u,{constructor:a,namespace:c,widgetName:i,widgetFullName:o}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete r._childConstructors):n._childConstructors.push(a),e.widget.bridge(i,a)},e.widget.extend=function(i){for(var s,o,r=n.call(arguments,1),a=0,l=r.length;l>a;a++)for(s in r[a])o=r[a][s],r[a].hasOwnProperty(s)&&o!==t&&(i[s]=e.isPlainObject(o)?e.isPlainObject(i[s])?e.widget.extend({},i[s],o):e.widget.extend({},o):o);return i},e.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;e.fn[i]=function(r){var a="string"==typeof r,l=n.call(arguments,1),u=this;return r=!a&&l.length?e.widget.extend.apply(null,[r].concat(l)):r,a?this.each(function(){var n,s=e.data(this,o);return s?e.isFunction(s[r])&&"_"!==r.charAt(0)?(n=s[r].apply(s,l),n!==s&&n!==t?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):t):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(r||{})._init():e.data(this,o,new s(r,this))}),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var s,o,r,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},s=i.split("."),i=s.shift(),s.length){for(o=a[i]=e.widget.extend({},this.options[i]),r=0;s.length-1>r;r++)o[s[r]]=o[s[r]]||{},o=o[s[r]];if(i=s.pop(),n===t)return o[i]===t?null:o[i];o[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,s){var o,r=this;"boolean"!=typeof i&&(s=n,n=i,i=!1),s?(n=o=e(n),this.bindings=this.bindings.add(n)):(s=n,n=this.element,o=this.widget()),e.each(s,function(s,a){function l(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?r[a]:a).apply(r,arguments):t}"string"!=typeof a&&(l.guid=a.guid=a.guid||l.guid||e.guid++);var u=s.match(/^(\w+)\s*(.*)$/),c=u[1]+r.eventNamespace,h=u[2];h?o.delegate(h,c,l):n.bind(c,l)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,o,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&e.effects&&e.effects.effect[a]?n[t](s):a!==t&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return s&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;return s.containment?"window"===s.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===s.containment?(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):s.containment.constructor===Array?(this.containment=s.containment,void 0):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),i=e(s.containment),n=i[0],n&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(t){var i,n,s,o,r=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,u=t.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),r.grid&&(s=r.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,u=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-r.grid[1]:s+r.grid[1]:s,o=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-r.grid[0]:o+r.grid[0]:o)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),s=n.options,o=e.extend({},i,{item:n.element});n.sortables=[],e(s.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,o))})},stop:function(t,i){var n=e(this).data("ui-draggable"),s=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))})},drag:function(t,i){var n=e(this).data("ui-draggable"),s=this;e.each(n.sortables,function(){var o=!1,r=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(r.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),s=e(this).data("ui-draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,s=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){var n,s,o,r,a,l,u,c,h,d,p=e(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,b=i.offset.top,y=b+p.helperProportions.height;for(h=p.snapElements.length-1;h>=0;h--)a=p.snapElements[h].left,l=a+p.snapElements[h].width,u=p.snapElements[h].top,c=u+p.snapElements[h].height,a-m>v||g>l+m||u-m>y||b>c+m||!e.contains(p.snapElements[h].item.ownerDocument,p.snapElements[h].item)?(p.snapElements[h].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-y),s=m>=Math.abs(c-b),o=m>=Math.abs(a-v),r=m>=Math.abs(l-g),n&&(i.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=n||s||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-b),s=m>=Math.abs(c-y),o=m>=Math.abs(a-g),r=m>=Math.abs(l-v),n&&(i.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[h].snapping&&(n||s||o||r||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=n||s||o||r||d)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),s=e(this).data("ui-draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(e){function t(e,t,i){return e>t&&t+i>e}e.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];i.length>t;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,s=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(s=!0,!1):void 0}),s?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,i,n){if(!i.offset)return!1;var s,o,r=(e.positionAbs||e.position.absolute).left,a=r+e.helperProportions.width,l=(e.positionAbs||e.position.absolute).top,u=l+e.helperProportions.height,c=i.offset.left,h=c+i.proportions.width,d=i.offset.top,p=d+i.proportions.height;switch(n){case"fit":return r>=c&&h>=a&&l>=d&&p>=u;case"intersect":return r+e.helperProportions.width/2>c&&h>a-e.helperProportions.width/2&&l+e.helperProportions.height/2>d&&p>u-e.helperProportions.height/2;case"pointer":return s=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,o=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(o,d,i.proportions.height)&&t(s,c,i.proportions.width);case"touch":return(l>=d&&p>=l||u>=d&&p>=u||d>l&&u>p)&&(r>=c&&h>=r||a>=c&&h>=a||c>r&&a>h);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,s,o=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;o.length>n;n++)if(!(o[n].options.disabled||t&&!o[n].accept.call(o[n].element[0],t.currentItem||t.element))){for(s=0;a.length>s;s++)if(a[s]===o[n].element[0]){o[n].proportions.height=0;continue e}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===r&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions={width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight})}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,o,r=e.ui.intersect(t,this,this.options.tolerance),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;
a&&(this.options.greedy&&(s=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===s}),o.length&&(n=e.data(o[0],"ui-droppable"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var i=e.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}}if(e.support.touch="ontouchend"in document,e.support.touch){var i,n=e.ui.mouse.prototype,s=n._mouseInit;n._touchStart=function(e){var n=this;!i&&n._mouseCapture(e.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},n._touchMove=function(e){i&&(this._touchMoved=!0,t(e,"mousemove"))},n._touchEnd=function(e){i&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),i=!1)},n._mouseInit=function(){var t=this;t.element.bind("touchstart",e.proxy(t,"_touchStart")).bind("touchmove",e.proxy(t,"_touchMove")).bind("touchend",e.proxy(t,"_touchEnd")),s.call(t)}}}(jQuery),"undefined"==typeof YAHOO||!YAHOO)var YAHOO={};YAHOO.namespace=function(){var e,t,i,n=arguments,s=null;for(e=0;e<n.length;e+=1)for(i=(""+n[e]).split("."),s=YAHOO,t="YAHOO"==i[0]?1:0;t<i.length;t+=1)s[i[t]]=s[i[t]]||{},s=s[i[t]];return s},YAHOO.log=function(e,t,i){var n=YAHOO.widget.Logger;return n&&n.log?n.log(e,t,i):!1},YAHOO.register=function(e,t,i){var n,s,o,r,a,l=YAHOO.env.modules;for(l[e]||(l[e]={versions:[],builds:[]}),n=l[e],s=i.version,o=i.build,r=YAHOO.env.listeners,n.name=e,n.version=s,n.build=o,n.versions.push(s),n.builds.push(o),n.mainClass=t,a=0;a<r.length;a+=1)r[a](n);t?(t.VERSION=s,t.BUILD=o):YAHOO.log("mainClass is undefined for module "+e,"warn")},YAHOO.env=YAHOO.env||{modules:[],listeners:[]},YAHOO.env.getVersion=function(e){return YAHOO.env.modules[e]||null},YAHOO.env.ua=function(){var e,t=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1==t++?"":"."}))},i=navigator,n={ie:0,opera:0,gecko:0,webkit:0,mobile:null,air:0,caja:i.cajaVersion,secure:!1,os:null},s=navigator&&navigator.userAgent,o=window&&window.location,r=o&&o.href;return n.secure=r&&0===r.toLowerCase().indexOf("https"),s&&(/windows|win32/i.test(s)?n.os="windows":/macintosh/i.test(s)&&(n.os="macintosh"),/KHTML/.test(s)&&(n.webkit=1),e=s.match(/AppleWebKit\/([^\s]*)/),e&&e[1]&&(n.webkit=t(e[1]),/ Mobile\//.test(s)?n.mobile="Apple":(e=s.match(/NokiaN[^\/]*/),e&&(n.mobile=e[0])),e=s.match(/AdobeAIR\/([^\s]*)/),e&&(n.air=e[0])),n.webkit||(e=s.match(/Opera[\s\/]([^\s]*)/),e&&e[1]?(n.opera=t(e[1]),e=s.match(/Opera Mini[^;]*/),e&&(n.mobile=e[0])):(e=s.match(/MSIE\s([^;]*)/),e&&e[1]?n.ie=t(e[1]):(e=s.match(/Gecko\/([^\s]*)/),e&&(n.gecko=1,e=s.match(/rv:([^\s\)]*)/),e&&e[1]&&(n.gecko=t(e[1]))))))),n}(),function(){if(YAHOO.namespace("util","widget","example"),"undefined"!=typeof YAHOO_config){var e,t=YAHOO_config.listener,i=YAHOO.env.listeners,n=!0;if(t){for(e=0;e<i.length;e++)if(i[e]==t){n=!1;break}n&&i.push(t)}}}(),YAHOO.lang=YAHOO.lang||{},function(){var e=YAHOO.lang,t=Object.prototype,i="[object Array]",n="[object Function]",s="[object Object]",o=[],r=["toString","valueOf"],a={isArray:function(e){return t.toString.apply(e)===i},isBoolean:function(e){return"boolean"==typeof e},isFunction:function(e){return"function"==typeof e||t.toString.apply(e)===n},isNull:function(e){return null===e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isString:function(e){return"string"==typeof e},isUndefined:function(e){return"undefined"==typeof e},_IEEnumFix:YAHOO.env.ua.ie?function(i,n){var s,o,a;for(s=0;s<r.length;s+=1)o=r[s],a=n[o],e.isFunction(a)&&a!=t[o]&&(i[o]=a)}:function(){},extend:function(i,n,s){if(!n||!i)throw new Error("extend failed, please check that all dependencies are included.");var o,r=function(){};if(r.prototype=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.superclass=n.prototype,n.prototype.constructor==t.constructor&&(n.prototype.constructor=n),s){for(o in s)e.hasOwnProperty(s,o)&&(i.prototype[o]=s[o]);e._IEEnumFix(i.prototype,s)}},augmentObject:function(t,i){if(!i||!t)throw new Error("Absorb failed, verify dependencies.");var n,s,o=arguments,r=o[2];if(r&&r!==!0)for(n=2;n<o.length;n+=1)t[o[n]]=i[o[n]];else{for(s in i)!r&&s in t||(t[s]=i[s]);e._IEEnumFix(t,i)}},augmentProto:function(t,i){if(!i||!t)throw new Error("Augment failed, verify dependencies.");var n,s=[t.prototype,i.prototype];for(n=2;n<arguments.length;n+=1)s.push(arguments[n]);e.augmentObject.apply(this,s)},dump:function(t,i){var n,s,o=[],r="{...}",a="f(){...}",l=", ",u=" => ";if(!e.isObject(t))return t+"";if(t instanceof Date||"nodeType"in t&&"tagName"in t)return t;if(e.isFunction(t))return a;if(i=e.isNumber(i)?i:3,e.isArray(t)){for(o.push("["),n=0,s=t.length;s>n;n+=1)e.isObject(t[n])?o.push(i>0?e.dump(t[n],i-1):r):o.push(t[n]),o.push(l);o.length>1&&o.pop(),o.push("]")}else{o.push("{");for(n in t)e.hasOwnProperty(t,n)&&(o.push(n+u),e.isObject(t[n])?o.push(i>0?e.dump(t[n],i-1):r):o.push(t[n]),o.push(l));o.length>1&&o.pop(),o.push("}")}return o.join("")},substitute:function(t,i,n){for(var o,r,a,l,u,c,h,d,p,f=[],m="dump",g=" ",v="{",b="}";(o=t.lastIndexOf(v),!(0>o))&&(r=t.indexOf(b,o),!(o+1>=r));)h=t.substring(o+1,r),l=h,c=null,a=l.indexOf(g),a>-1&&(c=l.substring(a+1),l=l.substring(0,a)),u=i[l],n&&(u=n(l,u,c)),e.isObject(u)?e.isArray(u)?u=e.dump(u,parseInt(c,10)):(c=c||"",d=c.indexOf(m),d>-1&&(c=c.substring(4)),p=u.toString(),u=p===s||d>-1?e.dump(u,parseInt(c,10)):p):e.isString(u)||e.isNumber(u)||(u="~-"+f.length+"-~",f[f.length]=h),t=t.substring(0,o)+u+t.substring(r+1);for(o=f.length-1;o>=0;o-=1)t=t.replace(new RegExp("~-"+o+"-~"),"{"+f[o]+"}","g");return t},trim:function(e){try{return e.replace(/^\s+|\s+$/g,"")}catch(t){return e}},merge:function(){var t,i={},n=arguments,s=n.length;for(t=0;s>t;t+=1)e.augmentObject(i,n[t],!0);return i},later:function(t,i,n,s,r){t=t||0,i=i||{};var a,l,u=n,c=s;if(e.isString(n)&&(u=i[n]),!u)throw new TypeError("method undefined");return c&&!e.isArray(c)&&(c=[s]),a=function(){u.apply(i,c||o)},l=r?setInterval(a,t):setTimeout(a,t),{interval:r,cancel:function(){this.interval?clearInterval(l):clearTimeout(l)}}},isValue:function(t){return e.isObject(t)||e.isString(t)||e.isNumber(t)||e.isBoolean(t)}};e.hasOwnProperty=t.hasOwnProperty?function(e,t){return e&&e.hasOwnProperty(t)}:function(t,i){return!e.isUndefined(t[i])&&t.constructor.prototype[i]!==t[i]},a.augmentObject(e,a,!0),YAHOO.util.Lang=e,e.augment=e.augmentProto,YAHOO.augment=e.augmentProto,YAHOO.extend=e.extend}(),YAHOO.register("yahoo",YAHOO,{version:"2.8.1",build:"19"}),YAHOO.util.Get=function(){var e={},t=0,i=0,n=!1,s=YAHOO.env.ua,o=YAHOO.lang,r=function(e,t,i){var n=i||window,s=n.document,o=s.createElement(e);for(var r in t)t[r]&&YAHOO.lang.hasOwnProperty(t,r)&&o.setAttribute(r,t[r]);return o},a=function(e,t,n){var s={id:"yui__dyn_"+i++,type:"text/css",rel:"stylesheet",href:e};return n&&o.augmentObject(s,n),r("link",s,t)},l=function(e,t,n){var s={id:"yui__dyn_"+i++,type:"text/javascript",src:e};return n&&o.augmentObject(s,n),r("script",s,t)},u=function(e,t){return{tId:e.tId,win:e.win,data:e.data,nodes:e.nodes,msg:t,purge:function(){g(this.tId)}}},c=function(t,i){var n=e[i],s=o.isString(t)?n.win.document.getElementById(t):t;return s||h(i,"target node not found: "+t),s},h=function(t,i){var n=e[t];if(n.onFailure){var s=n.scope||n.win;n.onFailure.call(s,u(n,i))}},d=function(t){var i=e[t];if(i.finished=!0,i.aborted){var n="transaction "+t+" was aborted";return h(t,n),void 0}if(i.onSuccess){var s=i.scope||i.win;i.onSuccess.call(s,u(i))}},p=function(t){var i=e[t];if(i.onTimeout){var n=i.scope||i;i.onTimeout.call(n,u(i))}},f=function(t,i){var n=e[t];if(n.timer&&n.timer.cancel(),n.aborted){var r="transaction "+t+" was aborted";return h(t,r),void 0}i?(n.url.shift(),n.varName&&n.varName.shift()):(n.url=o.isString(n.url)?[n.url]:n.url,n.varName&&(n.varName=o.isString(n.varName)?[n.varName]:n.varName));var u,m=n.win,g=m.document,v=g.getElementsByTagName("head")[0];if(0!==n.url.length){var y=n.url[0];if(!y)return n.url.shift(),f(t);if(n.timeout&&(n.timer=o.later(n.timeout,n,p,t)),u="script"===n.type?l(y,m,n.attributes):a(y,m,n.attributes),b(n.type,u,t,y,m,n.url.length),n.nodes.push(u),n.insertBefore){var E=c(n.insertBefore,t);E&&E.parentNode.insertBefore(u,E)}else v.appendChild(u);(s.webkit||s.gecko)&&"css"===n.type&&f(t,y)}else if("script"===n.type&&s.webkit&&s.webkit<420&&!n.finalpass&&!n.varName){var C=l(null,n.win,n.attributes);C.innerHTML='YAHOO.util.Get._finalize("'+t+'");',n.nodes.push(C),v.appendChild(C)}else d(t)},m=function(){if(!n){n=!0;for(var t in e){var i=e[t];i.autopurge&&i.finished&&(g(i.tId),delete e[t])}n=!1}},g=function(t){if(e[t]){var i,n,s,o,r=e[t],a=r.nodes,l=a.length,u=r.win.document,h=u.getElementsByTagName("head")[0];for(r.insertBefore&&(i=c(r.insertBefore,t),i&&(h=i.parentNode)),n=0;l>n;n+=1){if(s=a[n],s.clearAttributes)s.clearAttributes();else for(o in s)delete s[o];h.removeChild(s)}r.nodes=[]}},v=function(i,n,s){var r="q"+t++;s=s||{},0===t%YAHOO.util.Get.PURGE_THRESH&&m(),e[r]=o.merge(s,{tId:r,type:i,url:n,finished:!1,aborted:!1,nodes:[]});var a=e[r];return a.win=a.win||window,a.scope=a.scope||a.win,a.autopurge="autopurge"in a?a.autopurge:"script"===i?!0:!1,s.charset&&(a.attributes=a.attributes||{},a.attributes.charset=s.charset),o.later(0,a,f,r),{tId:r}},b=function(t,i,n,r,a,l,u){var c=u||f;if(s.ie)i.onreadystatechange=function(){var e=this.readyState;("loaded"===e||"complete"===e)&&(i.onreadystatechange=null,c(n,r))};else if(s.webkit){if("script"===t)if(s.webkit>=420)i.addEventListener("load",function(){c(n,r)});else{var d=e[n];if(d.varName){var p=YAHOO.util.Get.POLL_FREQ;d.maxattempts=YAHOO.util.Get.TIMEOUT/p,d.attempts=0,d._cache=d.varName[0].split("."),d.timer=o.later(p,d,function(){var e,t=this._cache,i=t.length,s=this.win;for(e=0;i>e;e+=1)if(s=s[t[e]],!s){if(this.attempts++,this.attempts++>this.maxattempts){var o="Over retry limit, giving up";d.timer.cancel(),h(n,o)}return}d.timer.cancel(),c(n,r)},null,!0)}else o.later(YAHOO.util.Get.POLL_FREQ,null,c,[n,r])}}else i.onload=function(){c(n,r)}};return{POLL_FREQ:10,PURGE_THRESH:20,TIMEOUT:2e3,_finalize:function(e){o.later(0,null,d,e)},abort:function(t){var i=o.isString(t)?t:t.tId,n=e[i];n&&(n.aborted=!0)},script:function(e,t){return v("script",e,t)},css:function(e,t){return v("css",e,t)}}}(),YAHOO.register("get",YAHOO.util.Get,{version:"2.8.1",build:"19"}),function(){var Y=YAHOO,util=Y.util,lang=Y.lang,env=Y.env,PROV="_provides",SUPER="_supersedes",REQ="expanded",AFTER="_after",YUI={dupsAllowed:{yahoo:!0,get:!0},info:{root:"2.8.1/build/",base:"http://yui.yahooapis.com/2.8.1/build/",comboBase:"http://yui.yahooapis.com/combo?",skin:{defaultSkin:"sam",base:"assets/skins/",path:"skin.css",after:["reset","fonts","grids","base"],rollup:3},dupsAllowed:["yahoo","get"],moduleInfo:{animation:{type:"js",path:"animation/animation-min.js",requires:["dom","event"]},autocomplete:{type:"js",path:"autocomplete/autocomplete-min.js",requires:["dom","event","datasource"],optional:["connection","animation"],skinnable:!0},base:{type:"css",path:"base/base-min.css",after:["reset","fonts","grids"]},button:{type:"js",path:"button/button-min.js",requires:["element"],optional:["menu"],skinnable:!0},calendar:{type:"js",path:"calendar/calendar-min.js",requires:["event","dom"],supersedes:["datemeth"],skinnable:!0},carousel:{type:"js",path:"carousel/carousel-min.js",requires:["element"],optional:["animation"],skinnable:!0},charts:{type:"js",path:"charts/charts-min.js",requires:["element","json","datasource","swf"]},colorpicker:{type:"js",path:"colorpicker/colorpicker-min.js",requires:["slider","element"],optional:["animation"],skinnable:!0},connection:{type:"js",path:"connection/connection-min.js",requires:["event"],supersedes:["connectioncore"]},connectioncore:{type:"js",path:"connection/connection_core-min.js",requires:["event"],pkg:"connection"},container:{type:"js",path:"container/container-min.js",requires:["dom","event"],optional:["dragdrop","animation","connection"],supersedes:["containercore"],skinnable:!0},containercore:{type:"js",path:"container/container_core-min.js",requires:["dom","event"],pkg:"container"},cookie:{type:"js",path:"cookie/cookie-min.js",requires:["yahoo"]},datasource:{type:"js",path:"datasource/datasource-min.js",requires:["event"],optional:["connection"]},datatable:{type:"js",path:"datatable/datatable-min.js",requires:["element","datasource"],optional:["calendar","dragdrop","paginator"],skinnable:!0},datemath:{type:"js",path:"datemath/datemath-min.js",requires:["yahoo"]},dom:{type:"js",path:"dom/dom-min.js",requires:["yahoo"]},dragdrop:{type:"js",path:"dragdrop/dragdrop-min.js",requires:["dom","event"]},editor:{type:"js",path:"editor/editor-min.js",requires:["menu","element","button"],optional:["animation","dragdrop"],supersedes:["simpleeditor"],skinnable:!0},element:{type:"js",path:"element/element-min.js",requires:["dom","event"],optional:["event-mouseenter","event-delegate"]},"element-delegate":{type:"js",path:"element-delegate/element-delegate-min.js",requires:["element"]},event:{type:"js",path:"event/event-min.js",requires:["yahoo"]},"event-simulate":{type:"js",path:"event-simulate/event-simulate-min.js",requires:["event"]},"event-delegate":{type:"js",path:"event-delegate/event-delegate-min.js",requires:["event"],optional:["selector"]},"event-mouseenter":{type:"js",path:"event-mouseenter/event-mouseenter-min.js",requires:["dom","event"]},fonts:{type:"css",path:"fonts/fonts-min.css"},get:{type:"js",path:"get/get-min.js",requires:["yahoo"]},grids:{type:"css",path:"grids/grids-min.css",requires:["fonts"],optional:["reset"]},history:{type:"js",path:"history/history-min.js",requires:["event"]},imagecropper:{type:"js",path:"imagecropper/imagecropper-min.js",requires:["dragdrop","element","resize"],skinnable:!0},imageloader:{type:"js",path:"imageloader/imageloader-min.js",requires:["event","dom"]},json:{type:"js",path:"json/json-min.js",requires:["yahoo"]},layout:{type:"js",path:"layout/layout-min.js",requires:["element"],optional:["animation","dragdrop","resize","selector"],skinnable:!0},logger:{type:"js",path:"logger/logger-min.js",requires:["event","dom"],optional:["dragdrop"],skinnable:!0},menu:{type:"js",path:"menu/menu-min.js",requires:["containercore"],skinnable:!0},paginator:{type:"js",path:"paginator/paginator-min.js",requires:["element"],skinnable:!0},profiler:{type:"js",path:"profiler/profiler-min.js",requires:["yahoo"]},profilerviewer:{type:"js",path:"profilerviewer/profilerviewer-min.js",requires:["profiler","yuiloader","element"],skinnable:!0},progressbar:{type:"js",path:"progressbar/progressbar-min.js",requires:["element"],optional:["animation"],skinnable:!0},reset:{type:"css",path:"reset/reset-min.css"},"reset-fonts-grids":{type:"css",path:"reset-fonts-grids/reset-fonts-grids.css",supersedes:["reset","fonts","grids","reset-fonts"],rollup:4},"reset-fonts":{type:"css",path:"reset-fonts/reset-fonts.css",supersedes:["reset","fonts"],rollup:2},resize:{type:"js",path:"resize/resize-min.js",requires:["dragdrop","element"],optional:["animation"],skinnable:!0},selector:{type:"js",path:"selector/selector-min.js",requires:["yahoo","dom"]},simpleeditor:{type:"js",path:"editor/simpleeditor-min.js",requires:["element"],optional:["containercore","menu","button","animation","dragdrop"],skinnable:!0,pkg:"editor"},slider:{type:"js",path:"slider/slider-min.js",requires:["dragdrop"],optional:["animation"],skinnable:!0},storage:{type:"js",path:"storage/storage-min.js",requires:["yahoo","event","cookie"],optional:["swfstore"]},stylesheet:{type:"js",path:"stylesheet/stylesheet-min.js",requires:["yahoo"]},swf:{type:"js",path:"swf/swf-min.js",requires:["element"],supersedes:["swfdetect"]},swfdetect:{type:"js",path:"swfdetect/swfdetect-min.js",requires:["yahoo"]},swfstore:{type:"js",path:"swfstore/swfstore-min.js",requires:["element","cookie","swf"]},tabview:{type:"js",path:"tabview/tabview-min.js",requires:["element"],optional:["connection"],skinnable:!0},treeview:{type:"js",path:"treeview/treeview-min.js",requires:["event","dom"],optional:["json","animation","calendar"],skinnable:!0},uploader:{type:"js",path:"uploader/uploader-min.js",requires:["element"]},utilities:{type:"js",path:"utilities/utilities.js",supersedes:["yahoo","event","dragdrop","animation","dom","connection","element","yahoo-dom-event","get","yuiloader","yuiloader-dom-event"],rollup:8},yahoo:{type:"js",path:"yahoo/yahoo-min.js"},"yahoo-dom-event":{type:"js",path:"yahoo-dom-event/yahoo-dom-event.js",supersedes:["yahoo","event","dom"],rollup:3},yuiloader:{type:"js",path:"yuiloader/yuiloader-min.js",supersedes:["yahoo","get"]},"yuiloader-dom-event":{type:"js",path:"yuiloader-dom-event/yuiloader-dom-event.js",supersedes:["yahoo","dom","event","get","yuiloader","yahoo-dom-event"],rollup:5},yuitest:{type:"js",path:"yuitest/yuitest-min.js",requires:["logger"],optional:["event-simulate"],skinnable:!0}}},ObjectUtil:{appendArray:function(e,t){if(t)for(var i=0;i<t.length;i+=1)e[t[i]]=!0},keys:function(e){var t,i=[];for(t in e)lang.hasOwnProperty(e,t)&&i.push(t);return i}},ArrayUtil:{appendArray:function(e,t){Array.prototype.push.apply(e,t)},indexOf:function(e,t){for(var i=0;i<e.length;i+=1)if(e[i]===t)return i;return-1},toObject:function(e){for(var t={},i=0;i<e.length;i+=1)t[e[i]]=!0;return t},uniq:function(e){return YUI.ObjectUtil.keys(YUI.ArrayUtil.toObject(e))}}};YAHOO.util.YUILoader=function(e){this._internalCallback=null,this._useYahooListener=!1,this.onSuccess=null,this.onFailure=Y.log,this.onProgress=null,this.onTimeout=null,this.scope=this,this.data=null,this.insertBefore=null,this.charset=null,this.varName=null,this.base=YUI.info.base,this.comboBase=YUI.info.comboBase,this.combine=!1,this.root=YUI.info.root,this.timeout=0,this.ignore=null,this.force=null,this.allowRollup=!0,this.filter=null,this.required={},this.moduleInfo=lang.merge(YUI.info.moduleInfo),this.rollups=null,this.loadOptional=!1,this.sorted=[],this.loaded={},this.dirty=!0,this.inserted={};var t=this;env.listeners.push(function(e){t._useYahooListener&&t.loadNext(e.name)}),this.skin=lang.merge(YUI.info.skin),this._config(e)},Y.util.YUILoader.prototype={FILTERS:{RAW:{searchExp:"-min\\.js",replaceStr:".js"},DEBUG:{searchExp:"-min\\.js",replaceStr:"-debug.js"}},SKIN_PREFIX:"skin-",_config:function(e){if(e)for(var t in e)lang.hasOwnProperty(e,t)&&("require"==t?this.require(e[t]):this[t]=e[t]);var i=this.filter;lang.isString(i)&&(i=i.toUpperCase(),"DEBUG"===i&&this.require("logger"),Y.widget.LogWriter||(Y.widget.LogWriter=function(){return Y}),this.filter=this.FILTERS[i])},addModule:function(e){return e&&e.name&&e.type&&(e.path||e.fullpath)?(e.ext="ext"in e?e.ext:!0,e.requires=e.requires||[],this.moduleInfo[e.name]=e,this.dirty=!0,!0):!1},require:function(e){var t="string"==typeof e?arguments:e;this.dirty=!0,YUI.ObjectUtil.appendArray(this.required,t)},_addSkin:function(e,t){var i=this.formatSkin(e),n=this.moduleInfo,s=this.skin,o=n[t]&&n[t].ext;if(n[i]||this.addModule({name:i,type:"css",path:s.base+e+"/"+s.path,after:s.after,rollup:s.rollup,ext:o}),t&&(i=this.formatSkin(e,t),!n[i])){var r=n[t],a=r.pkg||t;this.addModule({name:i,type:"css",after:s.after,path:a+"/"+s.base+e+"/"+t+".css",ext:o})}return i},getRequires:function(e){if(!e)return[];if(!this.dirty&&e.expanded)return e.expanded;e.requires=e.requires||[];var t,i,n=[],s=e.requires,o=e.optional,r=this.moduleInfo;for(t=0;t<s.length;t+=1)n.push(s[t]),i=r[s[t]],YUI.ArrayUtil.appendArray(n,this.getRequires(i));if(o&&this.loadOptional)for(t=0;t<o.length;t+=1)n.push(o[t]),YUI.ArrayUtil.appendArray(n,this.getRequires(r[o[t]]));return e.expanded=YUI.ArrayUtil.uniq(n),e.expanded},getProvides:function(e,t){var i=!t,n=i?PROV:SUPER,s=this.moduleInfo[e],o={};if(!s)return o;if(s[n])return s[n];var r=s.supersedes,a={},l=this,u=function(e){a[e]||(a[e]=!0,lang.augmentObject(o,l.getProvides(e)))};if(r)for(var c=0;c<r.length;c+=1)u(r[c]);return s[SUPER]=o,s[PROV]=lang.merge(o),s[PROV][e]=!0,s[n]},calculate:function(e){(e||this.dirty)&&(this._config(e),this._setup(),this._explode(),this.allowRollup&&this._rollup(),this._reduce(),this._sort(),this.dirty=!1)},_setup:function(){var e,t,i,n=this.moduleInfo;for(e in n)if(lang.hasOwnProperty(n,e)){var s=n[e];if(s&&s.skinnable){var o,r=this.skin.overrides;if(r&&r[e])for(t=0;t<r[e].length;t+=1)o=this._addSkin(r[e][t],e);else o=this._addSkin(this.skin.defaultSkin,e);s.requires.push(o)}}var a=lang.merge(this.inserted);if(this._sandbox||(a=lang.merge(a,env.modules)),this.ignore&&YUI.ObjectUtil.appendArray(a,this.ignore),this.force)for(t=0;t<this.force.length;t+=1)this.force[t]in a&&delete a[this.force[t]];for(i in a)lang.hasOwnProperty(a,i)&&lang.augmentObject(a,this.getProvides(i));this.loaded=a},_explode:function(){var e,t,i=this.required;for(e in i)if(lang.hasOwnProperty(i,e)&&(t=this.moduleInfo[e])){var n=this.getRequires(t);n&&YUI.ObjectUtil.appendArray(i,n)}},_skin:function(){},formatSkin:function(e,t){var i=this.SKIN_PREFIX+e;return t&&(i=i+"-"+t),i},parseSkin:function(e){if(0===e.indexOf(this.SKIN_PREFIX)){var t=e.split("-");return{skin:t[1],module:t[2]}}return null},_rollup:function(){var e,t,i,n,s,o={},r=this.required,a=this.moduleInfo;if(this.dirty||!this.rollups){for(e in a)lang.hasOwnProperty(a,e)&&(i=a[e],i&&i.rollup&&(o[e]=i));this.rollups=o}for(;;){var l=!1;for(e in o)if(!r[e]&&!this.loaded[e]){if(i=a[e],n=i.supersedes,s=!1,!i.rollup)continue;var u=i.ext?!1:this.parseSkin(e),c=0;if(u){for(t in r)if(lang.hasOwnProperty(r,t)&&e!==t&&this.parseSkin(t)&&(c++,s=c>=i.rollup))break}else for(t=0;t<n.length;t+=1){if(this.loaded[n[t]]&&!YUI.dupsAllowed[n[t]]){s=!1;break}if(r[n[t]]&&(c++,s=c>=i.rollup))break}s&&(r[e]=!0,l=!0,this.getRequires(i))}if(!l)break}},_reduce:function(){var e,t,i,n,s=this.required;for(e in s)if(e in this.loaded)delete s[e];else{var o=this.parseSkin(e);if(o){if(!o.module){var r=this.SKIN_PREFIX+o.skin;for(t in s)if(lang.hasOwnProperty(s,t)){n=this.moduleInfo[t];var a=n&&n.ext;!a&&t!==e&&t.indexOf(r)>-1&&delete s[t]}}}else if(n=this.moduleInfo[e],i=n&&n.supersedes)for(t=0;t<i.length;t+=1)i[t]in s&&delete s[i[t]]}},_onFailure:function(e){YAHOO.log("Failure","info","loader");var t=this.onFailure;t&&t.call(this.scope,{msg:"failure: "+e,data:this.data,success:!1})},_onTimeout:function(){YAHOO.log("Timeout","info","loader");var e=this.onTimeout;e&&e.call(this.scope,{msg:"timeout",data:this.data,success:!1})},_sort:function(){var e=[],t=this.moduleInfo,i=this.loaded,n=!this.loadOptional,s=function(e,o){var r=t[e];if(i[o]||!r)return!1;var a,l=r.expanded,u=r.after,c=t[o],h=r.optional;if(l&&YUI.ArrayUtil.indexOf(l,o)>-1)return!0;if(u&&YUI.ArrayUtil.indexOf(u,o)>-1)return!0;if(n&&h&&YUI.ArrayUtil.indexOf(h,o)>-1)return!0;var d=t[o]&&t[o].supersedes;if(d)for(a=0;a<d.length;a+=1)if(s(e,d[a]))return!0;return r.ext&&"css"==r.type&&!c.ext&&"css"==c.type?!0:!1};for(var o in this.required)lang.hasOwnProperty(this.required,o)&&e.push(o);for(var r=0;;){var a,l,u,c,h=e.length,d=!1;for(u=r;h>u;u+=1){for(a=e[u],c=u+1;h>c;c+=1)if(s(a,e[c])){l=e.splice(c,1),e.splice(u,0,l[0]),d=!0;break}if(d)break;r+=1}if(!d)break}this.sorted=e},toString:function(){var e={type:"YUILoader",base:this.base,filter:this.filter,required:this.required,loaded:this.loaded,inserted:this.inserted};lang.dump(e,1)},_combine:function(){this._combining=[];var e,t,i,n=this,s=this.sorted,o=s.length,r=this.comboBase,a=this.comboBase,l=r.length,u=this.loadType;for(YAHOO.log("type "+u),t=0;o>t;t+=1)i=this.moduleInfo[s[t]],!i||i.ext||u&&u!==i.type||(e=this.root+i.path,e+="&","js"==i.type?r+=e:a+=e,this._combining.push(s[t]));if(this._combining.length){YAHOO.log("Attempting to combine: "+this._combining,"info","loader");var c=function(e){var t,i=this._combining,n=i.length;for(t=0;n>t;t+=1)this.inserted[i[t]]=!0;this.loadNext(e.data)},h=function(){r.length>l&&YAHOO.util.Get.script(n._filter(r),{data:n._loading,onSuccess:c,onFailure:n._onFailure,onTimeout:n._onTimeout,insertBefore:n.insertBefore,charset:n.charset,timeout:n.timeout,scope:n})};return a.length>l?YAHOO.util.Get.css(this._filter(a),{data:this._loading,onSuccess:h,onFailure:this._onFailure,onTimeout:this._onTimeout,insertBefore:this.insertBefore,charset:this.charset,timeout:this.timeout,scope:n}):h(),void 0}this.loadNext(this._loading)},insert:function(e,t){if(this.calculate(e),this._loading=!0,this.loadType=t,this.combine)return this._combine();if(!t){var i=this;return this._internalCallback=function(){i._internalCallback=null,i.insert(null,"js")},this.insert(null,"css"),void 0}this.loadNext()},sandbox:function(o,type){if(this._config(o),!this.onSuccess)throw new Error("You must supply an onSuccess handler for your sandbox");this._sandbox=!0;var self=this;if(!type||"js"!==type)return this._internalCallback=function(){self._internalCallback=null,self.sandbox(null,"js")},this.insert(null,"css"),void 0;if(!util.Connect){var ld=new YAHOO.util.YUILoader;return ld.insert({base:this.base,filter:this.filter,require:"connection",insertBefore:this.insertBefore,charset:this.charset,onSuccess:function(){this.sandbox(null,"js")},scope:this},"js"),void 0}this._scriptText=[],this._loadCount=0,this._stopCount=this.sorted.length,this._xhr=[],this.calculate();var s=this.sorted,l=s.length,i,m,url;for(i=0;l>i;i+=1){if(m=this.moduleInfo[s[i]],!m){this._onFailure("undefined module "+m);for(var j=0;j<this._xhr.length;j+=1)this._xhr[j].abort();return}if("js"===m.type){url=m.fullpath,url=url?this._filter(url):this._url(m.path);var xhrData={success:function(o){var idx=o.argument[0],name=o.argument[2];if(this._scriptText[idx]=o.responseText,this.onProgress&&this.onProgress.call(this.scope,{name:name,scriptText:o.responseText,xhrResponse:o,data:this.data}),this._loadCount++,this._loadCount>=this._stopCount){var v=this.varName||"YAHOO",t="(function() {\n",b="\nreturn "+v+";\n})();",ref=eval(t+this._scriptText.join("\n")+b);this._pushEvents(ref),ref?this.onSuccess.call(this.scope,{reference:ref,data:this.data}):this._onFailure.call(this.varName+" reference failure")}},failure:function(e){this.onFailure.call(this.scope,{msg:"XHR failure",xhrResponse:e,data:this.data})},scope:this,argument:[i,url,s[i]]};this._xhr.push(util.Connect.asyncRequest("GET",url,xhrData))}else this._loadCount++}},loadNext:function(e){if(this._loading){if(e){if(e!==this._loading)return;this.inserted[e]=!0,this.onProgress&&this.onProgress.call(this.scope,{name:e,data:this.data})}var t,i,n=this.sorted,s=n.length;for(t=0;s>t;t+=1)if(!(n[t]in this.inserted)){if(n[t]===this._loading)return;if(i=this.moduleInfo[n[t]],!i)return this.onFailure.call(this.scope,{msg:"undefined module "+i,data:this.data}),void 0;if(!this.loadType||this.loadType===i.type){this._loading=n[t];var o="css"===i.type?util.Get.css:util.Get.script,r=i.fullpath,a=this,l=function(e){a.loadNext(e.data)};return r=r?this._filter(r):this._url(i.path),env.ua.webkit&&env.ua.webkit<420&&"js"===i.type&&!i.varName&&(l=null,this._useYahooListener=!0),o(r,{data:n[t],onSuccess:l,onFailure:this._onFailure,onTimeout:this._onTimeout,insertBefore:this.insertBefore,charset:this.charset,timeout:this.timeout,varName:i.varName,scope:a}),void 0}}if(this._loading=null,this._internalCallback){var u=this._internalCallback;this._internalCallback=null,u.call(this)}else this.onSuccess&&(this._pushEvents(),this.onSuccess.call(this.scope,{data:this.data}))}},_pushEvents:function(e){var t=e||YAHOO;t.util&&t.util.Event&&t.util.Event._load()},_filter:function(e){var t=this.filter;return t?e.replace(new RegExp(t.searchExp,"g"),t.replaceStr):e},_url:function(e){return this._filter((this.base||"")+e)}}}(),YAHOO.register("yuiloader",YAHOO.util.YUILoader,{version:"2.8.1",build:"19"}),function(){YAHOO.env._id_counter=YAHOO.env._id_counter||0;var e=YAHOO.util,t=YAHOO.lang,i=YAHOO.env.ua,n=YAHOO.lang.trim,s={},o={},r=/^t(?:able|d|h)$/i,a=/color$/i,l=window.document,u=l.documentElement,c="ownerDocument",h="defaultView",d="documentElement",p="compatMode",f="offsetLeft",m="offsetTop",g="offsetParent",v="parentNode",b="nodeType",y="tagName",E="scrollLeft",C="scrollTop",w="getBoundingClientRect",x="getComputedStyle",O="currentStyle",T="CSS1Compat",_="BackCompat",S="class",A="className",k="",D=" ",I="(?:^|\\s)",N="(?= |$)",H="g",P="position",L="fixed",F="relative",R="left",M="top",B="medium",Y="borderLeftWidth",W="borderTopWidth",j=i.opera,U=i.webkit,q=i.gecko,V=i.ie;e.Dom={CUSTOM_ATTRIBUTES:u.hasAttribute?{htmlFor:"for",className:S}:{"for":"htmlFor","class":A},DOT_ATTRIBUTES:{},get:function(t){var i,n,s,o,r,a;if(t){if(t[b]||t.item)return t;if("string"==typeof t){if(i=t,t=l.getElementById(t),a=t?t.attributes:null,t&&a&&a.id&&a.id.value===i)return t;if(t&&l.all)for(t=null,n=l.all[i],o=0,r=n.length;r>o;++o)if(n[o].id===i)return n[o];return t}if(YAHOO.util.Element&&t instanceof YAHOO.util.Element&&(t=t.get("element")),"length"in t){for(s=[],o=0,r=t.length;r>o;++o)s[s.length]=e.Dom.get(t[o]);return s}return t}return null},getComputedStyle:function(t,i){return window[x]?t[c][h][x](t,null)[i]:t[O]?e.Dom.IE_ComputedStyle.get(t,i):void 0},getStyle:function(t,i){return e.Dom.batch(t,e.Dom._getStyle,i)},_getStyle:function(){return window[x]?function(t,i){i="float"===i?i="cssFloat":e.Dom._toCamel(i);var n,s=t.style[i];return s||(n=t[c][h][x](t,null),n&&(s=n[i])),s}:u[O]?function(t,i){var n;switch(i){case"opacity":n=100;try{n=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(s){try{n=t.filters("alpha").opacity}catch(o){}}return n/100;case"float":i="styleFloat";default:return i=e.Dom._toCamel(i),n=t[O]?t[O][i]:null,t.style[i]||n}}:void 0}(),setStyle:function(t,i,n){e.Dom.batch(t,e.Dom._setStyle,{prop:i,val:n})},_setStyle:function(){return V?function(i,n){var s=e.Dom._toCamel(n.prop),o=n.val;if(i)switch(s){case"opacity":t.isString(i.style.filter)&&(i.style.filter="alpha(opacity="+100*o+")",i[O]&&i[O].hasLayout||(i.style.zoom=1));break;case"float":s="styleFloat";default:i.style[s]=o}}:function(t,i){var n=e.Dom._toCamel(i.prop),s=i.val;t&&("float"==n&&(n="cssFloat"),t.style[n]=s)}}(),getXY:function(t){return e.Dom.batch(t,e.Dom._getXY)},_canPosition:function(t){return"none"!==e.Dom._getStyle(t,"display")&&e.Dom._inDoc(t)},_getXY:function(){return l[d][w]?function(t){var n,s,o,r,a,l,u,h,f,m=Math.floor,g=!1;return e.Dom._canPosition(t)&&(o=t[w](),r=t[c],n=e.Dom.getDocumentScrollLeft(r),s=e.Dom.getDocumentScrollTop(r),g=[m(o[R]),m(o[M])],V&&i.ie<8&&(a=2,l=2,u=r[p],6===i.ie&&u!==_&&(a=0,l=0),u===_&&(h=z(r[d],Y),f=z(r[d],W),h!==B&&(a=parseInt(h,10)),f!==B&&(l=parseInt(f,10))),g[0]-=a,g[1]-=l),(s||n)&&(g[0]+=n,g[1]+=s),g[0]=m(g[0]),g[1]=m(g[1])),g}:function(t){var n,s,o,r,a,l=!1,u=t;if(e.Dom._canPosition(t)){for(l=[t[f],t[m]],n=e.Dom.getDocumentScrollLeft(t[c]),s=e.Dom.getDocumentScrollTop(t[c]),a=q||i.webkit>519?!0:!1;u=u[g];)l[0]+=u[f],l[1]+=u[m],a&&(l=e.Dom._calcBorders(u,l));if(e.Dom._getStyle(t,P)!==L){for(u=t;(u=u[v])&&u[y];)o=u[C],r=u[E],q&&"visible"!==e.Dom._getStyle(u,"overflow")&&(l=e.Dom._calcBorders(u,l)),(o||r)&&(l[0]-=r,l[1]-=o);l[0]+=n,l[1]+=s}else j?(l[0]-=n,l[1]-=s):(U||q)&&(l[0]+=n,l[1]+=s);l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1])}return l}}(),getX:function(t){var i=function(t){return e.Dom.getXY(t)[0]};return e.Dom.batch(t,i,e.Dom,!0)},getY:function(t){var i=function(t){return e.Dom.getXY(t)[1]};return e.Dom.batch(t,i,e.Dom,!0)},setXY:function(t,i,n){e.Dom.batch(t,e.Dom._setXY,{pos:i,noRetry:n})},_setXY:function(t,i){var n,s,o=e.Dom._getStyle(t,P),r=e.Dom.setStyle,a=i.pos,l=i.noRetry,u=[parseInt(e.Dom.getComputedStyle(t,R),10),parseInt(e.Dom.getComputedStyle(t,M),10)];
return"static"==o&&(o=F,r(t,P,o)),n=e.Dom._getXY(t),a&&n!==!1?(isNaN(u[0])&&(u[0]=o==F?0:t[f]),isNaN(u[1])&&(u[1]=o==F?0:t[m]),null!==a[0]&&r(t,R,a[0]-n[0]+u[0]+"px"),null!==a[1]&&r(t,M,a[1]-n[1]+u[1]+"px"),l||(s=e.Dom._getXY(t),(null!==a[0]&&s[0]!=a[0]||null!==a[1]&&s[1]!=a[1])&&e.Dom._setXY(t,{pos:a,noRetry:!0})),void 0):!1},setX:function(t,i){e.Dom.setXY(t,[i,null])},setY:function(t,i){e.Dom.setXY(t,[null,i])},getRegion:function(t){var i=function(t){var i=!1;return e.Dom._canPosition(t)&&(i=e.Region.getRegion(t)),i};return e.Dom.batch(t,i,e.Dom,!0)},getClientWidth:function(){return e.Dom.getViewportWidth()},getClientHeight:function(){return e.Dom.getViewportHeight()},getElementsByClassName:function(t,i,n,s,o,r){if(i=i||"*",n=n?e.Dom.get(n):null||l,!n)return[];for(var a=[],u=n.getElementsByTagName(i),c=e.Dom.hasClass,h=0,d=u.length;d>h;++h)c(u[h],t)&&(a[a.length]=u[h]);return s&&e.Dom.batch(a,s,o,r),a},hasClass:function(t,i){return e.Dom.batch(t,e.Dom._hasClass,i)},_hasClass:function(t,i){var n,s=!1;return t&&i&&(n=e.Dom._getAttribute(t,A)||k,s=i.exec?i.test(n):i&&(D+n+D).indexOf(D+i+D)>-1),s},addClass:function(t,i){return e.Dom.batch(t,e.Dom._addClass,i)},_addClass:function(t,i){var s,o=!1;return t&&i&&(s=e.Dom._getAttribute(t,A)||k,e.Dom._hasClass(t,i)||(e.Dom.setAttribute(t,A,n(s+D+i)),o=!0)),o},removeClass:function(t,i){return e.Dom.batch(t,e.Dom._removeClass,i)},_removeClass:function(t,i){var s,o,r,a=!1;return t&&i&&(s=e.Dom._getAttribute(t,A)||k,e.Dom.setAttribute(t,A,s.replace(e.Dom._getClassRegex(i),k)),o=e.Dom._getAttribute(t,A),s!==o&&(e.Dom.setAttribute(t,A,n(o)),a=!0,""===e.Dom._getAttribute(t,A)&&(r=t.hasAttribute&&t.hasAttribute(S)?S:A,t.removeAttribute(r)))),a},replaceClass:function(t,i,n){return e.Dom.batch(t,e.Dom._replaceClass,{from:i,to:n})},_replaceClass:function(t,i){var s,o,r,a,l=!1;return t&&i&&(o=i.from,r=i.to,r?o?o!==r&&(a=e.Dom._getAttribute(t,A)||k,s=(D+a.replace(e.Dom._getClassRegex(o),D+r)).split(e.Dom._getClassRegex(r)),s.splice(1,0,D+r),e.Dom.setAttribute(t,A,n(s.join(k))),l=!0):l=e.Dom._addClass(t,i.to):l=!1),l},generateId:function(t,i){i=i||"yui-gen";var n=function(t){if(t&&t.id)return t.id;var n=i+YAHOO.env._id_counter++;if(t){if(t[c]&&t[c].getElementById(n))return e.Dom.generateId(t,n+i);t.id=n}return n};return e.Dom.batch(t,n,e.Dom,!0)||n.apply(e.Dom,arguments)},isAncestor:function(t,i){t=e.Dom.get(t),i=e.Dom.get(i);var n=!1;return t&&i&&t[b]&&i[b]&&(t.contains&&t!==i?n=t.contains(i):t.compareDocumentPosition&&(n=!!(16&t.compareDocumentPosition(i)))),n},inDocument:function(t,i){return e.Dom._inDoc(e.Dom.get(t),i)},_inDoc:function(t,i){var n=!1;return t&&t[y]&&(i=i||t[c],n=e.Dom.isAncestor(i[d],t)),n},getElementsBy:function(t,i,n,s,o,r,a){if(i=i||"*",n=n?e.Dom.get(n):null||l,!n)return[];for(var u=[],c=n.getElementsByTagName(i),h=0,d=c.length;d>h;++h)if(t(c[h])){if(a){u=c[h];break}u[u.length]=c[h]}return s&&e.Dom.batch(u,s,o,r),u},getElementBy:function(t,i,n){return e.Dom.getElementsBy(t,i,n,null,null,null,!0)},batch:function(t,i,n,s){var o=[],r=s?n:window;if(t=t&&(t[y]||t.item)?t:e.Dom.get(t),!t||!i)return!1;if(t[y]||void 0===t.length)return i.call(r,t,n);for(var a=0;a<t.length;++a)o[o.length]=i.call(r,t[a],n);return o},getDocumentHeight:function(){var t=l[p]!=T||U?l.body.scrollHeight:u.scrollHeight,i=Math.max(t,e.Dom.getViewportHeight());return i},getDocumentWidth:function(){var t=l[p]!=T||U?l.body.scrollWidth:u.scrollWidth,i=Math.max(t,e.Dom.getViewportWidth());return i},getViewportHeight:function(){var e=self.innerHeight,t=l[p];return!t&&!V||j||(e=t==T?u.clientHeight:l.body.clientHeight),e},getViewportWidth:function(){var e=self.innerWidth,t=l[p];return(t||V)&&(e=t==T?u.clientWidth:l.body.clientWidth),e},getAncestorBy:function(t,i){for(;t=t[v];)if(e.Dom._testElement(t,i))return t;return null},getAncestorByClassName:function(t,i){if(t=e.Dom.get(t),!t)return null;var n=function(t){return e.Dom.hasClass(t,i)};return e.Dom.getAncestorBy(t,n)},getAncestorByTagName:function(t,i){if(t=e.Dom.get(t),!t)return null;var n=function(e){return e[y]&&e[y].toUpperCase()==i.toUpperCase()};return e.Dom.getAncestorBy(t,n)},getPreviousSiblingBy:function(t,i){for(;t;)if(t=t.previousSibling,e.Dom._testElement(t,i))return t;return null},getPreviousSibling:function(t){return t=e.Dom.get(t),t?e.Dom.getPreviousSiblingBy(t):null},getNextSiblingBy:function(t,i){for(;t;)if(t=t.nextSibling,e.Dom._testElement(t,i))return t;return null},getNextSibling:function(t){return t=e.Dom.get(t),t?e.Dom.getNextSiblingBy(t):null},getFirstChildBy:function(t,i){var n=e.Dom._testElement(t.firstChild,i)?t.firstChild:null;return n||e.Dom.getNextSiblingBy(t.firstChild,i)},getFirstChild:function(t){return t=e.Dom.get(t),t?e.Dom.getFirstChildBy(t):null},getLastChildBy:function(t,i){if(!t)return null;var n=e.Dom._testElement(t.lastChild,i)?t.lastChild:null;return n||e.Dom.getPreviousSiblingBy(t.lastChild,i)},getLastChild:function(t){return t=e.Dom.get(t),e.Dom.getLastChildBy(t)},getChildrenBy:function(t,i){var n=e.Dom.getFirstChildBy(t,i),s=n?[n]:[];return e.Dom.getNextSiblingBy(n,function(e){return(!i||i(e))&&(s[s.length]=e),!1}),s},getChildren:function(t){return t=e.Dom.get(t),e.Dom.getChildrenBy(t)},getDocumentScrollLeft:function(e){return e=e||l,Math.max(e[d].scrollLeft,e.body.scrollLeft)},getDocumentScrollTop:function(e){return e=e||l,Math.max(e[d].scrollTop,e.body.scrollTop)},insertBefore:function(t,i){return t=e.Dom.get(t),i=e.Dom.get(i),t&&i&&i[v]?i[v].insertBefore(t,i):null},insertAfter:function(t,i){return t=e.Dom.get(t),i=e.Dom.get(i),t&&i&&i[v]?i.nextSibling?i[v].insertBefore(t,i.nextSibling):i[v].appendChild(t):null},getClientRegion:function(){var t=e.Dom.getDocumentScrollTop(),i=e.Dom.getDocumentScrollLeft(),n=e.Dom.getViewportWidth()+i,s=e.Dom.getViewportHeight()+t;return new e.Region(t,n,s,i)},setAttribute:function(t,i,n){e.Dom.batch(t,e.Dom._setAttribute,{attr:i,val:n})},_setAttribute:function(t,i){var n=e.Dom._toCamel(i.attr),s=i.val;t&&t.setAttribute&&(e.Dom.DOT_ATTRIBUTES[n]?t[n]=s:(n=e.Dom.CUSTOM_ATTRIBUTES[n]||n,t.setAttribute(n,s)))},getAttribute:function(t,i){return e.Dom.batch(t,e.Dom._getAttribute,i)},_getAttribute:function(t,i){var n;return i=e.Dom.CUSTOM_ATTRIBUTES[i]||i,t&&t.getAttribute&&(n=t.getAttribute(i,2)),n},_toCamel:function(e){function t(e,t){return t.toUpperCase()}var i=s;return i[e]||(i[e]=-1===e.indexOf("-")?e:e.replace(/-([a-z])/gi,t))},_getClassRegex:function(t){var i;return void 0!==t&&(t.exec?i=t:(i=o[t],i||(t=t.replace(e.Dom._patterns.CLASS_RE_TOKENS,"\\$1"),i=o[t]=new RegExp(I+t+N,H)))),i},_patterns:{ROOT_TAG:/^body|html$/i,CLASS_RE_TOKENS:/([\.\(\)\^\$\*\+\?\|\[\]\{\}\\])/g},_testElement:function(e,t){return e&&1==e[b]&&(!t||t(e))},_calcBorders:function(t,i){var n=parseInt(e.Dom[x](t,W),10)||0,s=parseInt(e.Dom[x](t,Y),10)||0;return q&&r.test(t[y])&&(n=0,s=0),i[0]+=s,i[1]+=n,i}};var z=e.Dom[x];i.opera&&(e.Dom[x]=function(t,i){var n=z(t,i);return a.test(i)&&(n=e.Dom.Color.toRGB(n)),n}),i.webkit&&(e.Dom[x]=function(e,t){var i=z(e,t);return"rgba(0, 0, 0, 0)"===i&&(i="transparent"),i}),i.ie&&i.ie>=8&&l.documentElement.hasAttribute&&(e.Dom.DOT_ATTRIBUTES.type=!0)}(),YAHOO.util.Region=function(e,t,i,n){this.top=e,this.y=e,this[1]=e,this.right=t,this.bottom=i,this.left=n,this.x=n,this[0]=n,this.width=this.right-this.left,this.height=this.bottom-this.top},YAHOO.util.Region.prototype.contains=function(e){return e.left>=this.left&&e.right<=this.right&&e.top>=this.top&&e.bottom<=this.bottom},YAHOO.util.Region.prototype.getArea=function(){return(this.bottom-this.top)*(this.right-this.left)},YAHOO.util.Region.prototype.intersect=function(e){var t=Math.max(this.top,e.top),i=Math.min(this.right,e.right),n=Math.min(this.bottom,e.bottom),s=Math.max(this.left,e.left);return n>=t&&i>=s?new YAHOO.util.Region(t,i,n,s):null},YAHOO.util.Region.prototype.union=function(e){var t=Math.min(this.top,e.top),i=Math.max(this.right,e.right),n=Math.max(this.bottom,e.bottom),s=Math.min(this.left,e.left);return new YAHOO.util.Region(t,i,n,s)},YAHOO.util.Region.prototype.toString=function(){return"Region {top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+", height: "+this.height+", width: "+this.width+"}"},YAHOO.util.Region.getRegion=function(e){var t=YAHOO.util.Dom.getXY(e),i=t[1],n=t[0]+e.offsetWidth,s=t[1]+e.offsetHeight,o=t[0];return new YAHOO.util.Region(i,n,s,o)},YAHOO.util.Point=function(e,t){YAHOO.lang.isArray(e)&&(t=e[1],e=e[0]),YAHOO.util.Point.superclass.constructor.call(this,t,e,t,e)},YAHOO.extend(YAHOO.util.Point,YAHOO.util.Region),function(){var e=YAHOO.util,t="clientTop",i="clientLeft",n="parentNode",s="right",o="hasLayout",r="px",a="opacity",l="auto",u="borderLeftWidth",c="borderTopWidth",h="borderRightWidth",d="borderBottomWidth",p="visible",f="transparent",m="height",g="width",v="style",b="currentStyle",y=/^width|height$/,E=/^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,C={get:function(t,i){var n="",s=t[b][i];return n=i===a?e.Dom.getStyle(t,a):!s||s.indexOf&&s.indexOf(r)>-1?s:e.Dom.IE_COMPUTED[i]?e.Dom.IE_COMPUTED[i](t,i):E.test(s)?e.Dom.IE.ComputedStyle.getPixel(t,i):s},getOffset:function(e,t){var i,n=e[b][t],s=t.charAt(0).toUpperCase()+t.substr(1),o="offset"+s,a="pixel"+s,u="";return n==l?(i=e[o],void 0===i&&(u=0),u=i,y.test(t)&&(e[v][t]=i,e[o]>i&&(u=i-(e[o]-i)),e[v][t]=l)):(e[v][a]||e[v][t]||(e[v][t]=n),u=e[v][a]),u+r},getBorderWidth:function(e,n){var s=null;switch(e[b][o]||(e[v].zoom=1),n){case c:s=e[t];break;case d:s=e.offsetHeight-e.clientHeight-e[t];break;case u:s=e[i];break;case h:s=e.offsetWidth-e.clientWidth-e[i]}return s+r},getPixel:function(e,t){var i=null,n=e[b][s],o=e[b][t];return e[v][s]=o,i=e[v].pixelRight,e[v][s]=n,i+r},getMargin:function(t,i){var n;return n=t[b][i]==l?0+r:e.Dom.IE.ComputedStyle.getPixel(t,i)},getVisibility:function(e,t){for(var i;(i=e[b])&&"inherit"==i[t];)e=e[n];return i?i[t]:p},getColor:function(t,i){return e.Dom.Color.toRGB(t[b][i])||f},getBorderColor:function(t,i){var n=t[b],s=n[i]||n.color;return e.Dom.Color.toRGB(e.Dom.Color.toHex(s))}},w={};w.top=w.right=w.bottom=w.left=w[g]=w[m]=C.getOffset,w.color=C.getColor,w[c]=w[h]=w[d]=w[u]=C.getBorderWidth,w.marginTop=w.marginRight=w.marginBottom=w.marginLeft=C.getMargin,w.visibility=C.getVisibility,w.borderColor=w.borderTopColor=w.borderRightColor=w.borderBottomColor=w.borderLeftColor=C.getBorderColor,e.Dom.IE_COMPUTED=w,e.Dom.IE_ComputedStyle=C}(),function(){var e="toString",t=parseInt,i=RegExp,n=YAHOO.util;n.Dom.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(e){return n.Dom.Color.re_RGB.test(e)||(e=n.Dom.Color.toHex(e)),n.Dom.Color.re_hex.exec(e)&&(e="rgb("+[t(i.$1,16),t(i.$2,16),t(i.$3,16)].join(", ")+")"),e},toHex:function(t){if(t=n.Dom.Color.KEYWORDS[t]||t,n.Dom.Color.re_RGB.exec(t)){var s=1===i.$1.length?"0"+i.$1:Number(i.$1),o=1===i.$2.length?"0"+i.$2:Number(i.$2),r=1===i.$3.length?"0"+i.$3:Number(i.$3);t=[s[e](16),o[e](16),r[e](16)].join("")}return t.length<6&&(t=t.replace(n.Dom.Color.re_hex3,"$1$1")),"transparent"!==t&&t.indexOf("#")<0&&(t="#"+t),t.toLowerCase()}}}(),YAHOO.register("dom",YAHOO.util.Dom,{version:"2.8.1",build:"19"}),YAHOO.util.CustomEvent=function(e,t,i,n,s){this.type=e,this.scope=t||window,this.silent=i,this.fireOnce=s,this.fired=!1,this.firedWith=null,this.signature=n||YAHOO.util.CustomEvent.LIST,this.subscribers=[],!this.silent;var o="_YUICEOnSubscribe";e!==o&&(this.subscribeEvent=new YAHOO.util.CustomEvent(o,this,!0)),this.lastError=null},YAHOO.util.CustomEvent.LIST=0,YAHOO.util.CustomEvent.FLAT=1,YAHOO.util.CustomEvent.prototype={subscribe:function(e,t,i){if(!e)throw new Error("Invalid callback for subscriber to '"+this.type+"'");this.subscribeEvent&&this.subscribeEvent.fire(e,t,i);var n=new YAHOO.util.Subscriber(e,t,i);this.fireOnce&&this.fired?this.notify(n,this.firedWith):this.subscribers.push(n)},unsubscribe:function(e,t){if(!e)return this.unsubscribeAll();for(var i=!1,n=0,s=this.subscribers.length;s>n;++n){var o=this.subscribers[n];o&&o.contains(e,t)&&(this._delete(n),i=!0)}return i},fire:function(){this.lastError=null;var e,t=this.subscribers.length,i=[].slice.call(arguments,0),n=!0,s=!1;if(this.fireOnce){if(this.fired)return!0;this.firedWith=i}if(this.fired=!0,!t&&this.silent)return!0;!this.silent;var o=this.subscribers.slice();for(e=0;t>e;++e){var r=o[e];if(r){if(n=this.notify(r,i),!1===n){!this.silent;break}}else s=!0}return n!==!1},notify:function(e,t){var i,n=null,s=e.getScope(this.scope),o=YAHOO.util.Event.throwErrors;if(!this.silent,this.signature==YAHOO.util.CustomEvent.FLAT){t.length>0&&(n=t[0]);try{i=e.fn.call(s,n,e.obj)}catch(r){if(this.lastError=r,o)throw r}}else try{i=e.fn.call(s,this.type,t,e.obj)}catch(a){if(this.lastError=a,o)throw a}return i},unsubscribeAll:function(){var e,t=this.subscribers.length;for(e=t-1;e>-1;e--)this._delete(e);return this.subscribers=[],t},_delete:function(e){var t=this.subscribers[e];t&&(delete t.fn,delete t.obj),this.subscribers.splice(e,1)},toString:function(){return"CustomEvent: '"+this.type+"', "+"context: "+this.scope}},YAHOO.util.Subscriber=function(e,t,i){this.fn=e,this.obj=YAHOO.lang.isUndefined(t)?null:t,this.overrideContext=i},YAHOO.util.Subscriber.prototype.getScope=function(e){return this.overrideContext?this.overrideContext===!0?this.obj:this.overrideContext:e},YAHOO.util.Subscriber.prototype.contains=function(e,t){return t?this.fn==e&&this.obj==t:this.fn==e},YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", overrideContext: "+(this.overrideContext||"no")+" }"},YAHOO.util.Event||(YAHOO.util.Event=function(){var e=!1,t=[],i=[],n=0,s=[],o=0,r={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9},a=YAHOO.env.ua.ie,l="focusin",u="focusout";return{POLL_RETRYS:500,POLL_INTERVAL:40,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,CAPTURE:7,lastError:null,isSafari:YAHOO.env.ua.webkit,webkit:YAHOO.env.ua.webkit,isIE:a,_interval:null,_dri:null,_specialTypes:{focusin:a?"focusin":"focus",focusout:a?"focusout":"blur"},DOMReady:!1,throwErrors:!1,startInterval:function(){this._interval||(this._interval=YAHOO.lang.later(this.POLL_INTERVAL,this,this._tryPreloadAttach,null,!0))},onAvailable:function(e,t,i,o,r){for(var a=YAHOO.lang.isString(e)?[e]:e,l=0;l<a.length;l+=1)s.push({id:a[l],fn:t,obj:i,overrideContext:o,checkReady:r});n=this.POLL_RETRYS,this.startInterval()},onContentReady:function(e,t,i,n){this.onAvailable(e,t,i,n,!0)},onDOMReady:function(){this.DOMReadyEvent.subscribe.apply(this.DOMReadyEvent,arguments)},_addListener:function(e,n,s,o,r,a){if(!s||!s.call)return!1;if(this._isValidCollection(e)){for(var l=!0,u=0,c=e.length;c>u;++u)l=this.on(e[u],n,s,o,r)&&l;return l}if(YAHOO.lang.isString(e)){var h=this.getEl(e);if(!h)return this.onAvailable(e,function(){YAHOO.util.Event._addListener(e,n,s,o,r,a)}),!0;e=h}if(!e)return!1;if("unload"==n&&o!==this)return i[i.length]=[e,n,s,o,r],!0;var d=e;r&&(d=r===!0?o:r);var p=function(t){return s.call(d,YAHOO.util.Event.getEvent(t,e),o)},f=[e,n,s,p,d,o,r,a],m=t.length;t[m]=f;try{this._simpleAdd(e,n,p,a)}catch(g){return this.lastError=g,this.removeListener(e,n,s),!1}return!0},_getType:function(e){return this._specialTypes[e]||e},addListener:function(e,t,i,n,s){var o=t!=l&&t!=u||YAHOO.env.ua.ie?!1:!0;return this._addListener(e,this._getType(t),i,n,s,o)},addFocusListener:function(e,t,i,n){return this.on(e,l,t,i,n)},removeFocusListener:function(e,t){return this.removeListener(e,l,t)},addBlurListener:function(e,t,i,n){return this.on(e,u,t,i,n)},removeBlurListener:function(e,t){return this.removeListener(e,u,t)},removeListener:function(e,n,s){var o,r;if(n=this._getType(n),"string"==typeof e)e=this.getEl(e);else if(this._isValidCollection(e)){var a=!0;for(o=e.length-1;o>-1;o--)a=this.removeListener(e[o],n,s)&&a;return a}if(!s||!s.call)return this.purgeElement(e,!1,n);if("unload"==n){for(o=i.length-1;o>-1;o--)if(r=i[o],r&&r[0]==e&&r[1]==n&&r[2]==s)return i.splice(o,1),!0;return!1}var l=null,u=arguments[3];if("undefined"==typeof u&&(u=this._getCacheIndex(t,e,n,s)),u>=0&&(l=t[u]),!e||!l)return!1;var c=l[this.CAPTURE]===!0?!0:!1;try{this._simpleRemove(e,n,l[this.WFN],c)}catch(h){return this.lastError=h,!1}return delete t[u][this.WFN],delete t[u][this.FN],t.splice(u,1),!0},getTarget:function(e){var t=e.target||e.srcElement;return this.resolveTextNode(t)},resolveTextNode:function(e){try{if(e&&3==e.nodeType)return e.parentNode}catch(t){}return e},getPageX:function(e){var t=e.pageX;return t||0===t||(t=e.clientX||0,this.isIE&&(t+=this._getScrollLeft())),t},getPageY:function(e){var t=e.pageY;return t||0===t||(t=e.clientY||0,this.isIE&&(t+=this._getScrollTop())),t},getXY:function(e){return[this.getPageX(e),this.getPageY(e)]},getRelatedTarget:function(e){var t=e.relatedTarget;return t||("mouseout"==e.type?t=e.toElement:"mouseover"==e.type&&(t=e.fromElement)),this.resolveTextNode(t)},getTime:function(e){if(!e.time){var t=(new Date).getTime();try{e.time=t}catch(i){return this.lastError=i,t}}return e.time},stopEvent:function(e){this.stopPropagation(e),this.preventDefault(e)},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},getEvent:function(e){var t=e||window.event;if(!t)for(var i=this.getEvent.caller;i&&(t=i.arguments[0],!t||Event!=t.constructor);)i=i.caller;return t},getCharCode:function(e){var t=e.keyCode||e.charCode||0;return YAHOO.env.ua.webkit&&t in r&&(t=r[t]),t},_getCacheIndex:function(e,t,i,n){for(var s=0,o=e.length;o>s;s+=1){var r=e[s];if(r&&r[this.FN]==n&&r[this.EL]==t&&r[this.TYPE]==i)return s}return-1},generateId:function(e){var t=e.id;return t||(t="yuievtautoid-"+o,++o,e.id=t),t},_isValidCollection:function(e){try{return e&&"string"!=typeof e&&e.length&&!e.tagName&&!e.alert&&"undefined"!=typeof e[0]}catch(t){return!1}},elCache:{},getEl:function(e){return"string"==typeof e?document.getElementById(e):e},clearCache:function(){},DOMReadyEvent:new YAHOO.util.CustomEvent("DOMReady",YAHOO,0,0,1),_load:function(){if(!e){e=!0;var t=YAHOO.util.Event;t._ready(),t._tryPreloadAttach()}},_ready:function(){var e=YAHOO.util.Event;e.DOMReady||(e.DOMReady=!0,e.DOMReadyEvent.fire(),e._simpleRemove(document,"DOMContentLoaded",e._ready))},_tryPreloadAttach:function(){if(0===s.length)return n=0,this._interval&&(this._interval.cancel(),this._interval=null),void 0;if(!this.locked){if(this.isIE&&!this.DOMReady)return this.startInterval(),void 0;this.locked=!0;var t=!e;t||(t=n>0&&s.length>0);var i,o,r,a,l=[],u=function(e,t){var i=e;t.overrideContext&&(i=t.overrideContext===!0?t.obj:t.overrideContext),t.fn.call(i,t.obj)},c=[];for(i=0,o=s.length;o>i;i+=1)r=s[i],r&&(a=this.getEl(r.id),a?r.checkReady?(e||a.nextSibling||!t)&&(c.push(r),s[i]=null):(u(a,r),s[i]=null):l.push(r));for(i=0,o=c.length;o>i;i+=1)r=c[i],u(this.getEl(r.id),r);if(n--,t){for(i=s.length-1;i>-1;i--)r=s[i],r&&r.id||s.splice(i,1);this.startInterval()}else this._interval&&(this._interval.cancel(),this._interval=null);this.locked=!1}},purgeElement:function(e,t,i){var n,s,o=YAHOO.lang.isString(e)?this.getEl(e):e,r=this.getListeners(o,i);if(r)for(n=r.length-1;n>-1;n--){var a=r[n];this.removeListener(o,a.type,a.fn)}if(t&&o&&o.childNodes)for(n=0,s=o.childNodes.length;s>n;++n)this.purgeElement(o.childNodes[n],t,i)},getListeners:function(e,n){var s,o=[];n?"unload"===n?s=[i]:(n=this._getType(n),s=[t]):s=[t,i];for(var r=YAHOO.lang.isString(e)?this.getEl(e):e,a=0;a<s.length;a+=1){var l=s[a];if(l)for(var u=0,c=l.length;c>u;++u){var h=l[u];!h||h[this.EL]!==r||n&&n!==h[this.TYPE]||o.push({type:h[this.TYPE],fn:h[this.FN],obj:h[this.OBJ],adjust:h[this.OVERRIDE],scope:h[this.ADJ_SCOPE],index:u})}}return o.length?o:null},_unload:function(e){var n,s,o,r,a,l=YAHOO.util.Event,u=i.slice();for(n=0,r=i.length;r>n;++n)o=u[n],o&&(a=window,o[l.ADJ_SCOPE]&&(a=o[l.ADJ_SCOPE]===!0?o[l.UNLOAD_OBJ]:o[l.ADJ_SCOPE]),o[l.FN].call(a,l.getEvent(e,o[l.EL]),o[l.UNLOAD_OBJ]),u[n]=null);if(o=null,a=null,i=null,t){for(s=t.length-1;s>-1;s--)o=t[s],o&&l.removeListener(o[l.EL],o[l.TYPE],o[l.FN],s);o=null}l._simpleRemove(window,"unload",l._unload)},_getScrollLeft:function(){return this._getScroll()[1]},_getScrollTop:function(){return this._getScroll()[0]},_getScroll:function(){var e=document.documentElement,t=document.body;return e&&(e.scrollTop||e.scrollLeft)?[e.scrollTop,e.scrollLeft]:t?[t.scrollTop,t.scrollLeft]:[0,0]},regCE:function(){},_simpleAdd:function(){return window.addEventListener?function(e,t,i,n){e.addEventListener(t,i,n)}:window.attachEvent?function(e,t,i){e.attachEvent("on"+t,i)}:function(){}}(),_simpleRemove:function(){return window.removeEventListener?function(e,t,i,n){e.removeEventListener(t,i,n)}:window.detachEvent?function(e,t,i){e.detachEvent("on"+t,i)}:function(){}}()}}(),function(){var e=YAHOO.util.Event;if(e.on=e.addListener,e.onFocus=e.addFocusListener,e.onBlur=e.addBlurListener,e.isIE)if(self!==self.top)document.onreadystatechange=function(){"complete"==document.readyState&&(document.onreadystatechange=null,e._ready())};else{YAHOO.util.Event.onDOMReady(YAHOO.util.Event._tryPreloadAttach,YAHOO.util.Event,!0);var t=document.createElement("p");e._dri=setInterval(function(){try{t.doScroll("left"),clearInterval(e._dri),e._dri=null,e._ready(),t=null}catch(i){}},e.POLL_INTERVAL)}else e.webkit&&e.webkit<525?e._dri=setInterval(function(){var t=document.readyState;("loaded"==t||"complete"==t)&&(clearInterval(e._dri),e._dri=null,e._ready())},e.POLL_INTERVAL):e._simpleAdd(document,"DOMContentLoaded",e._ready);e._simpleAdd(window,"load",e._load),e._simpleAdd(window,"unload",e._unload),e._tryPreloadAttach()}()),YAHOO.util.EventProvider=function(){},YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(e,t,i,n){this.__yui_events=this.__yui_events||{};var s=this.__yui_events[e];if(s)s.subscribe(t,i,n);else{this.__yui_subscribers=this.__yui_subscribers||{};var o=this.__yui_subscribers;o[e]||(o[e]=[]),o[e].push({fn:t,obj:i,overrideContext:n})}},unsubscribe:function(e,t,i){this.__yui_events=this.__yui_events||{};var n=this.__yui_events;if(!e){var s=!0;for(var o in n)YAHOO.lang.hasOwnProperty(n,o)&&(s=s&&n[o].unsubscribe(t,i));return s}var r=n[e];return r?r.unsubscribe(t,i):!1},unsubscribeAll:function(e){return this.unsubscribe(e)},createEvent:function(e,t){this.__yui_events=this.__yui_events||{};var i,n=t||{},s=this.__yui_events;if(s[e]);else{i=new YAHOO.util.CustomEvent(e,n.scope||this,n.silent,YAHOO.util.CustomEvent.FLAT,n.fireOnce),s[e]=i,n.onSubscribeCallback&&i.subscribeEvent.subscribe(n.onSubscribeCallback),this.__yui_subscribers=this.__yui_subscribers||{};var o=this.__yui_subscribers[e];if(o)for(var r=0;r<o.length;++r)i.subscribe(o[r].fn,o[r].obj,o[r].overrideContext)}return s[e]},fireEvent:function(e){this.__yui_events=this.__yui_events||{};var t=this.__yui_events[e];if(!t)return null;for(var i=[],n=1;n<arguments.length;++n)i.push(arguments[n]);return t.fire.apply(t,i)},hasEvent:function(e){return this.__yui_events&&this.__yui_events[e]?!0:!1}},function(){var e=YAHOO.util.Event,t=YAHOO.lang;YAHOO.util.KeyListener=function(i,n,s,o){function r(t){if(n.shift||(n.shift=!1),n.alt||(n.alt=!1),n.ctrl||(n.ctrl=!1),t.shiftKey==n.shift&&t.altKey==n.alt&&t.ctrlKey==n.ctrl){var i,s,o=n.keys;if(YAHOO.lang.isArray(o)){for(var r=0;r<o.length;r++)if(i=o[r],s=e.getCharCode(t),i==s){a.fire(s,t);break}}else s=e.getCharCode(t),o==s&&a.fire(s,t)}}o||(o=YAHOO.util.KeyListener.KEYDOWN);var a=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled"),this.disabledEvent=new YAHOO.util.CustomEvent("disabled"),t.isString(i)&&(i=document.getElementById(i)),t.isFunction(s)?a.subscribe(s):a.subscribe(s.fn,s.scope,s.correctScope),this.enable=function(){this.enabled||(e.on(i,o,r),this.enabledEvent.fire(n)),this.enabled=!0},this.disable=function(){this.enabled&&(e.removeListener(i,o,r),this.disabledEvent.fire(n)),this.enabled=!1},this.toString=function(){return"KeyListener ["+n.keys+"] "+i.tagName+(i.id?"["+i.id+"]":"")}};var i=YAHOO.util.KeyListener;i.KEYDOWN="keydown",i.KEYUP="keyup",i.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38}}(),YAHOO.register("event",YAHOO.util.Event,{version:"2.8.1",build:"19"}),YAHOO.util.Connect={_msxml_progid:["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP"],_http_headers:{},_has_http_headers:!1,_use_default_post_header:!0,_default_post_header:"application/x-www-form-urlencoded; charset=UTF-8",_default_form_header:"application/x-www-form-urlencoded",_use_default_xhr_header:!0,_default_xhr_header:"XMLHttpRequest",_has_default_headers:!0,_default_headers:{},_poll:{},_timeOut:{},_polling_interval:50,_transaction_id:0,startEvent:new YAHOO.util.CustomEvent("start"),completeEvent:new YAHOO.util.CustomEvent("complete"),successEvent:new YAHOO.util.CustomEvent("success"),failureEvent:new YAHOO.util.CustomEvent("failure"),abortEvent:new YAHOO.util.CustomEvent("abort"),_customEvents:{onStart:["startEvent","start"],onComplete:["completeEvent","complete"],onSuccess:["successEvent","success"],onFailure:["failureEvent","failure"],onUpload:["uploadEvent","upload"],onAbort:["abortEvent","abort"]},setProgId:function(e){this._msxml_progid.unshift(e)},setDefaultPostHeader:function(e){"string"==typeof e?this._default_post_header=e:"boolean"==typeof e&&(this._use_default_post_header=e)},setDefaultXhrHeader:function(e){"string"==typeof e?this._default_xhr_header=e:this._use_default_xhr_header=e},setPollingInterval:function(e){"number"==typeof e&&isFinite(e)&&(this._polling_interval=e)},createXhrObject:function(e){var t,i,n;try{i=new XMLHttpRequest,t={conn:i,tId:e,xhr:!0}}catch(s){for(n=0;n<this._msxml_progid.length;++n)try{i=new ActiveXObject(this._msxml_progid[n]),t={conn:i,tId:e,xhr:!0};break}catch(o){}}finally{return t}},getConnectionObject:function(e){var t,i=this._transaction_id;try{e?(t={tId:i},"xdr"===e?(t.conn=this._transport,t.xdr=!0):"upload"===e&&(t.upload=!0)):t=this.createXhrObject(i),t&&this._transaction_id++}catch(n){}return t},asyncRequest:function(e,t,i,n){var s,o,r=i&&i.argument?i.argument:null;if(this._isFileUpload?o="upload":i.xdr&&(o="xdr"),s=this.getConnectionObject(o)){if(i&&i.customevents&&this.initCustomEvents(s,i),this._isFormSubmit){if(this._isFileUpload)return this.uploadFile(s,i,t,n),s;"GET"==e.toUpperCase()?0!==this._sFormData.length&&(t+=(-1==t.indexOf("?")?"?":"&")+this._sFormData):"POST"==e.toUpperCase()&&(n=n?this._sFormData+"&"+n:this._sFormData)}return"GET"==e.toUpperCase()&&i&&i.cache===!1&&(t+=(-1==t.indexOf("?")?"?":"&")+"rnd="+(new Date).valueOf().toString()),this._use_default_xhr_header&&(this._default_headers["X-Requested-With"]||this.initHeader("X-Requested-With",this._default_xhr_header,!0)),"POST"===e.toUpperCase()&&this._use_default_post_header&&this._isFormSubmit===!1&&this.initHeader("Content-Type",this._default_post_header),s.xdr?(this.xdr(s,e,t,i,n),s):(s.conn.open(e,t,!0),(this._has_default_headers||this._has_http_headers)&&this.setHeader(s),this.handleReadyState(s,i),s.conn.send(n||""),this._isFormSubmit===!0&&this.resetFormState(),this.startEvent.fire(s,r),s.startEvent&&s.startEvent.fire(s,r),s)}return null},initCustomEvents:function(e,t){var i;for(i in t.customevents)this._customEvents[i][0]&&(e[this._customEvents[i][0]]=new YAHOO.util.CustomEvent(this._customEvents[i][1],t.scope?t.scope:null),e[this._customEvents[i][0]].subscribe(t.customevents[i]))},handleReadyState:function(e,t){var i=this,n=t&&t.argument?t.argument:null;t&&t.timeout&&(this._timeOut[e.tId]=window.setTimeout(function(){i.abort(e,t,!0)},t.timeout)),this._poll[e.tId]=window.setInterval(function(){e.conn&&4===e.conn.readyState&&(window.clearInterval(i._poll[e.tId]),delete i._poll[e.tId],t&&t.timeout&&(window.clearTimeout(i._timeOut[e.tId]),delete i._timeOut[e.tId]),i.completeEvent.fire(e,n),e.completeEvent&&e.completeEvent.fire(e,n),i.handleTransactionResponse(e,t))},this._polling_interval)},handleTransactionResponse:function(e,t,i){var n,s,o=t&&t.argument?t.argument:null,r=e.r&&"xdr:success"===e.r.statusText?!0:!1,a=e.r&&"xdr:failure"===e.r.statusText?!0:!1,l=i;try{n=void 0!==e.conn.status&&0!==e.conn.status||r?e.conn.status:a&&!l?0:13030}catch(u){n=13030}if(n>=200&&300>n||1223===n||r)s=e.xdr?e.r:this.createResponseObject(e,o),t&&t.success&&(t.scope?t.success.apply(t.scope,[s]):t.success(s)),this.successEvent.fire(s),e.successEvent&&e.successEvent.fire(s);else{switch(n){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:s=this.createExceptionObject(e.tId,o,i?i:!1),t&&t.failure&&(t.scope?t.failure.apply(t.scope,[s]):t.failure(s));break;default:s=e.xdr?e.response:this.createResponseObject(e,o),t&&t.failure&&(t.scope?t.failure.apply(t.scope,[s]):t.failure(s))}this.failureEvent.fire(s),e.failureEvent&&e.failureEvent.fire(s)}this.releaseObject(e),s=null},createResponseObject:function(e,t){var i,n,s,o,r={},a={};try{for(n=e.conn.getAllResponseHeaders(),s=n.split("\n"),i=0;i<s.length;i++)o=s[i].indexOf(":"),-1!=o&&(a[s[i].substring(0,o)]=YAHOO.lang.trim(s[i].substring(o+2)))}catch(l){}return r.tId=e.tId,r.status=1223==e.conn.status?204:e.conn.status,r.statusText=1223==e.conn.status?"No Content":e.conn.statusText,r.getResponseHeader=a,r.getAllResponseHeaders=n,r.responseText=e.conn.responseText,r.responseXML=e.conn.responseXML,t&&(r.argument=t),r},createExceptionObject:function(e,t,i){var n=0,s="communication failure",o=-1,r="transaction aborted",a={};return a.tId=e,i?(a.status=o,a.statusText=r):(a.status=n,a.statusText=s),t&&(a.argument=t),a},initHeader:function(e,t,i){var n=i?this._default_headers:this._http_headers;n[e]=t,i?this._has_default_headers=!0:this._has_http_headers=!0},setHeader:function(e){var t;if(this._has_default_headers)for(t in this._default_headers)YAHOO.lang.hasOwnProperty(this._default_headers,t)&&e.conn.setRequestHeader(t,this._default_headers[t]);if(this._has_http_headers){for(t in this._http_headers)YAHOO.lang.hasOwnProperty(this._http_headers,t)&&e.conn.setRequestHeader(t,this._http_headers[t]);this._http_headers={},this._has_http_headers=!1}},resetDefaultHeaders:function(){this._default_headers={},this._has_default_headers=!1},abort:function(e,t,i){var n,s=t&&t.argument?t.argument:null;if(e=e||{},e.conn)e.xhr?this.isCallInProgress(e)&&(e.conn.abort(),window.clearInterval(this._poll[e.tId]),delete this._poll[e.tId],i&&(window.clearTimeout(this._timeOut[e.tId]),delete this._timeOut[e.tId]),n=!0):e.xdr&&(e.conn.abort(e.tId),n=!0);else if(e.upload){var o="yuiIO"+e.tId,r=document.getElementById(o);r&&(YAHOO.util.Event.removeListener(r,"load"),document.body.removeChild(r),i&&(window.clearTimeout(this._timeOut[e.tId]),delete this._timeOut[e.tId]),n=!0)}else n=!1;return n===!0&&(this.abortEvent.fire(e,s),e.abortEvent&&e.abortEvent.fire(e,s),this.handleTransactionResponse(e,t,!0)),n},isCallInProgress:function(e){return e=e||{},e.xhr&&e.conn?4!==e.conn.readyState&&0!==e.conn.readyState:e.xdr&&e.conn?e.conn.isCallInProgress(e.tId):e.upload===!0?document.getElementById("yuiIO"+e.tId)?!0:!1:!1},releaseObject:function(e){e&&e.conn&&(e.conn=null,e=null)}},function(){function e(e){var t='<object id="YUIConnectionSwf" type="application/x-shockwave-flash" data="'+e+'" width="0" height="0">'+'<param name="movie" value="'+e+'">'+'<param name="allowScriptAccess" value="always">'+"</object>",i=document.createElement("div");document.body.appendChild(i),i.innerHTML=t}function t(e,t,i,n,s){a[parseInt(e.tId)]={o:e,c:n},s&&(n.method=t,n.data=s),e.conn.send(i,n,e.tId)}function i(t){e(t),r._transport=document.getElementById("YUIConnectionSwf")
}function n(){r.xdrReadyEvent.fire()}function s(e,t){e&&(r.startEvent.fire(e,t.argument),e.startEvent&&e.startEvent.fire(e,t.argument))}function o(e){var t=a[e.tId].o,i=a[e.tId].c;return"xdr:start"===e.statusText?(s(t,i),void 0):(e.responseText=decodeURI(e.responseText),t.r=e,i.argument&&(t.r.argument=i.argument),this.handleTransactionResponse(t,i,"xdr:abort"===e.statusText?!0:!1),delete a[e.tId],void 0)}var r=YAHOO.util.Connect,a={};r.xdr=t,r.swf=e,r.transport=i,r.xdrReadyEvent=new YAHOO.util.CustomEvent("xdrReady"),r.xdrReady=n,r.handleXdrResponse=o}(),function(){function e(e,t,i){var n,s,o,r,a,l,u,c,h,d,p=!1,f=[],m=0;if(this.resetFormState(),"string"==typeof e)n=document.getElementById(e)||document.forms[e];else{if("object"!=typeof e)return;n=e}if(t)return this.createFrame(i?i:null),this._isFormSubmit=!0,this._isFileUpload=!0,this._formNode=n,void 0;for(l=0,u=n.elements.length;u>l;++l)if(s=n.elements[l],a=s.disabled,o=s.name,!a&&o)switch(o=encodeURIComponent(o)+"=",r=encodeURIComponent(s.value),s.type){case"select-one":s.selectedIndex>-1&&(d=s.options[s.selectedIndex],f[m++]=o+encodeURIComponent(d.attributes.value&&d.attributes.value.specified?d.value:d.text));break;case"select-multiple":if(s.selectedIndex>-1)for(c=s.selectedIndex,h=s.options.length;h>c;++c)d=s.options[c],d.selected&&(f[m++]=o+encodeURIComponent(d.attributes.value&&d.attributes.value.specified?d.value:d.text));break;case"radio":case"checkbox":s.checked&&(f[m++]=o+r);break;case"file":case void 0:case"reset":case"button":break;case"submit":p===!1&&(this._hasSubmitListener&&this._submitElementValue&&(f[m++]=this._submitElementValue),p=!0);break;default:f[m++]=o+r}return this._isFormSubmit=!0,this._sFormData=f.join("&"),this.initHeader("Content-Type",this._default_form_header),this._sFormData}function t(){this._isFormSubmit=!1,this._isFileUpload=!1,this._formNode=null,this._sFormData=""}function i(e){var t,i="yuiIO"+this._transaction_id;YAHOO.env.ua.ie?(t=document.createElement('<iframe id="'+i+'" name="'+i+'" />'),"boolean"==typeof e&&(t.src="javascript:false")):(t=document.createElement("iframe"),t.id=i,t.name=i),t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",document.body.appendChild(t)}function n(e){var t,i,n=[],s=e.split("&");for(t=0;t<s.length;t++)i=s[t].indexOf("="),-1!=i&&(n[t]=document.createElement("input"),n[t].type="hidden",n[t].name=decodeURIComponent(s[t].substring(0,i)),n[t].value=decodeURIComponent(s[t].substring(i+1)),this._formNode.appendChild(n[t]));return n}function s(e,t,i,n){var s,o,a,l,u,c,h="yuiIO"+e.tId,d="multipart/form-data",p=document.getElementById(h),f=document.documentMode&&8===document.documentMode?!0:!1,m=this,g=t&&t.argument?t.argument:null;if(u={action:this._formNode.getAttribute("action"),method:this._formNode.getAttribute("method"),target:this._formNode.getAttribute("target")},this._formNode.setAttribute("action",i),this._formNode.setAttribute("method","POST"),this._formNode.setAttribute("target",h),YAHOO.env.ua.ie&&!f?this._formNode.setAttribute("encoding",d):this._formNode.setAttribute("enctype",d),n&&(s=this.appendPostData(n)),this._formNode.submit(),this.startEvent.fire(e,g),e.startEvent&&e.startEvent.fire(e,g),t&&t.timeout&&(this._timeOut[e.tId]=window.setTimeout(function(){m.abort(e,t,!0)},t.timeout)),s&&s.length>0)for(o=0;o<s.length;o++)this._formNode.removeChild(s[o]);for(a in u)YAHOO.lang.hasOwnProperty(u,a)&&(u[a]?this._formNode.setAttribute(a,u[a]):this._formNode.removeAttribute(a));this.resetFormState(),c=function(){t&&t.timeout&&(window.clearTimeout(m._timeOut[e.tId]),delete m._timeOut[e.tId]),m.completeEvent.fire(e,g),e.completeEvent&&e.completeEvent.fire(e,g),l={tId:e.tId,argument:t.argument};try{l.responseText=p.contentWindow.document.body?p.contentWindow.document.body.innerHTML:p.contentWindow.document.documentElement.textContent,l.responseXML=p.contentWindow.document.XMLDocument?p.contentWindow.document.XMLDocument:p.contentWindow.document}catch(i){}t&&t.upload&&(t.scope?t.upload.apply(t.scope,[l]):t.upload(l)),m.uploadEvent.fire(l),e.uploadEvent&&e.uploadEvent.fire(l),r.removeListener(p,"load",c),setTimeout(function(){document.body.removeChild(p),m.releaseObject(e)},100)},r.addListener(p,"load",c)}var o=YAHOO.util.Connect,r=YAHOO.util.Event;o._isFormSubmit=!1,o._isFileUpload=!1,o._formNode=null,o._sFormData=null,o._submitElementValue=null,o.uploadEvent=new YAHOO.util.CustomEvent("upload"),o._hasSubmitListener=function(){return r?(r.addListener(document,"click",function(e){var t=r.getTarget(e),i=t.nodeName.toLowerCase();"input"!==i&&"button"!==i||!t.type||"submit"!=t.type.toLowerCase()||(o._submitElementValue=encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),!0):!1}(),o.setForm=e,o.resetFormState=t,o.createFrame=i,o.appendPostData=n,o.uploadFile=s}(),YAHOO.register("connection",YAHOO.util.Connect,{version:"2.8.1",build:"19"}),function(){var e=YAHOO.util,t=function(e,t,i,n){this.init(e,t,i,n)};t.NAME="Anim",t.prototype={toString:function(){var e=this.getEl()||{},t=e.id||e.tagName;return this.constructor.NAME+": "+t},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(e,t,i){return this.method(this.currentFrame,t,i-t,this.totalFrames)},setAttribute:function(t,i,n){var s=this.getEl();this.patterns.noNegatives.test(t)&&(i=i>0?i:0),t in s&&!("style"in s&&t in s.style)?s[t]=i:e.Dom.setStyle(s,t,i+n)},getAttribute:function(t){var i=this.getEl(),n=e.Dom.getStyle(i,t);if("auto"!==n&&!this.patterns.offsetUnit.test(n))return parseFloat(n);var s=this.patterns.offsetAttribute.exec(t)||[],o=!!s[3],r=!!s[2];return"style"in i?n=r||"absolute"==e.Dom.getStyle(i,"position")&&o?i["offset"+s[0].charAt(0).toUpperCase()+s[0].substr(1)]:0:t in i&&(n=i[t]),n},getDefaultUnit:function(e){return this.patterns.defaultUnit.test(e)?"px":""},setRuntimeAttribute:function(e){var t,i,n=this.attributes;this.runtimeAttributes[e]={};var s=function(e){return"undefined"!=typeof e};if(!s(n[e].to)&&!s(n[e].by))return!1;if(t=s(n[e].from)?n[e].from:this.getAttribute(e),s(n[e].to))i=n[e].to;else if(s(n[e].by))if(t.constructor==Array){i=[];for(var o=0,r=t.length;r>o;++o)i[o]=t[o]+1*n[e].by[o]}else i=t+1*n[e].by;return this.runtimeAttributes[e].start=t,this.runtimeAttributes[e].end=i,this.runtimeAttributes[e].unit=s(n[e].unit)?n[e].unit:this.getDefaultUnit(e),!0},init:function(t,i,n,s){var o=!1,r=null,a=0;t=e.Dom.get(t),this.attributes=i||{},this.duration=YAHOO.lang.isUndefined(n)?1:n,this.method=s||e.Easing.easeNone,this.useSeconds=!0,this.currentFrame=0,this.totalFrames=e.AnimMgr.fps,this.setEl=function(i){t=e.Dom.get(i)},this.getEl=function(){return t},this.isAnimated=function(){return o},this.getStartTime=function(){return r},this.runtimeAttributes={},this.animate=function(){return this.isAnimated()?!1:(this.currentFrame=0,this.totalFrames=this.useSeconds?Math.ceil(e.AnimMgr.fps*this.duration):this.duration,0===this.duration&&this.useSeconds&&(this.totalFrames=1),e.AnimMgr.registerElement(this),!0)},this.stop=function(t){return this.isAnimated()?(t&&(this.currentFrame=this.totalFrames,this._onTween.fire()),e.AnimMgr.stop(this),void 0):!1};var l=function(){this.onStart.fire(),this.runtimeAttributes={};for(var e in this.attributes)this.setRuntimeAttribute(e);o=!0,a=0,r=new Date},u=function(){var e={duration:new Date-this.getStartTime(),currentFrame:this.currentFrame};e.toString=function(){return"duration: "+e.duration+", currentFrame: "+e.currentFrame},this.onTween.fire(e);var t=this.runtimeAttributes;for(var i in t)this.setAttribute(i,this.doMethod(i,t[i].start,t[i].end),t[i].unit);a+=1},c=function(){var e=(new Date-r)/1e3,t={duration:e,frames:a,fps:a/e};t.toString=function(){return"duration: "+t.duration+", frames: "+t.frames+", fps: "+t.fps},o=!1,a=0,this.onComplete.fire(t)};this._onStart=new e.CustomEvent("_start",this,!0),this.onStart=new e.CustomEvent("start",this),this.onTween=new e.CustomEvent("tween",this),this._onTween=new e.CustomEvent("_tween",this,!0),this.onComplete=new e.CustomEvent("complete",this),this._onComplete=new e.CustomEvent("_complete",this,!0),this._onStart.subscribe(l),this._onTween.subscribe(u),this._onComplete.subscribe(c)}},e.Anim=t}(),YAHOO.util.AnimMgr=new function(){var e=null,t=[],i=0;this.fps=1e3,this.delay=1,this.registerElement=function(e){t[t.length]=e,i+=1,e._onStart.fire(),this.start()},this.unRegister=function(e,s){return s=s||n(e),e.isAnimated()&&-1!==s?(e._onComplete.fire(),t.splice(s,1),i-=1,0>=i&&this.stop(),!0):!1},this.start=function(){null===e&&(e=setInterval(this.run,this.delay))},this.stop=function(n){if(n)this.unRegister(n);else{clearInterval(e);for(var s=0,o=t.length;o>s;++s)this.unRegister(t[0],0);t=[],e=null,i=0}},this.run=function(){for(var e=0,i=t.length;i>e;++e){var n=t[e];n&&n.isAnimated()&&(n.currentFrame<n.totalFrames||null===n.totalFrames?(n.currentFrame+=1,n.useSeconds&&s(n),n._onTween.fire()):YAHOO.util.AnimMgr.stop(n,e))}};var n=function(e){for(var i=0,n=t.length;n>i;++i)if(t[i]===e)return i;return-1},s=function(e){var t=e.totalFrames,i=e.currentFrame,n=1e3*e.currentFrame*e.duration/e.totalFrames,s=new Date-e.getStartTime(),o=0;o=s<1e3*e.duration?Math.round((s/n-1)*e.currentFrame):t-(i+1),o>0&&isFinite(o)&&(e.currentFrame+o>=t&&(o=t-(i+1)),e.currentFrame+=o)};this._queue=t,this._getIndex=n},YAHOO.util.Bezier=new function(){this.getPosition=function(e,t){for(var i=e.length,n=[],s=0;i>s;++s)n[s]=[e[s][0],e[s][1]];for(var o=1;i>o;++o)for(s=0;i-o>s;++s)n[s][0]=(1-t)*n[s][0]+t*n[parseInt(s+1,10)][0],n[s][1]=(1-t)*n[s][1]+t*n[parseInt(s+1,10)][1];return[n[0][0],n[0][1]]}},function(){var e=function(t,i,n,s){e.superclass.constructor.call(this,t,i,n,s)};e.NAME="ColorAnim",e.DEFAULT_BGCOLOR="#fff";var t=YAHOO.util;YAHOO.extend(e,t.Anim);var i=e.superclass,n=e.prototype;n.patterns.color=/color$/i,n.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,n.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,n.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,n.patterns.transparent=/^transparent|rgba\(0, 0, 0, 0\)$/,n.parseColor=function(e){if(3==e.length)return e;var t=this.patterns.hex.exec(e);return t&&4==t.length?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=this.patterns.rgb.exec(e),t&&4==t.length?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]:(t=this.patterns.hex3.exec(e),t&&4==t.length?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:null))},n.getAttribute=function(n){var s=this.getEl();if(this.patterns.color.test(n)){var o=YAHOO.util.Dom.getStyle(s,n),r=this;if(this.patterns.transparent.test(o)){var a=YAHOO.util.Dom.getAncestorBy(s,function(){return!r.patterns.transparent.test(o)});o=a?t.Dom.getStyle(a,n):e.DEFAULT_BGCOLOR}}else o=i.getAttribute.call(this,n);return o},n.doMethod=function(e,t,n){var s;if(this.patterns.color.test(e)){s=[];for(var o=0,r=t.length;r>o;++o)s[o]=i.doMethod.call(this,e,t[o],n[o]);s="rgb("+Math.floor(s[0])+","+Math.floor(s[1])+","+Math.floor(s[2])+")"}else s=i.doMethod.call(this,e,t,n);return s},n.setRuntimeAttribute=function(e){if(i.setRuntimeAttribute.call(this,e),this.patterns.color.test(e)){var t=this.attributes,n=this.parseColor(this.runtimeAttributes[e].start),s=this.parseColor(this.runtimeAttributes[e].end);if("undefined"==typeof t[e].to&&"undefined"!=typeof t[e].by){s=this.parseColor(t[e].by);for(var o=0,r=n.length;r>o;++o)s[o]=n[o]+s[o]}this.runtimeAttributes[e].start=n,this.runtimeAttributes[e].end=s}},t.ColorAnim=e}(),YAHOO.util.Easing={easeNone:function(e,t,i,n){return i*e/n+t},easeIn:function(e,t,i,n){return i*(e/=n)*e+t},easeOut:function(e,t,i,n){return-i*(e/=n)*(e-2)+t},easeBoth:function(e,t,i,n){return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},easeInStrong:function(e,t,i,n){return i*(e/=n)*e*e*e+t},easeOutStrong:function(e,t,i,n){return-i*((e=e/n-1)*e*e*e-1)+t},easeBothStrong:function(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t},elasticIn:function(e,t,i,n,s,o){if(0==e)return t;if(1==(e/=n))return t+i;if(o||(o=.3*n),!s||s<Math.abs(i)){s=i;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(i/s);return-(s*Math.pow(2,10*(e-=1))*Math.sin((e*n-r)*2*Math.PI/o))+t},elasticOut:function(e,t,i,n,s,o){if(0==e)return t;if(1==(e/=n))return t+i;if(o||(o=.3*n),!s||s<Math.abs(i)){s=i;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*e)*Math.sin((e*n-r)*2*Math.PI/o)+i+t},elasticBoth:function(e,t,i,n,s,o){if(0==e)return t;if(2==(e/=n/2))return t+i;if(o||(o=n*.3*1.5),!s||s<Math.abs(i)){s=i;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(i/s);return 1>e?-.5*s*Math.pow(2,10*(e-=1))*Math.sin((e*n-r)*2*Math.PI/o)+t:.5*s*Math.pow(2,-10*(e-=1))*Math.sin((e*n-r)*2*Math.PI/o)+i+t},backIn:function(e,t,i,n,s){return"undefined"==typeof s&&(s=1.70158),i*(e/=n)*e*((s+1)*e-s)+t},backOut:function(e,t,i,n,s){return"undefined"==typeof s&&(s=1.70158),i*((e=e/n-1)*e*((s+1)*e+s)+1)+t},backBoth:function(e,t,i,n,s){return"undefined"==typeof s&&(s=1.70158),(e/=n/2)<1?i/2*e*e*(((s*=1.525)+1)*e-s)+t:i/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+t},bounceIn:function(e,t,i,n){return i-YAHOO.util.Easing.bounceOut(n-e,0,i,n)+t},bounceOut:function(e,t,i,n){return(e/=n)<1/2.75?i*7.5625*e*e+t:2/2.75>e?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},bounceBoth:function(e,t,i,n){return n/2>e?.5*YAHOO.util.Easing.bounceIn(2*e,0,i,n)+t:.5*YAHOO.util.Easing.bounceOut(2*e-n,0,i,n)+.5*i+t}},function(){var e=function(t,i,n,s){t&&e.superclass.constructor.call(this,t,i,n,s)};e.NAME="Motion";var t=YAHOO.util;YAHOO.extend(e,t.ColorAnim);var i=e.superclass,n=e.prototype;n.patterns.points=/^points$/i,n.setAttribute=function(e,t,n){this.patterns.points.test(e)?(n=n||"px",i.setAttribute.call(this,"left",t[0],n),i.setAttribute.call(this,"top",t[1],n)):i.setAttribute.call(this,e,t,n)},n.getAttribute=function(e){if(this.patterns.points.test(e))var t=[i.getAttribute.call(this,"left"),i.getAttribute.call(this,"top")];else t=i.getAttribute.call(this,e);return t},n.doMethod=function(e,n,s){var o=null;if(this.patterns.points.test(e)){var r=this.method(this.currentFrame,0,100,this.totalFrames)/100;o=t.Bezier.getPosition(this.runtimeAttributes[e],r)}else o=i.doMethod.call(this,e,n,s);return o},n.setRuntimeAttribute=function(e){if(this.patterns.points.test(e)){var n,r,a,l,u=this.getEl(),c=this.attributes,h=c.points.control||[];if(h.length>0&&!(h[0]instanceof Array))h=[h];else{var d=[];for(a=0,l=h.length;l>a;++a)d[a]=h[a];h=d}if("static"==t.Dom.getStyle(u,"position")&&t.Dom.setStyle(u,"position","relative"),o(c.points.from)?t.Dom.setXY(u,c.points.from):t.Dom.setXY(u,t.Dom.getXY(u)),n=this.getAttribute("points"),o(c.points.to))for(r=s.call(this,c.points.to,n),t.Dom.getXY(this.getEl()),a=0,l=h.length;l>a;++a)h[a]=s.call(this,h[a],n);else if(o(c.points.by))for(r=[n[0]+c.points.by[0],n[1]+c.points.by[1]],a=0,l=h.length;l>a;++a)h[a]=[n[0]+h[a][0],n[1]+h[a][1]];this.runtimeAttributes[e]=[n],h.length>0&&(this.runtimeAttributes[e]=this.runtimeAttributes[e].concat(h)),this.runtimeAttributes[e][this.runtimeAttributes[e].length]=r}else i.setRuntimeAttribute.call(this,e)};var s=function(e,i){var n=t.Dom.getXY(this.getEl());return e=[e[0]-n[0]+i[0],e[1]-n[1]+i[1]]},o=function(e){return"undefined"!=typeof e};t.Motion=e}(),function(){var e=function(t,i,n,s){t&&e.superclass.constructor.call(this,t,i,n,s)};e.NAME="Scroll";var t=YAHOO.util;YAHOO.extend(e,t.ColorAnim);var i=e.superclass,n=e.prototype;n.doMethod=function(e,t,n){var s=null;return s="scroll"==e?[this.method(this.currentFrame,t[0],n[0]-t[0],this.totalFrames),this.method(this.currentFrame,t[1],n[1]-t[1],this.totalFrames)]:i.doMethod.call(this,e,t,n)},n.getAttribute=function(e){var t=null,n=this.getEl();return t="scroll"==e?[n.scrollLeft,n.scrollTop]:i.getAttribute.call(this,e)},n.setAttribute=function(e,t,n){var s=this.getEl();"scroll"==e?(s.scrollLeft=t[0],s.scrollTop=t[1]):i.setAttribute.call(this,e,t,n)},t.Scroll=e}(),YAHOO.register("animation",YAHOO.util.Anim,{version:"2.8.1",build:"19"}),YAHOO.util.DragDropMgr||(YAHOO.util.DragDropMgr=function(){var e=YAHOO.util.Event,t=YAHOO.util.Dom;return{useShim:!1,_shimActive:!1,_shimState:!1,_debugShim:!1,_createShim:function(){var i=document.createElement("div");i.id="yui-ddm-shim",document.body.firstChild?document.body.insertBefore(i,document.body.firstChild):document.body.appendChild(i),i.style.display="none",i.style.backgroundColor="red",i.style.position="absolute",i.style.zIndex="99999",t.setStyle(i,"opacity","0"),this._shim=i,e.on(i,"mouseup",this.handleMouseUp,this,!0),e.on(i,"mousemove",this.handleMouseMove,this,!0),e.on(window,"scroll",this._sizeShim,this,!0)},_sizeShim:function(){if(this._shimActive){var e=this._shim;e.style.height=t.getDocumentHeight()+"px",e.style.width=t.getDocumentWidth()+"px",e.style.top="0",e.style.left="0"}},_activateShim:function(){if(this.useShim){this._shim||this._createShim(),this._shimActive=!0;var e=this._shim,i="0";this._debugShim&&(i=".5"),t.setStyle(e,"opacity",i),this._sizeShim(),e.style.display="block"}},_deactivateShim:function(){this._shim.style.display="none",this._shimActive=!1},_shim:null,ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,interactionInfo:null,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,STRICT_INTERSECT:2,mode:0,_execOnAll:function(e,t){for(var i in this.ids)for(var n in this.ids[i]){var s=this.ids[i][n];this.isTypeOfDD(s)&&s[e].apply(s,t)}},_onLoad:function(){this.init(),e.on(document,"mouseup",this.handleMouseUp,this,!0),e.on(document,"mousemove",this.handleMouseMove,this,!0),e.on(window,"unload",this._onUnload,this,!0),e.on(window,"resize",this._onResize,this,!0)},_onResize:function(){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:1e3,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,fromTimeout:!1,regDragDrop:function(e,t){this.initialized||this.init(),this.ids[t]||(this.ids[t]={}),this.ids[t][e.id]=e},removeDDFromGroup:function(e,t){this.ids[t]||(this.ids[t]={});var i=this.ids[t];i&&i[e.id]&&delete i[e.id]},_remove:function(e){for(var t in e.groups)if(t){var i=this.ids[t];i&&i[e.id]&&delete i[e.id]}delete this.handleIds[e.id]},regHandle:function(e,t){this.handleIds[e]||(this.handleIds[e]={}),this.handleIds[e][t]=t},isDragDrop:function(e){return this.getDDById(e)?!0:!1},getRelated:function(e,t){var i=[];for(var n in e.groups)for(var s in this.ids[n]){var o=this.ids[n][s];this.isTypeOfDD(o)&&(!t||o.isTarget)&&(i[i.length]=o)}return i},isLegalTarget:function(e,t){for(var i=this.getRelated(e,!0),n=0,s=i.length;s>n;++n)if(i[n].id==t.id)return!0;return!1},isTypeOfDD:function(e){return e&&e.__ygDragDrop},isHandle:function(e,t){return this.handleIds[e]&&this.handleIds[e][t]},getDDById:function(e){for(var t in this.ids)if(this.ids[t][e])return this.ids[t][e];return null},handleMouseDown:function(e,t){this.currentTarget=YAHOO.util.Event.getTarget(e),this.dragCurrent=t;var i=t.getEl();this.startX=YAHOO.util.Event.getPageX(e),this.startY=YAHOO.util.Event.getPageY(e),this.deltaX=this.startX-i.offsetLeft,this.deltaY=this.startY-i.offsetTop,this.dragThreshMet=!1,this.clickTimeout=setTimeout(function(){var e=YAHOO.util.DDM;e.startDrag(e.startX,e.startY),e.fromTimeout=!0},this.clickTimeThresh)},startDrag:function(e,t){this.dragCurrent&&this.dragCurrent.useShim&&(this._shimState=this.useShim,this.useShim=!0),this._activateShim(),clearTimeout(this.clickTimeout);var i=this.dragCurrent;i&&i.events.b4StartDrag&&(i.b4StartDrag(e,t),i.fireEvent("b4StartDragEvent",{x:e,y:t})),i&&i.events.startDrag&&(i.startDrag(e,t),i.fireEvent("startDragEvent",{x:e,y:t})),this.dragThreshMet=!0},handleMouseUp:function(e){this.dragCurrent&&(clearTimeout(this.clickTimeout),this.dragThreshMet&&(this.fromTimeout&&(this.fromTimeout=!1,this.handleMouseMove(e)),this.fromTimeout=!1,this.fireEvents(e,!0)),this.stopDrag(e),this.stopEvent(e))},stopEvent:function(e){this.stopPropagation&&YAHOO.util.Event.stopPropagation(e),this.preventDefault&&YAHOO.util.Event.preventDefault(e)},stopDrag:function(e,t){var i=this.dragCurrent;i&&!t&&(this.dragThreshMet&&(i.events.b4EndDrag&&(i.b4EndDrag(e),i.fireEvent("b4EndDragEvent",{e:e})),i.events.endDrag&&(i.endDrag(e),i.fireEvent("endDragEvent",{e:e}))),i.events.mouseUp&&(i.onMouseUp(e),i.fireEvent("mouseUpEvent",{e:e}))),this._shimActive&&(this._deactivateShim(),this.dragCurrent&&this.dragCurrent.useShim&&(this.useShim=this._shimState,this._shimState=!1)),this.dragCurrent=null,this.dragOvers={}},handleMouseMove:function(e){var t=this.dragCurrent;if(t){if(YAHOO.util.Event.isIE&&!e.button)return this.stopEvent(e),this.handleMouseUp(e);if(e.clientX<0||e.clientY<0,!this.dragThreshMet){var i=Math.abs(this.startX-YAHOO.util.Event.getPageX(e)),n=Math.abs(this.startY-YAHOO.util.Event.getPageY(e));(i>this.clickPixelThresh||n>this.clickPixelThresh)&&this.startDrag(this.startX,this.startY)}this.dragThreshMet&&(t&&t.events.b4Drag&&(t.b4Drag(e),t.fireEvent("b4DragEvent",{e:e})),t&&t.events.drag&&(t.onDrag(e),t.fireEvent("dragEvent",{e:e})),t&&this.fireEvents(e,!1)),this.stopEvent(e)}},fireEvents:function(e,t){var i=this.dragCurrent;if(i&&!i.isLocked()&&!i.dragOnly){var n=YAHOO.util.Event.getPageX(e),s=YAHOO.util.Event.getPageY(e),o=new YAHOO.util.Point(n,s),r=i.getTargetCoord(o.x,o.y),a=i.getDragEl(),l=["out","over","drop","enter"],u=new YAHOO.util.Region(r.y,r.x+a.offsetWidth,r.y+a.offsetHeight,r.x),c=[],h={},d=[],p={outEvts:[],overEvts:[],dropEvts:[],enterEvts:[]};for(var f in this.dragOvers){var m=this.dragOvers[f];this.isTypeOfDD(m)&&(this.isOverTarget(o,m,this.mode,u)||p.outEvts.push(m),c[f]=!0,delete this.dragOvers[f])}for(var g in i.groups)if("string"==typeof g)for(f in this.ids[g]){var v=this.ids[g][f];this.isTypeOfDD(v)&&v.isTarget&&!v.isLocked()&&v!=i&&this.isOverTarget(o,v,this.mode,u)&&(h[g]=!0,t?p.dropEvts.push(v):(c[v.id]?p.overEvts.push(v):p.enterEvts.push(v),this.dragOvers[v.id]=v))}this.interactionInfo={out:p.outEvts,enter:p.enterEvts,over:p.overEvts,drop:p.dropEvts,point:o,draggedRegion:u,sourceRegion:this.locationCache[i.id],validDrop:t};for(var b in h)d.push(b);for(t&&!p.dropEvts.length&&(this.interactionInfo.validDrop=!1,i.events.invalidDrop&&(i.onInvalidDrop(e),i.fireEvent("invalidDropEvent",{e:e}))),f=0;f<l.length;f++){var y=null;if(p[l[f]+"Evts"]&&(y=p[l[f]+"Evts"]),y&&y.length){var E=l[f].charAt(0).toUpperCase()+l[f].substr(1),C="onDrag"+E,w="b4Drag"+E,x="drag"+E+"Event",O="drag"+E;if(this.mode)i.events[w]&&(i[w](e,y,d),i.fireEvent(w+"Event",{event:e,info:y,group:d})),i.events[O]&&(i[C](e,y,d),i.fireEvent(x,{event:e,info:y,group:d}));else for(var T=0,_=y.length;_>T;++T)i.events[w]&&(i[w](e,y[T].id,d[0]),i.fireEvent(w+"Event",{event:e,info:y[T].id,group:d[0]})),i.events[O]&&(i[C](e,y[T].id,d[0]),i.fireEvent(x,{event:e,info:y[T].id,group:d[0]}))}}}},getBestMatch:function(e){var t=null,i=e.length;if(1==i)t=e[0];else for(var n=0;i>n;++n){var s=e[n];if(this.mode==this.INTERSECT&&s.cursorIsOver){t=s;break}(!t||!t.overlap||s.overlap&&t.overlap.getArea()<s.overlap.getArea())&&(t=s)}return t},refreshCache:function(e){var t=e||this.ids;for(var i in t)if("string"==typeof i)for(var n in this.ids[i]){var s=this.ids[i][n];if(this.isTypeOfDD(s)){var o=this.getLocation(s);o?this.locationCache[s.id]=o:delete this.locationCache[s.id]}}},verifyEl:function(e){try{if(e){var t=e.offsetParent;if(t)return!0}}catch(i){}return!1},getLocation:function(e){if(!this.isTypeOfDD(e))return null;var t,i,n,s,o,r,a,l,u,c=e.getEl();try{t=YAHOO.util.Dom.getXY(c)}catch(h){}return t?(i=t[0],n=i+c.offsetWidth,s=t[1],o=s+c.offsetHeight,r=s-e.padding[0],a=n+e.padding[1],l=o+e.padding[2],u=i-e.padding[3],new YAHOO.util.Region(r,a,l,u)):null},isOverTarget:function(e,t,i,n){var s=this.locationCache[t.id];if(s&&this.useCache||(s=this.getLocation(t),this.locationCache[t.id]=s),!s)return!1;t.cursorIsOver=s.contains(e);var o=this.dragCurrent;if(!o||!i&&!o.constrainX&&!o.constrainY)return t.cursorIsOver;if(t.overlap=null,!n){var r=o.getTargetCoord(e.x,e.y),a=o.getDragEl();n=new YAHOO.util.Region(r.y,r.x+a.offsetWidth,r.y+a.offsetHeight,r.x)}var l=n.intersect(s);return l?(t.overlap=l,i?!0:t.cursorIsOver):!1},_onUnload:function(){this.unregAll()},unregAll:function(){this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null),this._execOnAll("unreg",[]),this.ids={}},elementCache:{},getElWrapper:function(e){var t=this.elementCache[e];return t&&t.el||(t=this.elementCache[e]=new this.ElementWrapper(YAHOO.util.Dom.get(e))),t},getElement:function(e){return YAHOO.util.Dom.get(e)},getCss:function(e){var t=YAHOO.util.Dom.get(e);return t?t.style:null},ElementWrapper:function(e){this.el=e||null,this.id=this.el&&e.id,this.css=this.el&&e.style},getPosX:function(e){return YAHOO.util.Dom.getX(e)},getPosY:function(e){return YAHOO.util.Dom.getY(e)},swapNode:function(e,t){if(e.swapNode)e.swapNode(t);else{var i=t.parentNode,n=t.nextSibling;n==e?i.insertBefore(e,t):t==e.nextSibling?i.insertBefore(t,e):(e.parentNode.replaceChild(t,e),i.insertBefore(e,n))}},getScroll:function(){var e,t,i=document.documentElement,n=document.body;return i&&(i.scrollTop||i.scrollLeft)?(e=i.scrollTop,t=i.scrollLeft):n&&(e=n.scrollTop,t=n.scrollLeft),{top:e,left:t}},getStyle:function(e,t){return YAHOO.util.Dom.getStyle(e,t)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,t){var i=YAHOO.util.Dom.getXY(t);YAHOO.util.Dom.setXY(e,i)},getClientHeight:function(){return YAHOO.util.Dom.getViewportHeight()},getClientWidth:function(){return YAHOO.util.Dom.getViewportWidth()},numericSort:function(e,t){return e-t},_timeoutCount:0,_addListeners:function(){var e=YAHOO.util.DDM;YAHOO.util.Event&&document?e._onLoad():e._timeoutCount>2e3||(setTimeout(e._addListeners,10),document&&document.body&&(e._timeoutCount+=1))},handleWasClicked:function(e,t){if(this.isHandle(t,e.id))return!0;for(var i=e.parentNode;i;){if(this.isHandle(t,i.id))return!0;i=i.parentNode}return!1}}}(),YAHOO.util.DDM=YAHOO.util.DragDropMgr,YAHOO.util.DDM._addListeners()),function(){var e=YAHOO.util.Event,t=YAHOO.util.Dom;YAHOO.util.DragDrop=function(e,t,i){e&&this.init(e,t,i)},YAHOO.util.DragDrop.prototype={events:null,on:function(){this.subscribe.apply(this,arguments)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isTarget:!0,padding:null,dragOnly:!1,useShim:!1,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,deltaX:0,deltaY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,cursorIsOver:!1,overlap:null,b4StartDrag:function(){},startDrag:function(){},b4Drag:function(){},onDrag:function(){},onDragEnter:function(){},b4DragOver:function(){},onDragOver:function(){},b4DragOut:function(){},onDragOut:function(){},b4DragDrop:function(){},onDragDrop:function(){},onInvalidDrop:function(){},b4EndDrag:function(){},endDrag:function(){},b4MouseDown:function(){},onMouseDown:function(){},onMouseUp:function(){},onAvailable:function(){},getEl:function(){return this._domRef||(this._domRef=t.get(this.id)),this._domRef},getDragEl:function(){return t.get(this.dragElId)},init:function(t,i,n){this.initTarget(t,i,n),e.on(this._domRef||this.id,"mousedown",this.handleMouseDown,this,!0);for(var s in this.events)this.createEvent(s+"Event")},initTarget:function(i,n,s){this.config=s||{},this.events={},this.DDM=YAHOO.util.DDM,this.groups={},"string"!=typeof i&&(this._domRef=i,i=t.generateId(i)),this.id=i,this.addToGroup(n?n:"default"),this.handleElId=i,e.onAvailable(i,this.handleOnAvailable,this,!0),this.setDragElId(i),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig()},applyConfig:function(){if(this.events={mouseDown:!0,b4MouseDown:!0,mouseUp:!0,b4StartDrag:!0,startDrag:!0,b4EndDrag:!0,endDrag:!0,drag:!0,b4Drag:!0,invalidDrop:!0,b4DragOut:!0,dragOut:!0,dragEnter:!0,b4DragOver:!0,dragOver:!0,b4DragDrop:!0,dragDrop:!0},this.config.events)for(var e in this.config.events)this.config.events[e]===!1&&(this.events[e]=!1);this.padding=this.config.padding||[0,0,0,0],this.isTarget=this.config.isTarget!==!1,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=this.config.primaryButtonOnly!==!1,this.dragOnly=this.config.dragOnly===!0?!0:!1,this.useShim=this.config.useShim===!0?!0:!1},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(e,t,i,n){this.padding=t||0===t?i||0===i?[e,t,i,n]:[e,t,e,t]:[e,e,e,e]},setInitPosition:function(e,i){var n=this.getEl();if(!this.DDM.verifyEl(n))return n&&n.style&&"none"==n.style.display,void 0;var s=e||0,o=i||0,r=t.getXY(n);this.initPageX=r[0]-s,this.initPageY=r[1]-o,this.lastPageX=r[0],this.lastPageY=r[1],this.setStartPosition(r)},setStartPosition:function(e){var i=e||t.getXY(this.getEl());this.deltaSetXY=null,this.startPageX=i[0],this.startPageY=i[1]},addToGroup:function(e){this.groups[e]=!0,this.DDM.regDragDrop(this,e)},removeFromGroup:function(e){this.groups[e]&&delete this.groups[e],this.DDM.removeDDFromGroup(this,e)},setDragElId:function(e){this.dragElId=e},setHandleElId:function(e){"string"!=typeof e&&(e=t.generateId(e)),this.handleElId=e,this.DDM.regHandle(this.id,e)},setOuterHandleElId:function(i){"string"!=typeof i&&(i=t.generateId(i)),e.on(i,"mousedown",this.handleMouseDown,this,!0),this.setHandleElId(i),this.hasOuterHandles=!0},unreg:function(){e.removeListener(this.id,"mousedown",this.handleMouseDown),this._domRef=null,this.DDM._remove(this)},isLocked:function(){return this.DDM.isLocked()||this.locked},handleMouseDown:function(t){var i=t.which||t.button;if(!(this.primaryButtonOnly&&i>1||this.isLocked())){var n=this.b4MouseDown(t),s=!0;this.events.b4MouseDown&&(s=this.fireEvent("b4MouseDownEvent",t));var o=this.onMouseDown(t),r=!0;if(this.events.mouseDown&&(r=this.fireEvent("mouseDownEvent",t)),n!==!1&&o!==!1&&s!==!1&&r!==!1){this.DDM.refreshCache(this.groups);var a=new YAHOO.util.Point(e.getPageX(t),e.getPageY(t));(this.hasOuterHandles||this.DDM.isOverTarget(a,this))&&this.clickValidator(t)&&(this.setStartPosition(),this.DDM.handleMouseDown(t,this),this.DDM.stopEvent(t))}}},clickValidator:function(e){var t=YAHOO.util.Event.getTarget(e);return this.isValidHandleChild(t)&&(this.id==this.handleElId||this.DDM.handleWasClicked(t,this.id))},getTargetCoord:function(e,t){var i=e-this.deltaX,n=t-this.deltaY;return this.constrainX&&(i<this.minX&&(i=this.minX),i>this.maxX&&(i=this.maxX)),this.constrainY&&(n<this.minY&&(n=this.minY),n>this.maxY&&(n=this.maxY)),i=this.getTick(i,this.xTicks),n=this.getTick(n,this.yTicks),{x:i,y:n}},addInvalidHandleType:function(e){var t=e.toUpperCase();this.invalidHandleTypes[t]=t},addInvalidHandleId:function(e){"string"!=typeof e&&(e=t.generateId(e)),this.invalidHandleIds[e]=e},addInvalidHandleClass:function(e){this.invalidHandleClasses.push(e)},removeInvalidHandleType:function(e){var t=e.toUpperCase();delete this.invalidHandleTypes[t]},removeInvalidHandleId:function(e){"string"!=typeof e&&(e=t.generateId(e)),delete this.invalidHandleIds[e]},removeInvalidHandleClass:function(e){for(var t=0,i=this.invalidHandleClasses.length;i>t;++t)this.invalidHandleClasses[t]==e&&delete this.invalidHandleClasses[t]},isValidHandleChild:function(e){var i,n=!0;try{i=e.nodeName.toUpperCase()}catch(s){i=e.nodeName}n=n&&!this.invalidHandleTypes[i],n=n&&!this.invalidHandleIds[e.id];for(var o=0,r=this.invalidHandleClasses.length;n&&r>o;++o)n=!t.hasClass(e,this.invalidHandleClasses[o]);return n},setXTicks:function(e,t){this.xTicks=[],this.xTickSize=t;for(var i={},n=this.initPageX;n>=this.minX;n-=t)i[n]||(this.xTicks[this.xTicks.length]=n,i[n]=!0);
for(n=this.initPageX;n<=this.maxX;n+=t)i[n]||(this.xTicks[this.xTicks.length]=n,i[n]=!0);this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(e,t){this.yTicks=[],this.yTickSize=t;for(var i={},n=this.initPageY;n>=this.minY;n-=t)i[n]||(this.yTicks[this.yTicks.length]=n,i[n]=!0);for(n=this.initPageY;n<=this.maxY;n+=t)i[n]||(this.yTicks[this.yTicks.length]=n,i[n]=!0);this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(e,t,i){this.leftConstraint=parseInt(e,10),this.rightConstraint=parseInt(t,10),this.minX=this.initPageX-this.leftConstraint,this.maxX=this.initPageX+this.rightConstraint,i&&this.setXTicks(this.initPageX,i),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(e,t,i){this.topConstraint=parseInt(e,10),this.bottomConstraint=parseInt(t,10),this.minY=this.initPageY-this.topConstraint,this.maxY=this.initPageY+this.bottomConstraint,i&&this.setYTicks(this.initPageY,i),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var e=this.maintainOffset?this.lastPageX-this.initPageX:0,t=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(e,t)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(e,t){if(t){if(t[0]>=e)return t[0];for(var i=0,n=t.length;n>i;++i){var s=i+1;if(t[s]&&t[s]>=e){var o=e-t[i],r=t[s]-e;return r>o?t[i]:t[s]}}return t[t.length-1]}return e},toString:function(){return"DragDrop "+this.id}},YAHOO.augment(YAHOO.util.DragDrop,YAHOO.util.EventProvider)}(),YAHOO.util.DD=function(e,t,i){e&&this.init(e,t,i)},YAHOO.extend(YAHOO.util.DD,YAHOO.util.DragDrop,{scroll:!0,autoOffset:function(e,t){var i=e-this.startPageX,n=t-this.startPageY;this.setDelta(i,n)},setDelta:function(e,t){this.deltaX=e,this.deltaY=t},setDragElPos:function(e,t){var i=this.getDragEl();this.alignElWithMouse(i,e,t)},alignElWithMouse:function(e,t,i){var n=this.getTargetCoord(t,i);if(this.deltaSetXY)YAHOO.util.Dom.setStyle(e,"left",n.x+this.deltaSetXY[0]+"px"),YAHOO.util.Dom.setStyle(e,"top",n.y+this.deltaSetXY[1]+"px");else{var s=[n.x,n.y];YAHOO.util.Dom.setXY(e,s);var o=parseInt(YAHOO.util.Dom.getStyle(e,"left"),10),r=parseInt(YAHOO.util.Dom.getStyle(e,"top"),10);this.deltaSetXY=[o-n.x,r-n.y]}this.cachePosition(n.x,n.y);var a=this;setTimeout(function(){a.autoScroll.call(a,n.x,n.y,e.offsetHeight,e.offsetWidth)},0)},cachePosition:function(e,t){if(e)this.lastPageX=e,this.lastPageY=t;else{var i=YAHOO.util.Dom.getXY(this.getEl());this.lastPageX=i[0],this.lastPageY=i[1]}},autoScroll:function(e,t,i,n){if(this.scroll){var s=this.DDM.getClientHeight(),o=this.DDM.getClientWidth(),r=this.DDM.getScrollTop(),a=this.DDM.getScrollLeft(),l=i+t,u=n+e,c=s+r-t-this.deltaY,h=o+a-e-this.deltaX,d=40,p=document.all?80:30;l>s&&d>c&&window.scrollTo(a,r+p),r>t&&r>0&&d>t-r&&window.scrollTo(a,r-p),u>o&&d>h&&window.scrollTo(a+p,r),a>e&&a>0&&d>e-a&&window.scrollTo(a-p,r)}},applyConfig:function(){YAHOO.util.DD.superclass.applyConfig.call(this),this.scroll=this.config.scroll!==!1},b4MouseDown:function(e){this.setStartPosition(),this.autoOffset(YAHOO.util.Event.getPageX(e),YAHOO.util.Event.getPageY(e))},b4Drag:function(e){this.setDragElPos(YAHOO.util.Event.getPageX(e),YAHOO.util.Event.getPageY(e))},toString:function(){return"DD "+this.id}}),YAHOO.util.DDProxy=function(e,t,i){e&&(this.init(e,t,i),this.initFrame())},YAHOO.util.DDProxy.dragElId="ygddfdiv",YAHOO.extend(YAHOO.util.DDProxy,YAHOO.util.DD,{resizeFrame:!0,centerFrame:!1,createFrame:function(){var e=this,t=document.body;if(!t||!t.firstChild)return setTimeout(function(){e.createFrame()},50),void 0;var i=this.getDragEl(),n=YAHOO.util.Dom;if(!i){i=document.createElement("div"),i.id=this.dragElId;var s=i.style;s.position="absolute",s.visibility="hidden",s.cursor="move",s.border="2px solid #aaa",s.zIndex=999,s.height="25px",s.width="25px";var o=document.createElement("div");n.setStyle(o,"height","100%"),n.setStyle(o,"width","100%"),n.setStyle(o,"background-color","#ccc"),n.setStyle(o,"opacity","0"),i.appendChild(o),t.insertBefore(i,t.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){YAHOO.util.DDProxy.superclass.applyConfig.call(this),this.resizeFrame=this.config.resizeFrame!==!1,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||YAHOO.util.DDProxy.dragElId)},showFrame:function(e,t){this.getEl();var i=this.getDragEl(),n=i.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(n.width,10)/2),Math.round(parseInt(n.height,10)/2)),this.setDragElPos(e,t),YAHOO.util.Dom.setStyle(i,"visibility","visible")},_resizeProxy:function(){if(this.resizeFrame){var e=YAHOO.util.Dom,t=this.getEl(),i=this.getDragEl(),n=parseInt(e.getStyle(i,"borderTopWidth"),10),s=parseInt(e.getStyle(i,"borderRightWidth"),10),o=parseInt(e.getStyle(i,"borderBottomWidth"),10),r=parseInt(e.getStyle(i,"borderLeftWidth"),10);isNaN(n)&&(n=0),isNaN(s)&&(s=0),isNaN(o)&&(o=0),isNaN(r)&&(r=0);var a=Math.max(0,t.offsetWidth-s-r),l=Math.max(0,t.offsetHeight-n-o);e.setStyle(i,"width",a+"px"),e.setStyle(i,"height",l+"px")}},b4MouseDown:function(e){this.setStartPosition();var t=YAHOO.util.Event.getPageX(e),i=YAHOO.util.Event.getPageY(e);this.autoOffset(t,i)},b4StartDrag:function(e,t){this.showFrame(e,t)},b4EndDrag:function(){YAHOO.util.Dom.setStyle(this.getDragEl(),"visibility","hidden")},endDrag:function(){var e=YAHOO.util.Dom,t=this.getEl(),i=this.getDragEl();e.setStyle(i,"visibility",""),e.setStyle(t,"visibility","hidden"),YAHOO.util.DDM.moveToEl(t,i),e.setStyle(i,"visibility","hidden"),e.setStyle(t,"visibility","")},toString:function(){return"DDProxy "+this.id}}),YAHOO.util.DDTarget=function(e,t,i){e&&this.initTarget(e,t,i)},YAHOO.extend(YAHOO.util.DDTarget,YAHOO.util.DragDrop,{toString:function(){return"DDTarget "+this.id}}),YAHOO.register("dragdrop",YAHOO.util.DragDropMgr,{version:"2.8.1",build:"19"}),YAHOO.util.Attribute=function(e,t){t&&(this.owner=t,this.configure(e,!0))},YAHOO.util.Attribute.prototype={name:void 0,value:null,owner:null,readOnly:!1,writeOnce:!1,_initialConfig:null,_written:!1,method:null,setter:null,getter:null,validator:null,getValue:function(){var e=this.value;return this.getter&&(e=this.getter.call(this.owner,this.name,e)),e},setValue:function(e,t){var i,n=this.owner,s=this.name,o={type:s,prevValue:this.getValue(),newValue:e};return this.readOnly||this.writeOnce&&this._written?!1:this.validator&&!this.validator.call(n,e)?!1:t||(i=n.fireBeforeChangeEvent(o),i!==!1)?(this.setter&&(e=this.setter.call(n,e,this.name)),this.method&&this.method.call(n,e,this.name),this.value=e,this._written=!0,o.type=s,t||this.owner.fireChangeEvent(o),!0):!1},configure:function(e,t){e=e||{},t&&(this._written=!1),this._initialConfig=this._initialConfig||{};for(var i in e)e.hasOwnProperty(i)&&(this[i]=e[i],t&&(this._initialConfig[i]=e[i]))},resetValue:function(){return this.setValue(this._initialConfig.value)},resetConfig:function(){this.configure(this._initialConfig,!0)},refresh:function(e){this.setValue(this.value,e)}},function(){var e=YAHOO.util.Lang;YAHOO.util.AttributeProvider=function(){},YAHOO.util.AttributeProvider.prototype={_configs:null,get:function(e){this._configs=this._configs||{};var t=this._configs[e];return t&&this._configs.hasOwnProperty(e)?t.getValue():null},set:function(e,t,i){this._configs=this._configs||{};var n=this._configs[e];return n?n.setValue(t,i):!1},getAttributeKeys:function(){this._configs=this._configs;var t,i=[];for(t in this._configs)e.hasOwnProperty(this._configs,t)&&!e.isUndefined(this._configs[t])&&(i[i.length]=t);return i},setAttributes:function(t,i){for(var n in t)e.hasOwnProperty(t,n)&&this.set(n,t[n],i)},resetValue:function(e,t){return this._configs=this._configs||{},this._configs[e]?(this.set(e,this._configs[e]._initialConfig.value,t),!0):!1},refresh:function(t,i){this._configs=this._configs||{};var n=this._configs;t=(e.isString(t)?[t]:t)||this.getAttributeKeys();for(var s=0,o=t.length;o>s;++s)n.hasOwnProperty(t[s])&&this._configs[t[s]].refresh(i)},register:function(e,t){this.setAttributeConfig(e,t)},getAttributeConfig:function(t){this._configs=this._configs||{};var i=this._configs[t]||{},n={};for(t in i)e.hasOwnProperty(i,t)&&(n[t]=i[t]);return n},setAttributeConfig:function(e,t,i){this._configs=this._configs||{},t=t||{},this._configs[e]?this._configs[e].configure(t,i):(t.name=e,this._configs[e]=this.createAttribute(t))},configureAttribute:function(e,t,i){this.setAttributeConfig(e,t,i)},resetAttributeConfig:function(e){this._configs=this._configs||{},this._configs[e].resetConfig()},subscribe:function(e){this._events=this._events||{},e in this._events||(this._events[e]=this.createEvent(e)),YAHOO.util.EventProvider.prototype.subscribe.apply(this,arguments)},on:function(){this.subscribe.apply(this,arguments)},addListener:function(){this.subscribe.apply(this,arguments)},fireBeforeChangeEvent:function(e){var t="before";return t+=e.type.charAt(0).toUpperCase()+e.type.substr(1)+"Change",e.type=t,this.fireEvent(e.type,e)},fireChangeEvent:function(e){return e.type+="Change",this.fireEvent(e.type,e)},createAttribute:function(e){return new YAHOO.util.Attribute(e,this)}},YAHOO.augment(YAHOO.util.AttributeProvider,YAHOO.util.EventProvider)}(),function(){var e=YAHOO.util.Dom,t=YAHOO.util.AttributeProvider,i={mouseenter:!0,mouseleave:!0},n=function(){this.init.apply(this,arguments)};n.DOM_EVENTS={click:!0,dblclick:!0,keydown:!0,keypress:!0,keyup:!0,mousedown:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,mouseenter:!0,mouseleave:!0,focus:!0,blur:!0,submit:!0,change:!0},n.prototype={DOM_EVENTS:null,DEFAULT_HTML_SETTER:function(e,t){var i=this.get("element");return i&&(i[t]=e),e},DEFAULT_HTML_GETTER:function(e){var t,i=this.get("element");return i&&(t=i[e]),t},appendChild:function(e){return e=e.get?e.get("element"):e,this.get("element").appendChild(e)},getElementsByTagName:function(e){return this.get("element").getElementsByTagName(e)},hasChildNodes:function(){return this.get("element").hasChildNodes()},insertBefore:function(e,t){return e=e.get?e.get("element"):e,t=t&&t.get?t.get("element"):t,this.get("element").insertBefore(e,t)},removeChild:function(e){return e=e.get?e.get("element"):e,this.get("element").removeChild(e)},replaceChild:function(e,t){return e=e.get?e.get("element"):e,t=t.get?t.get("element"):t,this.get("element").replaceChild(e,t)},initAttributes:function(){},addListener:function(e,t,n,s){s=s||this;var o=YAHOO.util.Event,r=this.get("element")||this.get("id"),a=this;return i[e]&&!o._createMouseDelegate?!1:(this._events[e]||(r&&this.DOM_EVENTS[e]&&o.on(r,e,function(t,i){t.srcElement&&!t.target&&(t.target=t.srcElement),(t.toElement&&!t.relatedTarget||t.fromElement&&!t.relatedTarget)&&(t.relatedTarget=o.getRelatedTarget(t)),t.currentTarget||(t.currentTarget=r),a.fireEvent(e,t,i)},n,s),this.createEvent(e,{scope:this})),YAHOO.util.EventProvider.prototype.subscribe.apply(this,arguments))},on:function(){return this.addListener.apply(this,arguments)},subscribe:function(){return this.addListener.apply(this,arguments)},removeListener:function(){return this.unsubscribe.apply(this,arguments)},addClass:function(t){e.addClass(this.get("element"),t)},getElementsByClassName:function(t,i){return e.getElementsByClassName(t,i,this.get("element"))},hasClass:function(t){return e.hasClass(this.get("element"),t)},removeClass:function(t){return e.removeClass(this.get("element"),t)},replaceClass:function(t,i){return e.replaceClass(this.get("element"),t,i)},setStyle:function(t,i){return e.setStyle(this.get("element"),t,i)},getStyle:function(t){return e.getStyle(this.get("element"),t)},fireQueue:function(){for(var e=this._queue,t=0,i=e.length;i>t;++t)this[e[t][0]].apply(this,e[t][1])},appendTo:function(t,i){t=t.get?t.get("element"):e.get(t),this.fireEvent("beforeAppendTo",{type:"beforeAppendTo",target:t}),i=i&&i.get?i.get("element"):e.get(i);var n=this.get("element");return n?t?(n.parent!=t&&(i?t.insertBefore(n,i):t.appendChild(n)),this.fireEvent("appendTo",{type:"appendTo",target:t}),n):!1:!1},get:function(e){var i=this._configs||{},n=i.element;return!n||i[e]||YAHOO.lang.isUndefined(n.value[e])||this._setHTMLAttrConfig(e),t.prototype.get.call(this,e)},setAttributes:function(e,t){for(var i={},n=this._configOrder,s=0,o=n.length;o>s;++s)void 0!==e[n[s]]&&(i[n[s]]=!0,this.set(n[s],e[n[s]],t));for(var r in e)e.hasOwnProperty(r)&&!i[r]&&this.set(r,e[r],t)},set:function(e,i){var n=this.get("element");return n?(this._configs[e]||YAHOO.lang.isUndefined(n[e])||this._setHTMLAttrConfig(e),t.prototype.set.apply(this,arguments)):(this._queue[this._queue.length]=["set",arguments],this._configs[e]&&(this._configs[e].value=i),void 0)},setAttributeConfig:function(e){this._configOrder.push(e),t.prototype.setAttributeConfig.apply(this,arguments)},createEvent:function(e){return this._events[e]=!0,t.prototype.createEvent.apply(this,arguments)},init:function(e,t){this._initElement(e,t)},destroy:function(){var e=this.get("element");YAHOO.util.Event.purgeElement(e,!0),this.unsubscribeAll(),e&&e.parentNode&&e.parentNode.removeChild(e),this._queue=[],this._events={},this._configs={},this._configOrder=[]},_initElement:function(t,i){this._queue=this._queue||[],this._events=this._events||{},this._configs=this._configs||{},this._configOrder=[],i=i||{},i.element=i.element||t||null;var s=!1,o=n.DOM_EVENTS;this.DOM_EVENTS=this.DOM_EVENTS||{};for(var r in o)o.hasOwnProperty(r)&&(this.DOM_EVENTS[r]=o[r]);"string"==typeof i.element&&this._setHTMLAttrConfig("id",{value:i.element}),e.get(i.element)&&(s=!0,this._initHTMLElement(i),this._initContent(i)),YAHOO.util.Event.onAvailable(i.element,function(){s||this._initHTMLElement(i),this.fireEvent("available",{type:"available",target:e.get(i.element)})},this,!0),YAHOO.util.Event.onContentReady(i.element,function(){s||this._initContent(i),this.fireEvent("contentReady",{type:"contentReady",target:e.get(i.element)})},this,!0)},_initHTMLElement:function(t){this.setAttributeConfig("element",{value:e.get(t.element),readOnly:!0})},_initContent:function(e){this.initAttributes(e),this.setAttributes(e,!0),this.fireQueue()},_setHTMLAttrConfig:function(e,t){var i=this.get("element");t=t||{},t.name=e,t.setter=t.setter||this.DEFAULT_HTML_SETTER,t.getter=t.getter||this.DEFAULT_HTML_GETTER,t.value=t.value||i[e],this._configs[e]=new YAHOO.util.Attribute(t,this)}},YAHOO.augment(n,t),YAHOO.util.Element=n}(),YAHOO.register("element",YAHOO.util.Element,{version:"2.8.1",build:"19"}),YAHOO.register("utilities",YAHOO,{version:"2.8.1",build:"19"}),function(){YAHOO.util.Config=function(e){e&&this.init(e)};var e=YAHOO.lang,t=YAHOO.util.CustomEvent,i=YAHOO.util.Config;i.CONFIG_CHANGED_EVENT="configChanged",i.BOOLEAN_TYPE="boolean",i.prototype={owner:null,queueInProgress:!1,config:null,initialConfig:null,eventQueue:null,configChangedEvent:null,init:function(e){this.owner=e,this.configChangedEvent=this.createEvent(i.CONFIG_CHANGED_EVENT),this.configChangedEvent.signature=t.LIST,this.queueInProgress=!1,this.config={},this.initialConfig={},this.eventQueue=[]},checkBoolean:function(e){return typeof e==i.BOOLEAN_TYPE},checkNumber:function(e){return!isNaN(e)},fireEvent:function(e,t){var i=this.config[e];i&&i.event&&i.event.fire(t)},addProperty:function(e,i){e=e.toLowerCase(),this.config[e]=i,i.event=this.createEvent(e,{scope:this.owner}),i.event.signature=t.LIST,i.key=e,i.handler&&i.event.subscribe(i.handler,this.owner),this.setProperty(e,i.value,!0),i.suppressEvent||this.queueProperty(e,i.value)},getConfig:function(){var t,i,n={},s=this.config;for(t in s)e.hasOwnProperty(s,t)&&(i=s[t],i&&i.event&&(n[t]=i.value));return n},getProperty:function(e){var t=this.config[e.toLowerCase()];return t&&t.event?t.value:void 0},resetProperty:function(t){t=t.toLowerCase();var i=this.config[t];return i&&i.event?this.initialConfig[t]&&!e.isUndefined(this.initialConfig[t])?(this.setProperty(t,this.initialConfig[t]),!0):void 0:!1},setProperty:function(e,t,i){var n;return e=e.toLowerCase(),this.queueInProgress&&!i?(this.queueProperty(e,t),!0):(n=this.config[e],n&&n.event?n.validator&&!n.validator(t)?!1:(n.value=t,i||(this.fireEvent(e,t),this.configChangedEvent.fire([e,t])),!0):!1)},queueProperty:function(t,i){t=t.toLowerCase();var n,s,o,r,a,l,u,c,h,d,p,f,m,g=this.config[t],v=!1;if(g&&g.event){if(!e.isUndefined(i)&&g.validator&&!g.validator(i))return!1;for(e.isUndefined(i)?i=g.value:g.value=i,v=!1,n=this.eventQueue.length,p=0;n>p;p++)if(s=this.eventQueue[p],s&&(o=s[0],r=s[1],o==t)){this.eventQueue[p]=null,this.eventQueue.push([t,e.isUndefined(i)?r:i]),v=!0;break}if(v||e.isUndefined(i)||this.eventQueue.push([t,i]),g.supercedes)for(a=g.supercedes.length,f=0;a>f;f++)for(l=g.supercedes[f],u=this.eventQueue.length,m=0;u>m;m++)if(c=this.eventQueue[m],c&&(h=c[0],d=c[1],h==l.toLowerCase())){this.eventQueue.push([h,d]),this.eventQueue[m]=null;break}return!0}return!1},refireEvent:function(t){t=t.toLowerCase();var i=this.config[t];i&&i.event&&!e.isUndefined(i.value)&&(this.queueInProgress?this.queueProperty(t):this.fireEvent(t,i.value))},applyConfig:function(t,i){var n,s;if(i){s={};for(n in t)e.hasOwnProperty(t,n)&&(s[n.toLowerCase()]=t[n]);this.initialConfig=s}for(n in t)e.hasOwnProperty(t,n)&&this.queueProperty(n,t[n])},refresh:function(){var t;for(t in this.config)e.hasOwnProperty(this.config,t)&&this.refireEvent(t)},fireQueue:function(){var e,t,i,n,s;for(this.queueInProgress=!0,e=0;e<this.eventQueue.length;e++)t=this.eventQueue[e],t&&(i=t[0],n=t[1],s=this.config[i],s.value=n,this.eventQueue[e]=null,this.fireEvent(i,n));this.queueInProgress=!1,this.eventQueue=[]},subscribeToConfigEvent:function(e,t,n,s){var o=this.config[e.toLowerCase()];return o&&o.event?(i.alreadySubscribed(o.event,t,n)||o.event.subscribe(t,n,s),!0):!1},unsubscribeFromConfigEvent:function(e,t,i){var n=this.config[e.toLowerCase()];return n&&n.event?n.event.unsubscribe(t,i):!1},toString:function(){var e="Config";return this.owner&&(e+=" ["+this.owner.toString()+"]"),e},outputEventQueue:function(){var e,t,i="",n=this.eventQueue.length;for(t=0;n>t;t++)e=this.eventQueue[t],e&&(i+=e[0]+"="+e[1]+", ");return i},destroy:function(){var t,i,n=this.config;for(t in n)e.hasOwnProperty(n,t)&&(i=n[t],i.event.unsubscribeAll(),i.event=null);this.configChangedEvent.unsubscribeAll(),this.configChangedEvent=null,this.owner=null,this.config=null,this.initialConfig=null,this.eventQueue=null}},i.alreadySubscribed=function(e,t,i){var n,s,o=e.subscribers.length;if(o>0){s=o-1;do if(n=e.subscribers[s],n&&n.obj==i&&n.fn==t)return!0;while(s--)}return!1},YAHOO.lang.augmentProto(i,YAHOO.util.EventProvider)}(),function(){function e(){return s||(s=document.createElement("div"),s.innerHTML='<div class="'+d.CSS_HEADER+'"></div>'+'<div class="'+d.CSS_BODY+'"></div><div class="'+d.CSS_FOOTER+'"></div>',o=s.firstChild,r=o.nextSibling,a=r.nextSibling),s}function t(){return o||e(),o.cloneNode(!1)}function i(){return r||e(),r.cloneNode(!1)}function n(){return a||e(),a.cloneNode(!1)}YAHOO.widget.Module=function(e,t){e&&this.init(e,t)};var s,o,r,a,l=YAHOO.util.Dom,u=YAHOO.util.Config,c=YAHOO.util.Event,h=YAHOO.util.CustomEvent,d=YAHOO.widget.Module,p=YAHOO.env.ua,f={BEFORE_INIT:"beforeInit",INIT:"init",APPEND:"append",BEFORE_RENDER:"beforeRender",RENDER:"render",CHANGE_HEADER:"changeHeader",CHANGE_BODY:"changeBody",CHANGE_FOOTER:"changeFooter",CHANGE_CONTENT:"changeContent",DESTROY:"destroy",BEFORE_SHOW:"beforeShow",SHOW:"show",BEFORE_HIDE:"beforeHide",HIDE:"hide"},m={VISIBLE:{key:"visible",value:!0,validator:YAHOO.lang.isBoolean},EFFECT:{key:"effect",suppressEvent:!0,supercedes:["visible"]},MONITOR_RESIZE:{key:"monitorresize",value:!0},APPEND_TO_DOCUMENT_BODY:{key:"appendtodocumentbody",value:!1}};d.IMG_ROOT=null,d.IMG_ROOT_SSL=null,d.CSS_MODULE="yui-module",d.CSS_HEADER="hd",d.CSS_BODY="bd",d.CSS_FOOTER="ft",d.RESIZE_MONITOR_SECURE_URL="javascript:false;",d.RESIZE_MONITOR_BUFFER=1,d.textResizeEvent=new h("textResize"),d.forceDocumentRedraw=function(){var e=document.documentElement;e&&(e.className+=" ",e.className=YAHOO.lang.trim(e.className))},d.prototype={constructor:d,element:null,header:null,body:null,footer:null,id:null,imageRoot:d.IMG_ROOT,initEvents:function(){var e=h.LIST;this.beforeInitEvent=this.createEvent(f.BEFORE_INIT),this.beforeInitEvent.signature=e,this.initEvent=this.createEvent(f.INIT),this.initEvent.signature=e,this.appendEvent=this.createEvent(f.APPEND),this.appendEvent.signature=e,this.beforeRenderEvent=this.createEvent(f.BEFORE_RENDER),this.beforeRenderEvent.signature=e,this.renderEvent=this.createEvent(f.RENDER),this.renderEvent.signature=e,this.changeHeaderEvent=this.createEvent(f.CHANGE_HEADER),this.changeHeaderEvent.signature=e,this.changeBodyEvent=this.createEvent(f.CHANGE_BODY),this.changeBodyEvent.signature=e,this.changeFooterEvent=this.createEvent(f.CHANGE_FOOTER),this.changeFooterEvent.signature=e,this.changeContentEvent=this.createEvent(f.CHANGE_CONTENT),this.changeContentEvent.signature=e,this.destroyEvent=this.createEvent(f.DESTROY),this.destroyEvent.signature=e,this.beforeShowEvent=this.createEvent(f.BEFORE_SHOW),this.beforeShowEvent.signature=e,this.showEvent=this.createEvent(f.SHOW),this.showEvent.signature=e,this.beforeHideEvent=this.createEvent(f.BEFORE_HIDE),this.beforeHideEvent.signature=e,this.hideEvent=this.createEvent(f.HIDE),this.hideEvent.signature=e},platform:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("windows")||-1!=e.indexOf("win32")?"windows":-1!=e.indexOf("macintosh")?"mac":!1}(),browser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("opera")?"opera":-1!=e.indexOf("msie 7")?"ie7":-1!=e.indexOf("msie")?"ie":-1!=e.indexOf("safari")?"safari":-1!=e.indexOf("gecko")?"gecko":!1}(),isSecure:function(){return 0===window.location.href.toLowerCase().indexOf("https")?!0:!1}(),initDefaultConfig:function(){this.cfg.addProperty(m.VISIBLE.key,{handler:this.configVisible,value:m.VISIBLE.value,validator:m.VISIBLE.validator}),this.cfg.addProperty(m.EFFECT.key,{suppressEvent:m.EFFECT.suppressEvent,supercedes:m.EFFECT.supercedes}),this.cfg.addProperty(m.MONITOR_RESIZE.key,{handler:this.configMonitorResize,value:m.MONITOR_RESIZE.value}),this.cfg.addProperty(m.APPEND_TO_DOCUMENT_BODY.key,{value:m.APPEND_TO_DOCUMENT_BODY.value})},init:function(t,i){var n,s;if(this.initEvents(),this.beforeInitEvent.fire(d),this.cfg=new u(this),this.isSecure&&(this.imageRoot=d.IMG_ROOT_SSL),"string"==typeof t&&(n=t,t=document.getElementById(t),t||(t=e().cloneNode(!1),t.id=n)),this.id=l.generateId(t),this.element=t,s=this.element.firstChild){var o=!1,r=!1,a=!1;do 1==s.nodeType&&(!o&&l.hasClass(s,d.CSS_HEADER)?(this.header=s,o=!0):!r&&l.hasClass(s,d.CSS_BODY)?(this.body=s,r=!0):!a&&l.hasClass(s,d.CSS_FOOTER)&&(this.footer=s,a=!0));while(s=s.nextSibling)}this.initDefaultConfig(),l.addClass(this.element,d.CSS_MODULE),i&&this.cfg.applyConfig(i,!0),u.alreadySubscribed(this.renderEvent,this.cfg.fireQueue,this.cfg)||this.renderEvent.subscribe(this.cfg.fireQueue,this.cfg,!0),this.initEvent.fire(d)},initResizeMonitor:function(){var e=p.gecko&&"windows"==this.platform;if(e){var t=this;setTimeout(function(){t._initResizeMonitor()},0)}else this._initResizeMonitor()},_initResizeMonitor:function(){function e(){d.textResizeEvent.fire()}var t,i,n;if(!p.opera){i=l.get("_yuiResizeMonitor");var s=this._supportsCWResize();if(!i){i=document.createElement("iframe"),this.isSecure&&d.RESIZE_MONITOR_SECURE_URL&&p.ie&&(i.src=d.RESIZE_MONITOR_SECURE_URL),s||(n=["<html><head><script ",'type="text/javascript">',"window.onresize=function(){window.parent.","YAHOO.widget.Module.textResizeEvent.","fire();};<","/script></head>","<body></body></html>"].join(""),i.src="data:text/html;charset=utf-8,"+encodeURIComponent(n)),i.id="_yuiResizeMonitor",i.title="Text Resize Monitor",i.style.position="absolute",i.style.visibility="hidden";var o=document.body,r=o.firstChild;r?o.insertBefore(i,r):o.appendChild(i),i.style.backgroundColor="transparent",i.style.borderWidth="0",i.style.width="2em",i.style.height="2em",i.style.left="0",i.style.top=-1*(i.offsetHeight+d.RESIZE_MONITOR_BUFFER)+"px",i.style.visibility="visible",p.webkit&&(t=i.contentWindow.document,t.open(),t.close())}i&&i.contentWindow&&(d.textResizeEvent.subscribe(this.onDomResize,this,!0),d.textResizeInitialized||(s&&(c.on(i.contentWindow,"resize",e)||c.on(i,"resize",e)),d.textResizeInitialized=!0),this.resizeMonitor=i)}},_supportsCWResize:function(){var e=!0;return p.gecko&&p.gecko<=1.8&&(e=!1),e},onDomResize:function(){var e=-1*(this.resizeMonitor.offsetHeight+d.RESIZE_MONITOR_BUFFER);this.resizeMonitor.style.top=e+"px",this.resizeMonitor.style.left="0"},setHeader:function(e){var i=this.header||(this.header=t());e.nodeName?(i.innerHTML="",i.appendChild(e)):i.innerHTML=e,this._rendered&&this._renderHeader(),this.changeHeaderEvent.fire(e),this.changeContentEvent.fire()},appendToHeader:function(e){var i=this.header||(this.header=t());i.appendChild(e),this.changeHeaderEvent.fire(e),this.changeContentEvent.fire()},setBody:function(e){var t=this.body||(this.body=i());e.nodeName?(t.innerHTML="",t.appendChild(e)):t.innerHTML=e,this._rendered&&this._renderBody(),this.changeBodyEvent.fire(e),this.changeContentEvent.fire()},appendToBody:function(e){var t=this.body||(this.body=i());t.appendChild(e),this.changeBodyEvent.fire(e),this.changeContentEvent.fire()},setFooter:function(e){var t=this.footer||(this.footer=n());e.nodeName?(t.innerHTML="",t.appendChild(e)):t.innerHTML=e,this._rendered&&this._renderFooter(),this.changeFooterEvent.fire(e),this.changeContentEvent.fire()},appendToFooter:function(e){var t=this.footer||(this.footer=n());t.appendChild(e),this.changeFooterEvent.fire(e),this.changeContentEvent.fire()},render:function(e,t){function i(e){"string"==typeof e&&(e=document.getElementById(e)),e&&(n._addToParent(e,n.element),n.appendEvent.fire())}var n=this;if(this.beforeRenderEvent.fire(),t||(t=this.element),e)i(e);else if(!l.inDocument(this.element))return!1;return this._renderHeader(t),this._renderBody(t),this._renderFooter(t),this._rendered=!0,this.renderEvent.fire(),!0},_renderHeader:function(e){if(e=e||this.element,this.header&&!l.inDocument(this.header)){var t=e.firstChild;t?e.insertBefore(this.header,t):e.appendChild(this.header)}},_renderBody:function(e){e=e||this.element,this.body&&!l.inDocument(this.body)&&(this.footer&&l.isAncestor(e,this.footer)?e.insertBefore(this.body,this.footer):e.appendChild(this.body))},_renderFooter:function(e){e=e||this.element,this.footer&&!l.inDocument(this.footer)&&e.appendChild(this.footer)},destroy:function(){var e;this.element&&(c.purgeElement(this.element,!0),e=this.element.parentNode),e&&e.removeChild(this.element),this.element=null,this.header=null,this.body=null,this.footer=null,d.textResizeEvent.unsubscribe(this.onDomResize,this),this.cfg.destroy(),this.cfg=null,this.destroyEvent.fire()},show:function(){this.cfg.setProperty("visible",!0)},hide:function(){this.cfg.setProperty("visible",!1)},configVisible:function(e,t){var i=t[0];i?(this.beforeShowEvent.fire(),l.setStyle(this.element,"display","block"),this.showEvent.fire()):(this.beforeHideEvent.fire(),l.setStyle(this.element,"display","none"),this.hideEvent.fire())},configMonitorResize:function(e,t){var i=t[0];i?this.initResizeMonitor():(d.textResizeEvent.unsubscribe(this.onDomResize,this,!0),this.resizeMonitor=null)},_addToParent:function(e,t){!this.cfg.getProperty("appendtodocumentbody")&&e===document.body&&e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},toString:function(){return"Module "+this.id}},YAHOO.lang.augmentProto(d,YAHOO.util.EventProvider)}(),function(){YAHOO.widget.Overlay=function(e,t){YAHOO.widget.Overlay.superclass.constructor.call(this,e,t)};var e,t=YAHOO.lang,i=YAHOO.util.CustomEvent,n=YAHOO.widget.Module,s=YAHOO.util.Event,o=YAHOO.util.Dom,r=YAHOO.util.Config,a=YAHOO.env.ua,l=YAHOO.widget.Overlay,u="subscribe",c="unsubscribe",h="contained",d={BEFORE_MOVE:"beforeMove",MOVE:"move"},p={X:{key:"x",validator:t.isNumber,suppressEvent:!0,supercedes:["iframe"]},Y:{key:"y",validator:t.isNumber,suppressEvent:!0,supercedes:["iframe"]},XY:{key:"xy",suppressEvent:!0,supercedes:["iframe"]},CONTEXT:{key:"context",suppressEvent:!0,supercedes:["iframe"]},FIXED_CENTER:{key:"fixedcenter",value:!1,supercedes:["iframe","visible"]},WIDTH:{key:"width",suppressEvent:!0,supercedes:["context","fixedcenter","iframe"]},HEIGHT:{key:"height",suppressEvent:!0,supercedes:["context","fixedcenter","iframe"]},AUTO_FILL_HEIGHT:{key:"autofillheight",supercedes:["height"],value:"body"},ZINDEX:{key:"zindex",value:null},CONSTRAIN_TO_VIEWPORT:{key:"constraintoviewport",value:!1,validator:t.isBoolean,supercedes:["iframe","x","y","xy"]},IFRAME:{key:"iframe",value:6==a.ie?!0:!1,validator:t.isBoolean,supercedes:["zindex"]},PREVENT_CONTEXT_OVERLAP:{key:"preventcontextoverlap",value:!1,validator:t.isBoolean,supercedes:["constraintoviewport"]}};l.IFRAME_SRC="javascript:false;",l.IFRAME_OFFSET=3,l.VIEWPORT_OFFSET=10,l.TOP_LEFT="tl",l.TOP_RIGHT="tr",l.BOTTOM_LEFT="bl",l.BOTTOM_RIGHT="br",l.PREVENT_OVERLAP_X={tltr:!0,blbr:!0,brbl:!0,trtl:!0},l.PREVENT_OVERLAP_Y={trbr:!0,tlbl:!0,bltl:!0,brtr:!0},l.CSS_OVERLAY="yui-overlay",l.CSS_HIDDEN="yui-overlay-hidden",l.CSS_IFRAME="yui-overlay-iframe",l.STD_MOD_RE=/^\s*?(body|footer|header)\s*?$/i,l.windowScrollEvent=new i("windowScroll"),l.windowResizeEvent=new i("windowResize"),l.windowScrollHandler=function(e){var t=s.getTarget(e);t&&t!==window&&t!==window.document||(a.ie?(window.scrollEnd||(window.scrollEnd=-1),clearTimeout(window.scrollEnd),window.scrollEnd=setTimeout(function(){l.windowScrollEvent.fire()},1)):l.windowScrollEvent.fire())},l.windowResizeHandler=function(){a.ie?(window.resizeEnd||(window.resizeEnd=-1),clearTimeout(window.resizeEnd),window.resizeEnd=setTimeout(function(){l.windowResizeEvent.fire()},100)):l.windowResizeEvent.fire()},l._initialized=null,null===l._initialized&&(s.on(window,"scroll",l.windowScrollHandler),s.on(window,"resize",l.windowResizeHandler),l._initialized=!0),l._TRIGGER_MAP={windowScroll:l.windowScrollEvent,windowResize:l.windowResizeEvent,textResize:n.textResizeEvent},YAHOO.extend(l,n,{CONTEXT_TRIGGERS:[],init:function(e,t){l.superclass.init.call(this,e),this.beforeInitEvent.fire(l),o.addClass(this.element,l.CSS_OVERLAY),t&&this.cfg.applyConfig(t,!0),"mac"==this.platform&&a.gecko&&(r.alreadySubscribed(this.showEvent,this.showMacGeckoScrollbars,this)||this.showEvent.subscribe(this.showMacGeckoScrollbars,this,!0),r.alreadySubscribed(this.hideEvent,this.hideMacGeckoScrollbars,this)||this.hideEvent.subscribe(this.hideMacGeckoScrollbars,this,!0)),this.initEvent.fire(l)},initEvents:function(){l.superclass.initEvents.call(this);var e=i.LIST;this.beforeMoveEvent=this.createEvent(d.BEFORE_MOVE),this.beforeMoveEvent.signature=e,this.moveEvent=this.createEvent(d.MOVE),this.moveEvent.signature=e},initDefaultConfig:function(){l.superclass.initDefaultConfig.call(this);var e=this.cfg;e.addProperty(p.X.key,{handler:this.configX,validator:p.X.validator,suppressEvent:p.X.suppressEvent,supercedes:p.X.supercedes}),e.addProperty(p.Y.key,{handler:this.configY,validator:p.Y.validator,suppressEvent:p.Y.suppressEvent,supercedes:p.Y.supercedes}),e.addProperty(p.XY.key,{handler:this.configXY,suppressEvent:p.XY.suppressEvent,supercedes:p.XY.supercedes}),e.addProperty(p.CONTEXT.key,{handler:this.configContext,suppressEvent:p.CONTEXT.suppressEvent,supercedes:p.CONTEXT.supercedes}),e.addProperty(p.FIXED_CENTER.key,{handler:this.configFixedCenter,value:p.FIXED_CENTER.value,validator:p.FIXED_CENTER.validator,supercedes:p.FIXED_CENTER.supercedes}),e.addProperty(p.WIDTH.key,{handler:this.configWidth,suppressEvent:p.WIDTH.suppressEvent,supercedes:p.WIDTH.supercedes}),e.addProperty(p.HEIGHT.key,{handler:this.configHeight,suppressEvent:p.HEIGHT.suppressEvent,supercedes:p.HEIGHT.supercedes}),e.addProperty(p.AUTO_FILL_HEIGHT.key,{handler:this.configAutoFillHeight,value:p.AUTO_FILL_HEIGHT.value,validator:this._validateAutoFill,supercedes:p.AUTO_FILL_HEIGHT.supercedes}),e.addProperty(p.ZINDEX.key,{handler:this.configzIndex,value:p.ZINDEX.value}),e.addProperty(p.CONSTRAIN_TO_VIEWPORT.key,{handler:this.configConstrainToViewport,value:p.CONSTRAIN_TO_VIEWPORT.value,validator:p.CONSTRAIN_TO_VIEWPORT.validator,supercedes:p.CONSTRAIN_TO_VIEWPORT.supercedes}),e.addProperty(p.IFRAME.key,{handler:this.configIframe,value:p.IFRAME.value,validator:p.IFRAME.validator,supercedes:p.IFRAME.supercedes}),e.addProperty(p.PREVENT_CONTEXT_OVERLAP.key,{value:p.PREVENT_CONTEXT_OVERLAP.value,validator:p.PREVENT_CONTEXT_OVERLAP.validator,supercedes:p.PREVENT_CONTEXT_OVERLAP.supercedes})
},moveTo:function(e,t){this.cfg.setProperty("xy",[e,t])},hideMacGeckoScrollbars:function(){o.replaceClass(this.element,"show-scrollbars","hide-scrollbars")},showMacGeckoScrollbars:function(){o.replaceClass(this.element,"hide-scrollbars","show-scrollbars")},_setDomVisibility:function(e){o.setStyle(this.element,"visibility",e?"visible":"hidden");var t=l.CSS_HIDDEN;e?o.removeClass(this.element,t):o.addClass(this.element,t)},configVisible:function(e,t){var i,n,s,l,u,c,h,d,p,f=t[0],m=o.getStyle(this.element,"visibility"),g=this.cfg.getProperty("effect"),v=[],b="mac"==this.platform&&a.gecko,y=r.alreadySubscribed;if("inherit"==m){for(s=this.element.parentNode;9!=s.nodeType&&11!=s.nodeType&&(m=o.getStyle(s,"visibility"),"inherit"==m);)s=s.parentNode;"inherit"==m&&(m="visible")}if(g)if(g instanceof Array)for(d=g.length,l=0;d>l;l++)i=g[l],v[v.length]=i.effect(this,i.duration);else v[v.length]=g.effect(this,g.duration);if(f)if(b&&this.showMacGeckoScrollbars(),g){if(f&&("visible"!=m||""===m))for(this.beforeShowEvent.fire(),p=v.length,u=0;p>u;u++)n=v[u],0!==u||y(n.animateInCompleteEvent,this.showEvent.fire,this.showEvent)||n.animateInCompleteEvent.subscribe(this.showEvent.fire,this.showEvent,!0),n.animateIn()}else"visible"!=m||""===m?(this.beforeShowEvent.fire(),this._setDomVisibility(!0),this.cfg.refireEvent("iframe"),this.showEvent.fire()):this._setDomVisibility(!0);else if(b&&this.hideMacGeckoScrollbars(),g)if("visible"==m)for(this.beforeHideEvent.fire(),p=v.length,c=0;p>c;c++)h=v[c],0!==c||y(h.animateOutCompleteEvent,this.hideEvent.fire,this.hideEvent)||h.animateOutCompleteEvent.subscribe(this.hideEvent.fire,this.hideEvent,!0),h.animateOut();else""===m&&this._setDomVisibility(!1);else"visible"==m||""===m?(this.beforeHideEvent.fire(),this._setDomVisibility(!1),this.hideEvent.fire()):this._setDomVisibility(!1)},doCenterOnDOMEvent:function(){var e=this.cfg,t=e.getProperty("fixedcenter");e.getProperty("visible")&&t&&(t!==h||this.fitsInViewport())&&this.center()},fitsInViewport:function(){var e=l.VIEWPORT_OFFSET,t=this.element,i=t.offsetWidth,n=t.offsetHeight,s=o.getViewportWidth(),r=o.getViewportHeight();return s>i+e&&r>n+e},configFixedCenter:function(e,t){var i=t[0],n=r.alreadySubscribed,s=l.windowResizeEvent,o=l.windowScrollEvent;i?(this.center(),n(this.beforeShowEvent,this.center)||this.beforeShowEvent.subscribe(this.center),n(s,this.doCenterOnDOMEvent,this)||s.subscribe(this.doCenterOnDOMEvent,this,!0),n(o,this.doCenterOnDOMEvent,this)||o.subscribe(this.doCenterOnDOMEvent,this,!0)):(this.beforeShowEvent.unsubscribe(this.center),s.unsubscribe(this.doCenterOnDOMEvent,this),o.unsubscribe(this.doCenterOnDOMEvent,this))},configHeight:function(e,t){var i=t[0],n=this.element;o.setStyle(n,"height",i),this.cfg.refireEvent("iframe")},configAutoFillHeight:function(e,i){var s=i[0],r=this.cfg,a="autofillheight",l="height",u=r.getProperty(a),c=this._autoFillOnHeightChange;r.unsubscribeFromConfigEvent(l,c),n.textResizeEvent.unsubscribe(c),this.changeContentEvent.unsubscribe(c),u&&s!==u&&this[u]&&o.setStyle(this[u],l,""),s&&(s=t.trim(s.toLowerCase()),r.subscribeToConfigEvent(l,c,this[s],this),n.textResizeEvent.subscribe(c,this[s],this),this.changeContentEvent.subscribe(c,this[s],this),r.setProperty(a,s,!0))},configWidth:function(e,t){var i=t[0],n=this.element;o.setStyle(n,"width",i),this.cfg.refireEvent("iframe")},configzIndex:function(e,t){var i=t[0],n=this.element;i||(i=o.getStyle(n,"zIndex"),(!i||isNaN(i))&&(i=0)),(this.iframe||this.cfg.getProperty("iframe")===!0)&&0>=i&&(i=1),o.setStyle(n,"zIndex",i),this.cfg.setProperty("zIndex",i,!0),this.iframe&&this.stackIframe()},configXY:function(e,t){var i=t[0],n=i[0],s=i[1];this.cfg.setProperty("x",n),this.cfg.setProperty("y",s),this.beforeMoveEvent.fire([n,s]),n=this.cfg.getProperty("x"),s=this.cfg.getProperty("y"),this.cfg.refireEvent("iframe"),this.moveEvent.fire([n,s])},configX:function(e,t){var i=t[0],n=this.cfg.getProperty("y");this.cfg.setProperty("x",i,!0),this.cfg.setProperty("y",n,!0),this.beforeMoveEvent.fire([i,n]),i=this.cfg.getProperty("x"),n=this.cfg.getProperty("y"),o.setX(this.element,i,!0),this.cfg.setProperty("xy",[i,n],!0),this.cfg.refireEvent("iframe"),this.moveEvent.fire([i,n])},configY:function(e,t){var i=this.cfg.getProperty("x"),n=t[0];this.cfg.setProperty("x",i,!0),this.cfg.setProperty("y",n,!0),this.beforeMoveEvent.fire([i,n]),i=this.cfg.getProperty("x"),n=this.cfg.getProperty("y"),o.setY(this.element,n,!0),this.cfg.setProperty("xy",[i,n],!0),this.cfg.refireEvent("iframe"),this.moveEvent.fire([i,n])},showIframe:function(){var e,t=this.iframe;t&&(e=this.element.parentNode,e!=t.parentNode&&this._addToParent(e,t),t.style.display="block")},hideIframe:function(){this.iframe&&(this.iframe.style.display="none")},syncIframe:function(){var e,i=this.iframe,n=this.element,s=l.IFRAME_OFFSET,r=2*s;i&&(i.style.width=n.offsetWidth+r+"px",i.style.height=n.offsetHeight+r+"px",e=this.cfg.getProperty("xy"),(!t.isArray(e)||isNaN(e[0])||isNaN(e[1]))&&(this.syncPosition(),e=this.cfg.getProperty("xy")),o.setXY(i,[e[0]-s,e[1]-s]))},stackIframe:function(){if(this.iframe){var e=o.getStyle(this.element,"zIndex");YAHOO.lang.isUndefined(e)||isNaN(e)||o.setStyle(this.iframe,"zIndex",e-1)}},configIframe:function(t,i){function n(){var t,i=this.iframe,n=this.element;if(!i){e||(e=document.createElement("iframe"),this.isSecure&&(e.src=l.IFRAME_SRC),a.ie?(e.style.filter="alpha(opacity=0)",e.frameBorder=0):e.style.opacity="0",e.style.position="absolute",e.style.border="none",e.style.margin="0",e.style.padding="0",e.style.display="none",e.tabIndex=-1,e.className=l.CSS_IFRAME),i=e.cloneNode(!1),i.id=this.id+"_f",t=n.parentNode;var s=t||document.body;this._addToParent(s,i),this.iframe=i}this.showIframe(),this.syncIframe(),this.stackIframe(),this._hasIframeEventListeners||(this.showEvent.subscribe(this.showIframe),this.hideEvent.subscribe(this.hideIframe),this.changeContentEvent.subscribe(this.syncIframe),this._hasIframeEventListeners=!0)}function s(){n.call(this),this.beforeShowEvent.unsubscribe(s),this._iframeDeferred=!1}var o=i[0];o?this.cfg.getProperty("visible")?n.call(this):this._iframeDeferred||(this.beforeShowEvent.subscribe(s),this._iframeDeferred=!0):(this.hideIframe(),this._hasIframeEventListeners&&(this.showEvent.unsubscribe(this.showIframe),this.hideEvent.unsubscribe(this.hideIframe),this.changeContentEvent.unsubscribe(this.syncIframe),this._hasIframeEventListeners=!1))},_primeXYFromDOM:function(){YAHOO.lang.isUndefined(this.cfg.getProperty("xy"))&&(this.syncPosition(),this.cfg.refireEvent("xy"),this.beforeShowEvent.unsubscribe(this._primeXYFromDOM))},configConstrainToViewport:function(e,t){var i=t[0];i?(r.alreadySubscribed(this.beforeMoveEvent,this.enforceConstraints,this)||this.beforeMoveEvent.subscribe(this.enforceConstraints,this,!0),r.alreadySubscribed(this.beforeShowEvent,this._primeXYFromDOM)||this.beforeShowEvent.subscribe(this._primeXYFromDOM)):(this.beforeShowEvent.unsubscribe(this._primeXYFromDOM),this.beforeMoveEvent.unsubscribe(this.enforceConstraints,this))},configContext:function(e,t){var i,n,s,o,r,a=t[0],l=this.CONTEXT_TRIGGERS;a&&(i=a[0],n=a[1],s=a[2],o=a[3],r=a[4],l&&l.length>0&&(o=(o||[]).concat(l)),i&&("string"==typeof i&&this.cfg.setProperty("context",[document.getElementById(i),n,s,o,r],!0),n&&s&&this.align(n,s,r),this._contextTriggers&&this._processTriggers(this._contextTriggers,c,this._alignOnTrigger),o&&(this._processTriggers(o,u,this._alignOnTrigger),this._contextTriggers=o)))},_alignOnTrigger:function(){this.align()},_findTriggerCE:function(e){var t=null;return e instanceof i?t=e:l._TRIGGER_MAP[e]&&(t=l._TRIGGER_MAP[e]),t},_processTriggers:function(e,t,i){for(var n,s,o=0,r=e.length;r>o;++o)n=e[o],s=this._findTriggerCE(n),s?s[t](i,this,!0):this[t](n,i)},align:function(e,t,i){function n(t,n){var s=null,o=null;switch(e){case l.TOP_LEFT:s=n,o=t;break;case l.TOP_RIGHT:s=n-r.offsetWidth,o=t;break;case l.BOTTOM_LEFT:s=n,o=t-r.offsetHeight;break;case l.BOTTOM_RIGHT:s=n-r.offsetWidth,o=t-r.offsetHeight}null!==s&&null!==o&&(i&&(s+=i[0],o+=i[1]),c.moveTo(s,o))}var s,r,a,u=this.cfg.getProperty("context"),c=this;if(u&&(s=u[0],r=this.element,c=this,e||(e=u[1]),t||(t=u[2]),!i&&u[4]&&(i=u[4]),r&&s))switch(a=o.getRegion(s),t){case l.TOP_LEFT:n(a.top,a.left);break;case l.TOP_RIGHT:n(a.top,a.right);break;case l.BOTTOM_LEFT:n(a.bottom,a.left);break;case l.BOTTOM_RIGHT:n(a.bottom,a.right)}},enforceConstraints:function(e,t){var i=t[0],n=this.getConstrainedXY(i[0],i[1]);this.cfg.setProperty("x",n[0],!0),this.cfg.setProperty("y",n[1],!0),this.cfg.setProperty("xy",n,!0)},_getConstrainedPos:function(e,t){var i=this.element,n=l.VIEWPORT_OFFSET,s="x"==e,r=s?i.offsetWidth:i.offsetHeight,a=s?o.getViewportWidth():o.getViewportHeight(),u=s?o.getDocumentScrollLeft():o.getDocumentScrollTop(),c=s?l.PREVENT_OVERLAP_X:l.PREVENT_OVERLAP_Y,h=this.cfg.getProperty("context"),d=a>r+n,p=this.cfg.getProperty("preventcontextoverlap")&&h&&c[h[1]+h[2]],f=u+n,m=u+a-r-n,g=t;return(f>t||t>m)&&(p?g=this._preventOverlap(e,h[0],r,a,u):d?f>t?g=f:t>m&&(g=m):g=f),g},_preventOverlap:function(e,t,i,n,s){var r="x"==e,a=l.VIEWPORT_OFFSET,u=this,c=(r?o.getX(t):o.getY(t))-s,h=r?t.offsetWidth:t.offsetHeight,d=c-a,p=n-(c+h)-a,f=!1,m=function(){var t;return t=u.cfg.getProperty(e)-s>c?c-i:c+h,u.cfg.setProperty(e,t+s,!0),t},g=function(){var t,n=u.cfg.getProperty(e)-s>c?p:d;return i>n&&(f?m():(m(),f=!0,t=g())),t};return g(),this.cfg.getProperty(e)},getConstrainedX:function(e){return this._getConstrainedPos("x",e)},getConstrainedY:function(e){return this._getConstrainedPos("y",e)},getConstrainedXY:function(e,t){return[this.getConstrainedX(e),this.getConstrainedY(t)]},center:function(){var e,t,i=l.VIEWPORT_OFFSET,n=this.element.offsetWidth,s=this.element.offsetHeight,r=o.getViewportWidth(),u=o.getViewportHeight();e=r>n?r/2-n/2+o.getDocumentScrollLeft():i+o.getDocumentScrollLeft(),t=u>s?u/2-s/2+o.getDocumentScrollTop():i+o.getDocumentScrollTop(),this.cfg.setProperty("xy",[parseInt(e,10),parseInt(t,10)]),this.cfg.refireEvent("iframe"),a.webkit&&this.forceContainerRedraw()},syncPosition:function(){var e=o.getXY(this.element);this.cfg.setProperty("x",e[0],!0),this.cfg.setProperty("y",e[1],!0),this.cfg.setProperty("xy",e,!0)},onDomResize:function(e,t){var i=this;l.superclass.onDomResize.call(this,e,t),setTimeout(function(){i.syncPosition(),i.cfg.refireEvent("iframe"),i.cfg.refireEvent("context")},0)},_getComputedHeight:function(){return document.defaultView&&document.defaultView.getComputedStyle?function(e){var i=null;if(e.ownerDocument&&e.ownerDocument.defaultView){var n=e.ownerDocument.defaultView.getComputedStyle(e,"");n&&(i=parseInt(n.height,10))}return t.isNumber(i)?i:null}:function(e){var i=null;return e.style.pixelHeight&&(i=e.style.pixelHeight),t.isNumber(i)?i:null}}(),_validateAutoFillHeight:function(e){return!e||t.isString(e)&&l.STD_MOD_RE.test(e)},_autoFillOnHeightChange:function(e,t,i){var n=this.cfg.getProperty("height");(n&&"auto"!==n||0===n)&&this.fillHeight(i)},_getPreciseHeight:function(e){var t=e.offsetHeight;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=i.bottom-i.top}return t},fillHeight:function(e){if(e){for(var t,i=this.innerElement||this.element,n=[this.header,this.body,this.footer],s=0,r=0,l=0,u=!1,c=0,h=n.length;h>c;c++)t=n[c],t&&(e!==t?r+=this._getPreciseHeight(t):u=!0);u&&((a.ie||a.opera)&&o.setStyle(e,"height","0px"),s=this._getComputedHeight(i),null===s&&(o.addClass(i,"yui-override-padding"),s=i.clientHeight,o.removeClass(i,"yui-override-padding")),l=Math.max(s-r,0),o.setStyle(e,"height",l+"px"),e.offsetHeight!=l&&(l=Math.max(l-(e.offsetHeight-l),0)),o.setStyle(e,"height",l+"px"))}},bringToTop:function(){function e(e,t){var i=o.getStyle(e,"zIndex"),n=o.getStyle(t,"zIndex"),s=!i||isNaN(i)?0:parseInt(i,10),r=!n||isNaN(n)?0:parseInt(n,10);return s>r?-1:r>s?1:0}function t(e){var t=o.hasClass(e,l.CSS_OVERLAY),s=YAHOO.widget.Panel;t&&!o.isAncestor(n,e)&&(i[i.length]=s&&o.hasClass(e,s.CSS_PANEL)?e.parentNode:e)}var i=[],n=this.element;o.getElementsBy(t,"DIV",document.body),i.sort(e);var s,r=i[0];if(r&&(s=o.getStyle(r,"zIndex"),!isNaN(s))){var a=!1;if(r!=n)a=!0;else if(i.length>1){var u=o.getStyle(i[1],"zIndex");isNaN(u)||s!=u||(a=!0)}a&&this.cfg.setProperty("zindex",parseInt(s,10)+2)}},destroy:function(){this.iframe&&this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,l.windowResizeEvent.unsubscribe(this.doCenterOnDOMEvent,this),l.windowScrollEvent.unsubscribe(this.doCenterOnDOMEvent,this),n.textResizeEvent.unsubscribe(this._autoFillOnHeightChange),this._contextTriggers&&this._processTriggers(this._contextTriggers,c,this._alignOnTrigger),l.superclass.destroy.call(this)},forceContainerRedraw:function(){var e=this;o.addClass(e.element,"yui-force-redraw"),setTimeout(function(){o.removeClass(e.element,"yui-force-redraw")},0)},toString:function(){return"Overlay "+this.id}})}(),function(){YAHOO.widget.OverlayManager=function(e){this.init(e)};var e=YAHOO.widget.Overlay,t=YAHOO.util.Event,i=YAHOO.util.Dom,n=YAHOO.util.Config,s=YAHOO.util.CustomEvent,o=YAHOO.widget.OverlayManager;o.CSS_FOCUSED="focused",o.prototype={constructor:o,overlays:null,initDefaultConfig:function(){this.cfg.addProperty("overlays",{suppressEvent:!0}),this.cfg.addProperty("focusevent",{value:"mousedown"})},init:function(e){this.cfg=new n(this),this.initDefaultConfig(),e&&this.cfg.applyConfig(e,!0),this.cfg.fireQueue();var s=null;this.getActive=function(){return s},this.focus=function(e){var t=this.find(e);t&&t.focus()},this.remove=function(e){var n,o=this.find(e);if(o){s==o&&(s=null);var r=null===o.element&&null===o.cfg?!0:!1;r||(n=i.getStyle(o.element,"zIndex"),o.cfg.setProperty("zIndex",-1e3,!0)),this.overlays.sort(this.compareZIndexDesc),this.overlays=this.overlays.slice(0,this.overlays.length-1),o.hideEvent.unsubscribe(o.blur),o.destroyEvent.unsubscribe(this._onOverlayDestroy,o),o.focusEvent.unsubscribe(this._onOverlayFocusHandler,o),o.blurEvent.unsubscribe(this._onOverlayBlurHandler,o),r||(t.removeListener(o.element,this.cfg.getProperty("focusevent"),this._onOverlayElementFocus),o.cfg.setProperty("zIndex",n,!0),o.cfg.setProperty("manager",null)),o.focusEvent._managed&&(o.focusEvent=null),o.blurEvent._managed&&(o.blurEvent=null),o.focus._managed&&(o.focus=null),o.blur._managed&&(o.blur=null)}},this.blurAll=function(){var e,t=this.overlays.length;if(t>0){e=t-1;do this.overlays[e].blur();while(e--)}},this._manageBlur=function(e){var t=!1;return s==e&&(i.removeClass(s.element,o.CSS_FOCUSED),s=null,t=!0),t},this._manageFocus=function(e){var t=!1;return s!=e&&(s&&s.blur(),s=e,this.bringToTop(s),i.addClass(s.element,o.CSS_FOCUSED),t=!0),t};var r=this.cfg.getProperty("overlays");this.overlays||(this.overlays=[]),r&&(this.register(r),this.overlays.sort(this.compareZIndexDesc))},_onOverlayElementFocus:function(e){var n=t.getTarget(e),s=this.close;s&&(n==s||i.isAncestor(s,n))?this.blur():this.focus()},_onOverlayDestroy:function(e,t,i){this.remove(i)},_onOverlayFocusHandler:function(e,t,i){this._manageFocus(i)},_onOverlayBlurHandler:function(e,t,i){this._manageBlur(i)},_bindFocus:function(e){var i=this;e.focusEvent?e.focusEvent.subscribe(i._onOverlayFocusHandler,e,i):(e.focusEvent=e.createEvent("focus"),e.focusEvent.signature=s.LIST,e.focusEvent._managed=!0),e.focus||(t.on(e.element,i.cfg.getProperty("focusevent"),i._onOverlayElementFocus,null,e),e.focus=function(){i._manageFocus(this)&&(this.cfg.getProperty("visible")&&this.focusFirst&&this.focusFirst(),this.focusEvent.fire())},e.focus._managed=!0)},_bindBlur:function(e){var t=this;e.blurEvent?e.blurEvent.subscribe(t._onOverlayBlurHandler,e,t):(e.blurEvent=e.createEvent("blur"),e.blurEvent.signature=s.LIST,e.focusEvent._managed=!0),e.blur||(e.blur=function(){t._manageBlur(this)&&this.blurEvent.fire()},e.blur._managed=!0),e.hideEvent.subscribe(e.blur)},_bindDestroy:function(e){var t=this;e.destroyEvent.subscribe(t._onOverlayDestroy,e,t)},_syncZIndex:function(e){var t=i.getStyle(e.element,"zIndex");isNaN(t)?e.cfg.setProperty("zIndex",0):e.cfg.setProperty("zIndex",parseInt(t,10))},register:function(t){var i,n,s=!1;if(t instanceof e)t.cfg.addProperty("manager",{value:this}),this._bindFocus(t),this._bindBlur(t),this._bindDestroy(t),this._syncZIndex(t),this.overlays.push(t),this.bringToTop(t),s=!0;else if(t instanceof Array)for(i=0,n=t.length;n>i;i++)s=this.register(t[i])||s;return s},bringToTop:function(e){var t,n,s,o=this.find(e);if(o&&(s=this.overlays,s.sort(this.compareZIndexDesc),n=s[0])){if(t=i.getStyle(n.element,"zIndex"),!isNaN(t)){var r=!1;if(n!==o)r=!0;else if(s.length>1){var a=i.getStyle(s[1].element,"zIndex");isNaN(a)||t!=a||(r=!0)}r&&o.cfg.setProperty("zindex",parseInt(t,10)+2)}s.sort(this.compareZIndexDesc)}},find:function(t){var i,n,s=t instanceof e,o=this.overlays,r=o.length,a=null;if(s||"string"==typeof t)for(n=r-1;n>=0;n--)if(i=o[n],s&&i===t||i.id==t){a=i;break}return a},compareZIndexDesc:function(e,t){var i=e.cfg?e.cfg.getProperty("zIndex"):null,n=t.cfg?t.cfg.getProperty("zIndex"):null;return null===i&&null===n?0:null===i?1:null===n?-1:i>n?-1:n>i?1:0},showAll:function(){var e,t=this.overlays,i=t.length;for(e=i-1;e>=0;e--)t[e].show()},hideAll:function(){var e,t=this.overlays,i=t.length;for(e=i-1;e>=0;e--)t[e].hide()},toString:function(){return"OverlayManager"}}}(),function(){function e(e,t){var i=this.cfg,n=i.getProperty("width");n==t&&i.setProperty("width",e)}function t(){"_originalWidth"in this&&e.call(this,this._originalWidth,this._forcedWidth);var t,i,n=document.body,s=this.cfg,o=s.getProperty("width");o&&"auto"!=o||!(s.getProperty("container")!=n||s.getProperty("x")>=l.getViewportWidth()||s.getProperty("y")>=l.getViewportHeight())||(i=this.element.cloneNode(!0),i.style.visibility="hidden",i.style.top="0px",i.style.left="0px",n.appendChild(i),t=i.offsetWidth+"px",n.removeChild(i),i=null,s.setProperty("width",t),s.refireEvent("xy"),this._originalWidth=o||"",this._forcedWidth=t)}function i(e,t,i){this.render(i)}function n(){r.onDOMReady(i,this.cfg.getProperty("container"),this)}YAHOO.widget.Tooltip=function(e,t){YAHOO.widget.Tooltip.superclass.constructor.call(this,e,t)};var s,o=YAHOO.lang,r=YAHOO.util.Event,a=YAHOO.util.CustomEvent,l=YAHOO.util.Dom,u=YAHOO.widget.Tooltip,c=YAHOO.env.ua,h=c.ie&&(c.ie<=6||"BackCompat"==document.compatMode),d={PREVENT_OVERLAP:{key:"preventoverlap",value:!0,validator:o.isBoolean,supercedes:["x","y","xy"]},SHOW_DELAY:{key:"showdelay",value:200,validator:o.isNumber},AUTO_DISMISS_DELAY:{key:"autodismissdelay",value:5e3,validator:o.isNumber},HIDE_DELAY:{key:"hidedelay",value:250,validator:o.isNumber},TEXT:{key:"text",suppressEvent:!0},CONTAINER:{key:"container"},DISABLED:{key:"disabled",value:!1,suppressEvent:!0},XY_OFFSET:{key:"xyoffset",value:[0,25],suppressEvent:!0}},p={CONTEXT_MOUSE_OVER:"contextMouseOver",CONTEXT_MOUSE_OUT:"contextMouseOut",CONTEXT_TRIGGER:"contextTrigger"};u.CSS_TOOLTIP="yui-tt",YAHOO.extend(u,YAHOO.widget.Overlay,{init:function(e,i){u.superclass.init.call(this,e),this.beforeInitEvent.fire(u),l.addClass(this.element,u.CSS_TOOLTIP),i&&this.cfg.applyConfig(i,!0),this.cfg.queueProperty("visible",!1),this.cfg.queueProperty("constraintoviewport",!0),this.setBody(""),this.subscribe("changeContent",t),this.subscribe("init",n),this.subscribe("render",this.onRender),this.initEvent.fire(u)},initEvents:function(){u.superclass.initEvents.call(this);var e=a.LIST;this.contextMouseOverEvent=this.createEvent(p.CONTEXT_MOUSE_OVER),this.contextMouseOverEvent.signature=e,this.contextMouseOutEvent=this.createEvent(p.CONTEXT_MOUSE_OUT),this.contextMouseOutEvent.signature=e,this.contextTriggerEvent=this.createEvent(p.CONTEXT_TRIGGER),this.contextTriggerEvent.signature=e},initDefaultConfig:function(){u.superclass.initDefaultConfig.call(this),this.cfg.addProperty(d.PREVENT_OVERLAP.key,{value:d.PREVENT_OVERLAP.value,validator:d.PREVENT_OVERLAP.validator,supercedes:d.PREVENT_OVERLAP.supercedes}),this.cfg.addProperty(d.SHOW_DELAY.key,{handler:this.configShowDelay,value:200,validator:d.SHOW_DELAY.validator}),this.cfg.addProperty(d.AUTO_DISMISS_DELAY.key,{handler:this.configAutoDismissDelay,value:d.AUTO_DISMISS_DELAY.value,validator:d.AUTO_DISMISS_DELAY.validator}),this.cfg.addProperty(d.HIDE_DELAY.key,{handler:this.configHideDelay,value:d.HIDE_DELAY.value,validator:d.HIDE_DELAY.validator}),this.cfg.addProperty(d.TEXT.key,{handler:this.configText,suppressEvent:d.TEXT.suppressEvent}),this.cfg.addProperty(d.CONTAINER.key,{handler:this.configContainer,value:document.body}),this.cfg.addProperty(d.DISABLED.key,{handler:this.configContainer,value:d.DISABLED.value,supressEvent:d.DISABLED.suppressEvent}),this.cfg.addProperty(d.XY_OFFSET.key,{value:d.XY_OFFSET.value.concat(),supressEvent:d.XY_OFFSET.suppressEvent})},configText:function(e,t){var i=t[0];i&&this.setBody(i)},configContainer:function(e,t){var i=t[0];"string"==typeof i&&this.cfg.setProperty("container",document.getElementById(i),!0)},_removeEventListeners:function(){var e,t,i,n=this._context;if(n&&(e=n.length,e>0)){i=e-1;do t=n[i],r.removeListener(t,"mouseover",this.onContextMouseOver),r.removeListener(t,"mousemove",this.onContextMouseMove),r.removeListener(t,"mouseout",this.onContextMouseOut);while(i--)}},configContext:function(e,t){var i,n,s,o,a=t[0];if(a&&(a instanceof Array||("string"==typeof a?this.cfg.setProperty("context",[document.getElementById(a)],!0):this.cfg.setProperty("context",[a],!0),a=this.cfg.getProperty("context")),this._removeEventListeners(),this._context=a,i=this._context,i&&(n=i.length,n>0))){o=n-1;do s=i[o],r.on(s,"mouseover",this.onContextMouseOver,this),r.on(s,"mousemove",this.onContextMouseMove,this),r.on(s,"mouseout",this.onContextMouseOut,this);while(o--)}},onContextMouseMove:function(e,t){t.pageX=r.getPageX(e),t.pageY=r.getPageY(e)},onContextMouseOver:function(e,t){var i=this;i.title&&(t._tempTitle=i.title,i.title=""),t.fireEvent("contextMouseOver",i,e)===!1||t.cfg.getProperty("disabled")||(t.hideProcId&&(clearTimeout(t.hideProcId),t.hideProcId=null),r.on(i,"mousemove",t.onContextMouseMove,t),t.showProcId=t.doShow(e,i))},onContextMouseOut:function(e,t){var i=this;t._tempTitle&&(i.title=t._tempTitle,t._tempTitle=null),t.showProcId&&(clearTimeout(t.showProcId),t.showProcId=null),t.hideProcId&&(clearTimeout(t.hideProcId),t.hideProcId=null),t.fireEvent("contextMouseOut",i,e),t.hideProcId=setTimeout(function(){t.hide()},t.cfg.getProperty("hidedelay"))},doShow:function(e,t){var i=this.cfg.getProperty("xyoffset"),n=i[0],s=i[1],o=this;return c.opera&&t.tagName&&"A"==t.tagName.toUpperCase()&&(s+=12),setTimeout(function(){var e=o.cfg.getProperty("text");o._tempTitle&&(""===e||YAHOO.lang.isUndefined(e)||YAHOO.lang.isNull(e))?o.setBody(o._tempTitle):o.cfg.refireEvent("text"),o.moveTo(o.pageX+n,o.pageY+s),o.cfg.getProperty("preventoverlap")&&o.preventOverlap(o.pageX,o.pageY),r.removeListener(t,"mousemove",o.onContextMouseMove),o.contextTriggerEvent.fire(t),o.show(),o.hideProcId=o.doHide()},this.cfg.getProperty("showdelay"))},doHide:function(){var e=this;return setTimeout(function(){e.hide()},this.cfg.getProperty("autodismissdelay"))},preventOverlap:function(e,t){var i=this.element.offsetHeight,n=new YAHOO.util.Point(e,t),s=l.getRegion(this.element);s.top-=5,s.left-=5,s.right+=5,s.bottom+=5,s.contains(n)&&this.cfg.setProperty("y",t-i-5)},onRender:function(){function e(){var e=this.element,t=this.underlay;t&&(t.style.width=e.offsetWidth+6+"px",t.style.height=e.offsetHeight+1+"px")}function t(){l.addClass(this.underlay,"yui-tt-shadow-visible"),c.ie&&this.forceUnderlayRedraw()}function i(){l.removeClass(this.underlay,"yui-tt-shadow-visible")}function n(){var n,o,r,a,l=this.underlay;l||(n=this.element,o=YAHOO.widget.Module,r=c.ie,a=this,s||(s=document.createElement("div"),s.className="yui-tt-shadow"),l=s.cloneNode(!1),n.appendChild(l),this.underlay=l,this._shadow=this.underlay,t.call(this),this.subscribe("beforeShow",t),this.subscribe("hide",i),h&&(window.setTimeout(function(){e.call(a)},0),this.cfg.subscribeToConfigEvent("width",e),this.cfg.subscribeToConfigEvent("height",e),this.subscribe("changeContent",e),o.textResizeEvent.subscribe(e,this,!0),this.subscribe("destroy",function(){o.textResizeEvent.unsubscribe(e,this)})))}function o(){n.call(this),this.unsubscribe("beforeShow",o)}this.cfg.getProperty("visible")?n.call(this):this.subscribe("beforeShow",o)},forceUnderlayRedraw:function(){var e=this;l.addClass(e.underlay,"yui-force-redraw"),setTimeout(function(){l.removeClass(e.underlay,"yui-force-redraw")},0)},destroy:function(){this._removeEventListeners(),u.superclass.destroy.call(this)},toString:function(){return"Tooltip "+this.id}})}(),function(){function e(){!this.header&&this.cfg.getProperty("draggable")&&this.setHeader("&#160;")}function t(e,i,n){var s=n[0],o=n[1],r=this.cfg,a=r.getProperty("width");a==o&&r.setProperty("width",s),this.unsubscribe("hide",t,n)}function i(){var e,i,n;v&&(e=this.cfg,i=e.getProperty("width"),i&&"auto"!=i||(n=this.element.offsetWidth+"px",e.setProperty("width",n),this.subscribe("hide",t,[i||"",n])))}YAHOO.widget.Panel=function(e,t){YAHOO.widget.Panel.superclass.constructor.call(this,e,t)};var n,s,o,r=null,a=YAHOO.lang,l=YAHOO.util,u=l.Dom,c=l.Event,h=l.CustomEvent,d=YAHOO.util.KeyListener,p=l.Config,f=YAHOO.widget.Overlay,m=YAHOO.widget.Panel,g=YAHOO.env.ua,v=g.ie&&(g.ie<=6||"BackCompat"==document.compatMode),b={SHOW_MASK:"showMask",HIDE_MASK:"hideMask",DRAG:"drag"},y={CLOSE:{key:"close",value:!0,validator:a.isBoolean,supercedes:["visible"]},DRAGGABLE:{key:"draggable",value:l.DD?!0:!1,validator:a.isBoolean,supercedes:["visible"]},DRAG_ONLY:{key:"dragonly",value:!1,validator:a.isBoolean,supercedes:["draggable"]},UNDERLAY:{key:"underlay",value:"shadow",supercedes:["visible"]},MODAL:{key:"modal",value:!1,validator:a.isBoolean,supercedes:["visible","zindex"]},KEY_LISTENERS:{key:"keylisteners",suppressEvent:!0,supercedes:["visible"]},STRINGS:{key:"strings",supercedes:["close"],validator:a.isObject,value:{close:"Close"}}};m.CSS_PANEL="yui-panel",m.CSS_PANEL_CONTAINER="yui-panel-container",m.FOCUSABLE=["a","button","select","textarea","input","iframe"],YAHOO.extend(m,f,{init:function(t,i){m.superclass.init.call(this,t),this.beforeInitEvent.fire(m),u.addClass(this.element,m.CSS_PANEL),this.buildWrapper(),i&&this.cfg.applyConfig(i,!0),this.subscribe("showMask",this._addFocusHandlers),this.subscribe("hideMask",this._removeFocusHandlers),this.subscribe("beforeRender",e),this.subscribe("render",function(){this.setFirstLastFocusable(),this.subscribe("changeContent",this.setFirstLastFocusable)}),this.subscribe("show",this.focusFirst),this.initEvent.fire(m)},_onElementFocus:function(e){if(r===this){var t=c.getTarget(e),i=document.documentElement,n=t!==i&&t!==window;if(n&&t!==this.element&&t!==this.mask&&!u.isAncestor(this.element,t))try{this.firstElement?this.firstElement.focus():this._modalFocus?this._modalFocus.focus():this.innerElement.focus()}catch(s){try{n&&t!==document.body&&t.blur()}catch(o){}}}},_addFocusHandlers:function(){this.firstElement||(g.webkit||g.opera?this._modalFocus||this._createHiddenFocusElement():this.innerElement.tabIndex=0),this.setTabLoop(this.firstElement,this.lastElement),c.onFocus(document.documentElement,this._onElementFocus,this,!0),r=this},_createHiddenFocusElement:function(){var e=document.createElement("button");e.style.height="1px",e.style.width="1px",e.style.position="absolute",e.style.left="-10000em",e.style.opacity=0,e.tabIndex=-1,this.innerElement.appendChild(e),this._modalFocus=e},_removeFocusHandlers:function(){c.removeFocusListener(document.documentElement,this._onElementFocus,this),r==this&&(r=null)},focusFirst:function(e,t){var i=this.firstElement;if(t&&t[1]&&c.stopEvent(t[1]),i)try{i.focus()}catch(n){}},focusLast:function(e,t){var i=this.lastElement;if(t&&t[1]&&c.stopEvent(t[1]),i)try{i.focus()}catch(n){}},setTabLoop:function(e,t){var i=this.preventBackTab,n=this.preventTabOut,s=this.showEvent,o=this.hideEvent;i&&(i.disable(),s.unsubscribe(i.enable,i),o.unsubscribe(i.disable,i),i=this.preventBackTab=null),n&&(n.disable(),s.unsubscribe(n.enable,n),o.unsubscribe(n.disable,n),n=this.preventTabOut=null),e&&(this.preventBackTab=new d(e,{shift:!0,keys:9},{fn:this.focusLast,scope:this,correctScope:!0}),i=this.preventBackTab,s.subscribe(i.enable,i,!0),o.subscribe(i.disable,i,!0)),t&&(this.preventTabOut=new d(t,{shift:!1,keys:9},{fn:this.focusFirst,scope:this,correctScope:!0}),n=this.preventTabOut,s.subscribe(n.enable,n,!0),o.subscribe(n.disable,n,!0))},getFocusableElements:function(e){function t(e){return e.focus&&"hidden"!==e.type&&!e.disabled&&i[e.tagName.toLowerCase()]?!0:!1}e=e||this.innerElement;for(var i={},n=0;n<m.FOCUSABLE.length;n++)i[m.FOCUSABLE[n]]=!0;return u.getElementsBy(t,null,e)},setFirstLastFocusable:function(){this.firstElement=null,this.lastElement=null;var e=this.getFocusableElements();this.focusableElements=e,e.length>0&&(this.firstElement=e[0],this.lastElement=e[e.length-1]),this.cfg.getProperty("modal")&&this.setTabLoop(this.firstElement,this.lastElement)},initEvents:function(){m.superclass.initEvents.call(this);var e=h.LIST;this.showMaskEvent=this.createEvent(b.SHOW_MASK),this.showMaskEvent.signature=e,this.hideMaskEvent=this.createEvent(b.HIDE_MASK),this.hideMaskEvent.signature=e,this.dragEvent=this.createEvent(b.DRAG),this.dragEvent.signature=e},initDefaultConfig:function(){m.superclass.initDefaultConfig.call(this),this.cfg.addProperty(y.CLOSE.key,{handler:this.configClose,value:y.CLOSE.value,validator:y.CLOSE.validator,supercedes:y.CLOSE.supercedes}),this.cfg.addProperty(y.DRAGGABLE.key,{handler:this.configDraggable,value:l.DD?!0:!1,validator:y.DRAGGABLE.validator,supercedes:y.DRAGGABLE.supercedes}),this.cfg.addProperty(y.DRAG_ONLY.key,{value:y.DRAG_ONLY.value,validator:y.DRAG_ONLY.validator,supercedes:y.DRAG_ONLY.supercedes}),this.cfg.addProperty(y.UNDERLAY.key,{handler:this.configUnderlay,value:y.UNDERLAY.value,supercedes:y.UNDERLAY.supercedes}),this.cfg.addProperty(y.MODAL.key,{handler:this.configModal,value:y.MODAL.value,validator:y.MODAL.validator,supercedes:y.MODAL.supercedes}),this.cfg.addProperty(y.KEY_LISTENERS.key,{handler:this.configKeyListeners,suppressEvent:y.KEY_LISTENERS.suppressEvent,supercedes:y.KEY_LISTENERS.supercedes}),this.cfg.addProperty(y.STRINGS.key,{value:y.STRINGS.value,handler:this.configStrings,validator:y.STRINGS.validator,supercedes:y.STRINGS.supercedes})},configClose:function(e,t){var i=t[0],n=this.close,s=this.cfg.getProperty("strings");i?n?n.style.display="block":(o||(o=document.createElement("a"),o.className="container-close",o.href="#"),n=o.cloneNode(!0),this.innerElement.appendChild(n),n.innerHTML=s&&s.close?s.close:"&#160;",c.on(n,"click",this._doClose,this,!0),this.close=n):n&&(n.style.display="none")},_doClose:function(e){c.preventDefault(e),this.hide()},configDraggable:function(e,t){var n=t[0];if(n){if(!l.DD)return this.cfg.setProperty("draggable",!1),void 0;this.header&&(u.setStyle(this.header,"cursor","move"),this.registerDragDrop()),this.subscribe("beforeShow",i)}else this.dd&&this.dd.unreg(),this.header&&u.setStyle(this.header,"cursor","auto"),this.unsubscribe("beforeShow",i)},configUnderlay:function(e,t){function i(){var e=!1;l||(s||(s=document.createElement("div"),s.className="underlay"),l=s.cloneNode(!1),this.element.appendChild(l),this.underlay=l,v&&(this.sizeUnderlay(),this.cfg.subscribeToConfigEvent("width",this.sizeUnderlay),this.cfg.subscribeToConfigEvent("height",this.sizeUnderlay),this.changeContentEvent.subscribe(this.sizeUnderlay),YAHOO.widget.Module.textResizeEvent.subscribe(this.sizeUnderlay,this,!0)),g.webkit&&g.webkit<420&&this.changeContentEvent.subscribe(this.forceUnderlayRedraw),e=!0)}function n(){var e=i.call(this);!e&&v&&this.sizeUnderlay(),this._underlayDeferred=!1,this.beforeShowEvent.unsubscribe(n)}function o(){this._underlayDeferred&&(this.beforeShowEvent.unsubscribe(n),this._underlayDeferred=!1),l&&(this.cfg.unsubscribeFromConfigEvent("width",this.sizeUnderlay),this.cfg.unsubscribeFromConfigEvent("height",this.sizeUnderlay),this.changeContentEvent.unsubscribe(this.sizeUnderlay),this.changeContentEvent.unsubscribe(this.forceUnderlayRedraw),YAHOO.widget.Module.textResizeEvent.unsubscribe(this.sizeUnderlay,this,!0),this.element.removeChild(l),this.underlay=null)
}var r="mac"==this.platform&&g.gecko,a=t[0].toLowerCase(),l=this.underlay,c=this.element;switch(a){case"shadow":u.removeClass(c,"matte"),u.addClass(c,"shadow");break;case"matte":r||o.call(this),u.removeClass(c,"shadow"),u.addClass(c,"matte");break;default:r||o.call(this),u.removeClass(c,"shadow"),u.removeClass(c,"matte")}if("shadow"==a||r&&!l)if(this.cfg.getProperty("visible")){var h=i.call(this);!h&&v&&this.sizeUnderlay()}else this._underlayDeferred||(this.beforeShowEvent.subscribe(n),this._underlayDeferred=!0)},configModal:function(e,t){var i=t[0];i?this._hasModalityEventListeners||(this.subscribe("beforeShow",this.buildMask),this.subscribe("beforeShow",this.bringToTop),this.subscribe("beforeShow",this.showMask),this.subscribe("hide",this.hideMask),f.windowResizeEvent.subscribe(this.sizeMask,this,!0),this._hasModalityEventListeners=!0):this._hasModalityEventListeners&&(this.cfg.getProperty("visible")&&(this.hideMask(),this.removeMask()),this.unsubscribe("beforeShow",this.buildMask),this.unsubscribe("beforeShow",this.bringToTop),this.unsubscribe("beforeShow",this.showMask),this.unsubscribe("hide",this.hideMask),f.windowResizeEvent.unsubscribe(this.sizeMask,this),this._hasModalityEventListeners=!1)},removeMask:function(){var e,t=this.mask;t&&(this.hideMask(),e=t.parentNode,e&&e.removeChild(t),this.mask=null)},configKeyListeners:function(e,t){var i,n,s,o=t[0];if(o)if(o instanceof Array)for(n=o.length,s=0;n>s;s++)i=o[s],p.alreadySubscribed(this.showEvent,i.enable,i)||this.showEvent.subscribe(i.enable,i,!0),p.alreadySubscribed(this.hideEvent,i.disable,i)||(this.hideEvent.subscribe(i.disable,i,!0),this.destroyEvent.subscribe(i.disable,i,!0));else p.alreadySubscribed(this.showEvent,o.enable,o)||this.showEvent.subscribe(o.enable,o,!0),p.alreadySubscribed(this.hideEvent,o.disable,o)||(this.hideEvent.subscribe(o.disable,o,!0),this.destroyEvent.subscribe(o.disable,o,!0))},configStrings:function(e,t){var i=a.merge(y.STRINGS.value,t[0]);this.cfg.setProperty(y.STRINGS.key,i,!0)},configHeight:function(e,t){var i=t[0],n=this.innerElement;u.setStyle(n,"height",i),this.cfg.refireEvent("iframe")},_autoFillOnHeightChange:function(){if(m.superclass._autoFillOnHeightChange.apply(this,arguments),v){var e=this;setTimeout(function(){e.sizeUnderlay()},0)}},configWidth:function(e,t){var i=t[0],n=this.innerElement;u.setStyle(n,"width",i),this.cfg.refireEvent("iframe")},configzIndex:function(e,t,i){if(m.superclass.configzIndex.call(this,e,t,i),this.mask||this.cfg.getProperty("modal")===!0){var n=u.getStyle(this.element,"zIndex");(!n||isNaN(n))&&(n=0),0===n?this.cfg.setProperty("zIndex",1):this.stackMask()}},buildWrapper:function(){var e=this.element.parentNode,t=this.element,i=document.createElement("div");i.className=m.CSS_PANEL_CONTAINER,i.id=t.id+"_c",e&&e.insertBefore(i,t),i.appendChild(t),this.element=i,this.innerElement=t,u.setStyle(this.innerElement,"visibility","inherit")},sizeUnderlay:function(){var e,t=this.underlay;t&&(e=this.element,t.style.width=e.offsetWidth+"px",t.style.height=e.offsetHeight+"px")},registerDragDrop:function(){var e=this;if(this.header){if(!l.DD)return;var t=this.cfg.getProperty("dragonly")===!0;this.dd=new l.DD(this.element.id,this.id,{dragOnly:t}),this.header.id||(this.header.id=this.id+"_h"),this.dd.startDrag=function(){var t,i,n,s,o,r;if(6==YAHOO.env.ua.ie&&u.addClass(e.element,"drag"),e.cfg.getProperty("constraintoviewport")){var a=f.VIEWPORT_OFFSET;t=e.element.offsetHeight,i=e.element.offsetWidth,n=u.getViewportWidth(),s=u.getViewportHeight(),o=u.getDocumentScrollLeft(),r=u.getDocumentScrollTop(),s>t+a?(this.minY=r+a,this.maxY=r+s-t-a):(this.minY=r+a,this.maxY=r+a),n>i+a?(this.minX=o+a,this.maxX=o+n-i-a):(this.minX=o+a,this.maxX=o+a),this.constrainX=!0,this.constrainY=!0}else this.constrainX=!1,this.constrainY=!1;e.dragEvent.fire("startDrag",arguments)},this.dd.onDrag=function(){e.syncPosition(),e.cfg.refireEvent("iframe"),"mac"==this.platform&&YAHOO.env.ua.gecko&&this.showMacGeckoScrollbars(),e.dragEvent.fire("onDrag",arguments)},this.dd.endDrag=function(){6==YAHOO.env.ua.ie&&u.removeClass(e.element,"drag"),e.dragEvent.fire("endDrag",arguments),e.moveEvent.fire(e.cfg.getProperty("xy"))},this.dd.setHandleElId(this.header.id),this.dd.addInvalidHandleType("INPUT"),this.dd.addInvalidHandleType("SELECT"),this.dd.addInvalidHandleType("TEXTAREA")}},buildMask:function(){var e=this.mask;e||(n||(n=document.createElement("div"),n.className="mask",n.innerHTML="&#160;"),e=n.cloneNode(!0),e.id=this.id+"_mask",document.body.insertBefore(e,document.body.firstChild),this.mask=e,YAHOO.env.ua.gecko&&"mac"==this.platform&&u.addClass(this.mask,"block-scrollbars"),this.stackMask())},hideMask:function(){this.cfg.getProperty("modal")&&this.mask&&(this.mask.style.display="none",u.removeClass(document.body,"masked"),this.hideMaskEvent.fire())},showMask:function(){this.cfg.getProperty("modal")&&this.mask&&(u.addClass(document.body,"masked"),this.sizeMask(),this.mask.style.display="block",this.showMaskEvent.fire())},sizeMask:function(){if(this.mask){var e=this.mask,t=u.getViewportWidth(),i=u.getViewportHeight();e.offsetHeight>i&&(e.style.height=i+"px"),e.offsetWidth>t&&(e.style.width=t+"px"),e.style.height=u.getDocumentHeight()+"px",e.style.width=u.getDocumentWidth()+"px"}},stackMask:function(){if(this.mask){var e=u.getStyle(this.element,"zIndex");YAHOO.lang.isUndefined(e)||isNaN(e)||u.setStyle(this.mask,"zIndex",e-1)}},render:function(e){return m.superclass.render.call(this,e,this.innerElement)},_renderHeader:function(e){e=e||this.innerElement,m.superclass._renderHeader.call(this,e)},_renderBody:function(e){e=e||this.innerElement,m.superclass._renderBody.call(this,e)},_renderFooter:function(e){e=e||this.innerElement,m.superclass._renderFooter.call(this,e)},destroy:function(){f.windowResizeEvent.unsubscribe(this.sizeMask,this),this.removeMask(),this.close&&c.purgeElement(this.close),m.superclass.destroy.call(this)},forceUnderlayRedraw:function(){var e=this.underlay;u.addClass(e,"yui-force-redraw"),setTimeout(function(){u.removeClass(e,"yui-force-redraw")},0)},toString:function(){return"Panel "+this.id}})}(),function(){function e(){var e,i,n,s=this._aButtons;if(o.isArray(s)&&(e=s.length,e>0)){n=e-1;do i=s[n],YAHOO.widget.Button&&i instanceof YAHOO.widget.Button?i.destroy():"BUTTON"==i.tagName.toUpperCase()&&(t.purgeElement(i),t.purgeElement(i,!1));while(n--)}}YAHOO.widget.Dialog=function(e,t){YAHOO.widget.Dialog.superclass.constructor.call(this,e,t)};var t=YAHOO.util.Event,i=YAHOO.util.CustomEvent,n=YAHOO.util.Dom,s=YAHOO.widget.Dialog,o=YAHOO.lang,r={BEFORE_SUBMIT:"beforeSubmit",SUBMIT:"submit",MANUAL_SUBMIT:"manualSubmit",ASYNC_SUBMIT:"asyncSubmit",FORM_SUBMIT:"formSubmit",CANCEL:"cancel"},a={POST_METHOD:{key:"postmethod",value:"async"},POST_DATA:{key:"postdata",value:null},BUTTONS:{key:"buttons",value:"none",supercedes:["visible"]},HIDEAFTERSUBMIT:{key:"hideaftersubmit",value:!0}};s.CSS_DIALOG="yui-dialog",YAHOO.extend(s,YAHOO.widget.Panel,{form:null,initDefaultConfig:function(){s.superclass.initDefaultConfig.call(this),this.callback={success:null,failure:null,argument:null},this.cfg.addProperty(a.POST_METHOD.key,{handler:this.configPostMethod,value:a.POST_METHOD.value,validator:function(e){return"form"!=e&&"async"!=e&&"none"!=e&&"manual"!=e?!1:!0}}),this.cfg.addProperty(a.POST_DATA.key,{value:a.POST_DATA.value}),this.cfg.addProperty(a.HIDEAFTERSUBMIT.key,{value:a.HIDEAFTERSUBMIT.value}),this.cfg.addProperty(a.BUTTONS.key,{handler:this.configButtons,value:a.BUTTONS.value,supercedes:a.BUTTONS.supercedes})},initEvents:function(){s.superclass.initEvents.call(this);var e=i.LIST;this.beforeSubmitEvent=this.createEvent(r.BEFORE_SUBMIT),this.beforeSubmitEvent.signature=e,this.submitEvent=this.createEvent(r.SUBMIT),this.submitEvent.signature=e,this.manualSubmitEvent=this.createEvent(r.MANUAL_SUBMIT),this.manualSubmitEvent.signature=e,this.asyncSubmitEvent=this.createEvent(r.ASYNC_SUBMIT),this.asyncSubmitEvent.signature=e,this.formSubmitEvent=this.createEvent(r.FORM_SUBMIT),this.formSubmitEvent.signature=e,this.cancelEvent=this.createEvent(r.CANCEL),this.cancelEvent.signature=e},init:function(e,t){s.superclass.init.call(this,e),this.beforeInitEvent.fire(s),n.addClass(this.element,s.CSS_DIALOG),this.cfg.setProperty("visible",!1),t&&this.cfg.applyConfig(t,!0),this.showEvent.subscribe(this.focusFirst,this,!0),this.beforeHideEvent.subscribe(this.blurButtons,this,!0),this.subscribe("changeBody",this.registerForm),this.initEvent.fire(s)},doSubmit:function(){var e,t,i,n,s=YAHOO.util.Connect,o=this.form,r=!1,a=!1;switch(this.cfg.getProperty("postmethod")){case"async":if(e=o.elements,t=e.length,t>0){i=t-1;do if("file"==e[i].type){r=!0;break}while(i--)}r&&YAHOO.env.ua.ie&&this.isSecure&&(a=!0),n=this._getFormAttributes(o),s.setForm(o,r,a);var l=this.cfg.getProperty("postdata"),u=s.asyncRequest(n.method,n.action,this.callback,l);this.asyncSubmitEvent.fire(u);break;case"form":o.submit(),this.formSubmitEvent.fire();break;case"none":case"manual":this.manualSubmitEvent.fire()}},_getFormAttributes:function(e){var t={method:null,action:null};if(e)if(e.getAttributeNode){var i=e.getAttributeNode("action"),n=e.getAttributeNode("method");i&&(t.action=i.value),n&&(t.method=n.value)}else t.action=e.getAttribute("action"),t.method=e.getAttribute("method");return t.method=(o.isString(t.method)?t.method:"POST").toUpperCase(),t.action=o.isString(t.action)?t.action:"",t},registerForm:function(){var e=this.element.getElementsByTagName("form")[0];if(this.form){if(this.form==e&&n.isAncestor(this.element,this.form))return;t.purgeElement(this.form),this.form=null}e||(e=document.createElement("form"),e.name="frm_"+this.id,this.body.appendChild(e)),e&&(this.form=e,t.on(e,"submit",this._submitHandler,this,!0))},_submitHandler:function(e){t.stopEvent(e),this.submit(),this.form.blur()},setTabLoop:function(e,t){e=e||this.firstButton,t=this.lastButton||t,s.superclass.setTabLoop.call(this,e,t)},setFirstLastFocusable:function(){s.superclass.setFirstLastFocusable.call(this);var e,t,i,n=this.focusableElements;if(this.firstFormElement=null,this.lastFormElement=null,this.form&&n&&n.length>0){for(t=n.length,e=0;t>e;++e)if(i=n[e],this.form===i.form){this.firstFormElement=i;break}for(e=t-1;e>=0;--e)if(i=n[e],this.form===i.form){this.lastFormElement=i;break}}},configClose:function(){s.superclass.configClose.apply(this,arguments)},_doClose:function(e){t.preventDefault(e),this.cancel()},configButtons:function(i,s){var r,a,l,u,c,h,d,p=YAHOO.widget.Button,f=s[0],m=this.innerElement;if(e.call(this),this._aButtons=null,o.isArray(f)){for(c=document.createElement("span"),c.className="button-group",u=f.length,this._aButtons=[],this.defaultHtmlButton=null,d=0;u>d;d++)r=f[d],p?(l=new p({label:r.text}),l.appendTo(c),a=l.get("element"),r.isDefault&&(l.addClass("default"),this.defaultHtmlButton=a),o.isFunction(r.handler)?l.set("onclick",{fn:r.handler,obj:this,scope:this}):o.isObject(r.handler)&&o.isFunction(r.handler.fn)&&l.set("onclick",{fn:r.handler.fn,obj:o.isUndefined(r.handler.obj)?this:r.handler.obj,scope:r.handler.scope||this}),this._aButtons[this._aButtons.length]=l):(a=document.createElement("button"),a.setAttribute("type","button"),r.isDefault&&(a.className="default",this.defaultHtmlButton=a),a.innerHTML=r.text,o.isFunction(r.handler)?t.on(a,"click",r.handler,this,!0):o.isObject(r.handler)&&o.isFunction(r.handler.fn)&&t.on(a,"click",r.handler.fn,o.isUndefined(r.handler.obj)?this:r.handler.obj,r.handler.scope||this),c.appendChild(a),this._aButtons[this._aButtons.length]=a),r.htmlButton=a,0===d&&(this.firstButton=a),d==u-1&&(this.lastButton=a);this.setFooter(c),h=this.footer,n.inDocument(this.element)&&!n.isAncestor(m,h)&&m.appendChild(h),this.buttonSpan=c}else c=this.buttonSpan,h=this.footer,c&&h&&(h.removeChild(c),this.buttonSpan=null,this.firstButton=null,this.lastButton=null,this.defaultHtmlButton=null);this.changeContentEvent.fire()},getButtons:function(){return this._aButtons||null},focusFirst:function(e,i){var n=this.firstFormElement;if(i&&i[1]&&t.stopEvent(i[1]),n)try{n.focus()}catch(s){}else this.defaultHtmlButton?this.focusDefaultButton():this.focusFirstButton()},focusLast:function(e,i){var n=this.cfg.getProperty("buttons"),s=this.lastFormElement;if(i&&i[1]&&t.stopEvent(i[1]),n&&o.isArray(n))this.focusLastButton();else if(s)try{s.focus()}catch(r){}},_getButton:function(e){var t=YAHOO.widget.Button;return t&&e&&e.nodeName&&e.id&&(e=t.getButton(e.id)||e),e},focusDefaultButton:function(){var e=this._getButton(this.defaultHtmlButton);if(e)try{e.focus()}catch(t){}},blurButtons:function(){var e,t,i,n,s=this.cfg.getProperty("buttons");if(s&&o.isArray(s)&&(e=s.length,e>0)){n=e-1;do if(t=s[n],t&&(i=this._getButton(t.htmlButton)))try{i.blur()}catch(r){}while(n--)}},focusFirstButton:function(){var e,t,i=this.cfg.getProperty("buttons");if(i&&o.isArray(i)&&(e=i[0],e&&(t=this._getButton(e.htmlButton))))try{t.focus()}catch(n){}},focusLastButton:function(){var e,t,i,n=this.cfg.getProperty("buttons");if(n&&o.isArray(n)&&(e=n.length,e>0&&(t=n[e-1],t&&(i=this._getButton(t.htmlButton)))))try{i.focus()}catch(s){}},configPostMethod:function(){this.registerForm()},validate:function(){return!0},submit:function(){return this.validate()?this.beforeSubmitEvent.fire()?(this.doSubmit(),this.submitEvent.fire(),this.cfg.getProperty("hideaftersubmit")&&this.hide(),!0):!1:!1},cancel:function(){this.cancelEvent.fire(),this.hide()},getData:function(){function e(e){var t=e.tagName.toUpperCase();return("INPUT"==t||"TEXTAREA"==t||"SELECT"==t)&&e.name==o}var t,i,s,o,r,a,l,u,c,h,d,p,f,m,g,v,b,y=this.form;if(y)for(t=y.elements,i=t.length,s={},v=0;i>v;v++)if(o=t[v].name,r=n.getElementsBy(e,"*",y),a=r.length,a>0)if(1==a)switch(r=r[0],l=r.type,u=r.tagName.toUpperCase()){case"INPUT":"checkbox"==l?s[o]=r.checked:"radio"!=l&&(s[o]=r.value);break;case"TEXTAREA":s[o]=r.value;break;case"SELECT":for(c=r.options,h=c.length,d=[],b=0;h>b;b++)p=c[b],p.selected&&(g=p.attributes.value,d[d.length]=g&&g.specified?p.value:p.text);s[o]=d}else switch(l=r[0].type){case"radio":for(b=0;a>b;b++)if(f=r[b],f.checked){s[o]=f.value;break}break;case"checkbox":for(d=[],b=0;a>b;b++)m=r[b],m.checked&&(d[d.length]=m.value);s[o]=d}return s},destroy:function(){e.call(this),this._aButtons=null;var i,n=this.element.getElementsByTagName("form");n.length>0&&(i=n[0],i&&(t.purgeElement(i),i.parentNode&&i.parentNode.removeChild(i),this.form=null)),s.superclass.destroy.call(this)},toString:function(){return"Dialog "+this.id}})}(),function(){YAHOO.widget.SimpleDialog=function(e,t){YAHOO.widget.SimpleDialog.superclass.constructor.call(this,e,t)};var e=YAHOO.util.Dom,t=YAHOO.widget.SimpleDialog,i={ICON:{key:"icon",value:"none",suppressEvent:!0},TEXT:{key:"text",value:"",suppressEvent:!0,supercedes:["icon"]}};t.ICON_BLOCK="blckicon",t.ICON_ALARM="alrticon",t.ICON_HELP="hlpicon",t.ICON_INFO="infoicon",t.ICON_WARN="warnicon",t.ICON_TIP="tipicon",t.ICON_CSS_CLASSNAME="yui-icon",t.CSS_SIMPLEDIALOG="yui-simple-dialog",YAHOO.extend(t,YAHOO.widget.Dialog,{initDefaultConfig:function(){t.superclass.initDefaultConfig.call(this),this.cfg.addProperty(i.ICON.key,{handler:this.configIcon,value:i.ICON.value,suppressEvent:i.ICON.suppressEvent}),this.cfg.addProperty(i.TEXT.key,{handler:this.configText,value:i.TEXT.value,suppressEvent:i.TEXT.suppressEvent,supercedes:i.TEXT.supercedes})},init:function(i,n){t.superclass.init.call(this,i),this.beforeInitEvent.fire(t),e.addClass(this.element,t.CSS_SIMPLEDIALOG),this.cfg.queueProperty("postmethod","manual"),n&&this.cfg.applyConfig(n,!0),this.beforeRenderEvent.subscribe(function(){this.body||this.setBody("")},this,!0),this.initEvent.fire(t)},registerForm:function(){t.superclass.registerForm.call(this),this.form.innerHTML+='<input type="hidden" name="'+this.id+'" value=""/>'},configIcon:function(i,n){var s,o,r,a=n[0],l=this.body,u=t.ICON_CSS_CLASSNAME;a&&"none"!=a&&(s=e.getElementsByClassName(u,"*",l),1===s.length&&(o=s[0],r=o.parentNode,r&&(r.removeChild(o),o=null)),-1==a.indexOf(".")?(o=document.createElement("span"),o.className=u+" "+a,o.innerHTML="&#160;"):(o=document.createElement("img"),o.src=this.imageRoot+a,o.className=u),o&&l.insertBefore(o,l.firstChild))},configText:function(e,t){var i=t[0];i&&(this.setBody(i),this.cfg.refireEvent("icon"))},toString:function(){return"SimpleDialog "+this.id}})}(),function(){YAHOO.widget.ContainerEffect=function(e,t,i,n,s){s||(s=YAHOO.util.Anim),this.overlay=e,this.attrIn=t,this.attrOut=i,this.targetElement=n||e.element,this.animClass=s};var e=YAHOO.util.Dom,t=YAHOO.util.CustomEvent,i=YAHOO.widget.ContainerEffect;i.FADE=function(t,n){var s=YAHOO.util.Easing,o={attributes:{opacity:{from:0,to:1}},duration:n,method:s.easeIn},r={attributes:{opacity:{to:0}},duration:n,method:s.easeOut},a=new i(t,o,r,t.element);return a.handleUnderlayStart=function(){var i=this.overlay.underlay;if(i&&YAHOO.env.ua.ie){var n=i.filters&&i.filters.length>0;n&&e.addClass(t.element,"yui-effect-fade")}},a.handleUnderlayComplete=function(){var i=this.overlay.underlay;i&&YAHOO.env.ua.ie&&e.removeClass(t.element,"yui-effect-fade")},a.handleStartAnimateIn=function(t,i,n){e.addClass(n.overlay.element,"hide-select"),n.overlay.underlay||n.overlay.cfg.refireEvent("underlay"),n.handleUnderlayStart(),n.overlay._setDomVisibility(!0),e.setStyle(n.overlay.element,"opacity",0)},a.handleCompleteAnimateIn=function(t,i,n){e.removeClass(n.overlay.element,"hide-select"),n.overlay.element.style.filter&&(n.overlay.element.style.filter=null),n.handleUnderlayComplete(),n.overlay.cfg.refireEvent("iframe"),n.animateInCompleteEvent.fire()},a.handleStartAnimateOut=function(t,i,n){e.addClass(n.overlay.element,"hide-select"),n.handleUnderlayStart()},a.handleCompleteAnimateOut=function(t,i,n){e.removeClass(n.overlay.element,"hide-select"),n.overlay.element.style.filter&&(n.overlay.element.style.filter=null),n.overlay._setDomVisibility(!1),e.setStyle(n.overlay.element,"opacity",1),n.handleUnderlayComplete(),n.overlay.cfg.refireEvent("iframe"),n.animateOutCompleteEvent.fire()},a.init(),a},i.SLIDE=function(t,n){var s=YAHOO.util.Easing,o=t.cfg.getProperty("x")||e.getX(t.element),r=t.cfg.getProperty("y")||e.getY(t.element),a=e.getClientWidth(),l=t.element.offsetWidth,u={attributes:{points:{to:[o,r]}},duration:n,method:s.easeIn},c={attributes:{points:{to:[a+25,r]}},duration:n,method:s.easeOut},h=new i(t,u,c,t.element,YAHOO.util.Motion);return h.handleStartAnimateIn=function(e,t,i){i.overlay.element.style.left=-25-l+"px",i.overlay.element.style.top=r+"px"},h.handleTweenAnimateIn=function(t,i,n){var s=e.getXY(n.overlay.element),r=s[0],a=s[1];"hidden"==e.getStyle(n.overlay.element,"visibility")&&o>r&&n.overlay._setDomVisibility(!0),n.overlay.cfg.setProperty("xy",[r,a],!0),n.overlay.cfg.refireEvent("iframe")},h.handleCompleteAnimateIn=function(e,t,i){i.overlay.cfg.setProperty("xy",[o,r],!0),i.startX=o,i.startY=r,i.overlay.cfg.refireEvent("iframe"),i.animateInCompleteEvent.fire()},h.handleStartAnimateOut=function(t,i,n){var s=e.getViewportWidth(),o=e.getXY(n.overlay.element),r=o[1];n.animOut.attributes.points.to=[s+25,r]},h.handleTweenAnimateOut=function(t,i,n){var s=e.getXY(n.overlay.element),o=s[0],r=s[1];n.overlay.cfg.setProperty("xy",[o,r],!0),n.overlay.cfg.refireEvent("iframe")},h.handleCompleteAnimateOut=function(e,t,i){i.overlay._setDomVisibility(!1),i.overlay.cfg.setProperty("xy",[o,r]),i.animateOutCompleteEvent.fire()},h.init(),h},i.prototype={init:function(){this.beforeAnimateInEvent=this.createEvent("beforeAnimateIn"),this.beforeAnimateInEvent.signature=t.LIST,this.beforeAnimateOutEvent=this.createEvent("beforeAnimateOut"),this.beforeAnimateOutEvent.signature=t.LIST,this.animateInCompleteEvent=this.createEvent("animateInComplete"),this.animateInCompleteEvent.signature=t.LIST,this.animateOutCompleteEvent=this.createEvent("animateOutComplete"),this.animateOutCompleteEvent.signature=t.LIST,this.animIn=new this.animClass(this.targetElement,this.attrIn.attributes,this.attrIn.duration,this.attrIn.method),this.animIn.onStart.subscribe(this.handleStartAnimateIn,this),this.animIn.onTween.subscribe(this.handleTweenAnimateIn,this),this.animIn.onComplete.subscribe(this.handleCompleteAnimateIn,this),this.animOut=new this.animClass(this.targetElement,this.attrOut.attributes,this.attrOut.duration,this.attrOut.method),this.animOut.onStart.subscribe(this.handleStartAnimateOut,this),this.animOut.onTween.subscribe(this.handleTweenAnimateOut,this),this.animOut.onComplete.subscribe(this.handleCompleteAnimateOut,this)},animateIn:function(){this.beforeAnimateInEvent.fire(),this.animIn.animate()},animateOut:function(){this.beforeAnimateOutEvent.fire(),this.animOut.animate()},handleStartAnimateIn:function(){},handleTweenAnimateIn:function(){},handleCompleteAnimateIn:function(){},handleStartAnimateOut:function(){},handleTweenAnimateOut:function(){},handleCompleteAnimateOut:function(){},toString:function(){var e="ContainerEffect";return this.overlay&&(e+=" ["+this.overlay.toString()+"]"),e}},YAHOO.lang.augmentProto(i,YAHOO.util.EventProvider)}(),YAHOO.register("container",YAHOO.widget.Module,{version:"2.8.1",build:"19"}),function(){function _char(e){return _CHARS[e]||(_CHARS[e]="\\u"+("0000"+(+e.charCodeAt(0)).toString(16)).slice(-4)),_CHARS[e]}function _revive(e,t){var i=function(e,n){var s,o,r=e[n];if(r&&"object"==typeof r)for(s in r)l.hasOwnProperty(r,s)&&(o=i(r,s),void 0===o?delete r[s]:r[s]=o);return t.call(e,n,r)};return"function"==typeof t?i({"":e},""):e}function _prepare(e){return e.replace(_UNICODE_EXCEPTIONS,_char)}function _isSafe(e){return l.isString(e)&&_UNSAFE.test(e.replace(_ESCAPES,"@").replace(_VALUES,"]").replace(_BRACKETS,""))}function _parse(s,reviver){if(s=_prepare(s),_isSafe(s))return _revive(eval("("+s+")"),reviver);throw new SyntaxError("JSON.parse")}function _type(e){var t=typeof e;return _allowable[t]||_allowable[_toStr.call(e)]||(t===OBJECT?e?OBJECT:NULL:UNDEFINED)}function _string(e){return QUOTE+e.replace(_SPECIAL_CHARS,_char)+QUOTE}function _indent(e,t){return e.replace(/^/gm,t)}function _stringify(e,t,i){function n(e,s){var o,r,l,h,d,p=e[s],f=_type(p),m=[],g=i?COLON_SP:COLON;switch(isObject(p)&&isFunction(p.toJSON)?p=p.toJSON(s):f===DATE&&(p=u(p)),isFunction(a)&&(p=a.call(e,s,p)),p!==e[s]&&(f=_type(p)),f){case DATE:case OBJECT:break;case STRING:return _string(p);case NUMBER:return isFinite(p)?p+EMPTY:NULL;case BOOLEAN:return p+EMPTY;case NULL:return NULL;default:return void 0}for(r=c.length-1;r>=0;--r)if(c[r]===p)throw new Error("JSON.stringify. Cyclical reference");if(o=isArray(p),c.push(p),o)for(r=p.length-1;r>=0;--r)m[r]=n(p,r)||NULL;else{l=t||p,r=0;for(h in l)l.hasOwnProperty(h)&&(d=n(p,h),d&&(m[r++]=_string(h)+g+d))}return c.pop(),i&&m.length?o?OPEN_A+CR+_indent(m.join(COMMA_CR),i)+CR+CLOSE_A:OPEN_O+CR+_indent(m.join(COMMA_CR),i)+CR+CLOSE_O:o?OPEN_A+m.join(COMMA)+CLOSE_A:OPEN_O+m.join(COMMA)+CLOSE_O}if(void 0===e)return void 0;var s,o,r,a=isFunction(t)?t:null,l=_toStr.call(i).match(/String|Number/)||[],u=YAHOO.lang.JSON.dateToString,c=[];if((a||!isArray(t))&&(t=void 0),t){for(s={},o=0,r=t.length;r>o;++o)s[t[o]]=!0;t=s}return i="Number"===l[0]?new Array(Math.min(Math.max(0,i),10)+1).join(" "):(i||EMPTY).slice(0,10),n({"":e},"")}var l=YAHOO.lang,isFunction=l.isFunction,isObject=l.isObject,isArray=l.isArray,_toStr=Object.prototype.toString,Native=(YAHOO.env.ua.caja?window:this).JSON,_UNICODE_EXCEPTIONS=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_ESCAPES=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,_VALUES=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_BRACKETS=/(?:^|:|,)(?:\s*\[)+/g,_UNSAFE=/^[\],:{}\s]*$/,_SPECIAL_CHARS=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_CHARS={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},UNDEFINED="undefined",OBJECT="object",NULL="null",STRING="string",NUMBER="number",BOOLEAN="boolean",DATE="date",_allowable={undefined:UNDEFINED,string:STRING,"[object String]":STRING,number:NUMBER,"[object Number]":NUMBER,"boolean":BOOLEAN,"[object Boolean]":BOOLEAN,"[object Date]":DATE,"[object RegExp]":OBJECT},EMPTY="",OPEN_O="{",CLOSE_O="}",OPEN_A="[",CLOSE_A="]",COMMA=",",COMMA_CR=",\n",CR="\n",COLON=":",COLON_SP=": ",QUOTE='"';Native="[object JSON]"===_toStr.call(Native)&&Native,YAHOO.lang.JSON={useNativeParse:!!Native,useNativeStringify:!!Native,isSafe:function(e){return _isSafe(_prepare(e))},parse:function(e,t){return Native&&YAHOO.lang.JSON.useNativeParse?Native.parse(e,t):_parse(e,t)},stringify:function(e,t,i){return Native&&YAHOO.lang.JSON.useNativeStringify?Native.stringify(e,t,i):_stringify(e,t,i)},dateToString:function(e){function t(e){return 10>e?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+COLON+t(e.getUTCMinutes())+COLON+t(e.getUTCSeconds())+"Z"},stringToDate:function(e){var t=e.match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{3}))?Z$/);if(t){var i=new Date;return i.setUTCFullYear(t[1],t[2]-1,t[3]),i.setUTCHours(t[4],t[5],t[6],t[7]||0),i}return e}},YAHOO.lang.JSON.isValid=YAHOO.lang.JSON.isSafe}(),YAHOO.register("json",YAHOO.lang.JSON,{version:"2.8.1",build:"19"}),document.createElement("canvas").getContext||function(){function e(){return this.context_||(this.context_=new u(this))}function t(e,t){var i=x.call(arguments,2);return function(){return e.apply(t,i.concat(x.call(arguments)))}}function i(e){var t=e.srcElement;switch(e.propertyName){case"width":t.style.width=t.attributes.width.nodeValue+"px",t.getContext().clearRect();break;case"height":t.style.height=t.attributes.height.nodeValue+"px",t.getContext().clearRect()}}function n(e){var t=e.srcElement;t.firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function s(){return[[1,0,0],[0,1,0],[0,0,1]]}function o(e,t){for(var i=s(),n=0;3>n;n++)for(var o=0;3>o;o++){for(var r=0,a=0;3>a;a++)r+=e[n][a]*t[a][o];i[n][o]=r}return i}function r(e,t){t.fillStyle=e.fillStyle,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.strokeStyle=e.strokeStyle,t.globalAlpha=e.globalAlpha,t.arcScaleX_=e.arcScaleX_,t.arcScaleY_=e.arcScaleY_,t.lineScale_=e.lineScale_}function a(e){var t,i=1;if(e=String(e),"rgb"==e.substring(0,3)){var n=e.indexOf("(",3),s=e.indexOf(")",n+1),o=e.substring(n+1,s).split(",");t="#";for(var r=0;3>r;r++)t+=T[Number(o[r])];4==o.length&&"a"==e.substr(3,1)&&(i=o[3])}else t=e;return{color:t,alpha:i}}function l(e){switch(e){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function u(e){this.m_=s(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*C,this.globalAlpha=1,this.canvas=e;var t=e.ownerDocument.createElement("div");t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",t.style.overflow="hidden",t.style.position="absolute",e.appendChild(t),this.element_=t,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function c(e,t,i,n){e.currentPath_.push({type:"bezierCurveTo",cp1x:t.x,cp1y:t.y,cp2x:i.x,cp2y:i.y,x:n.x,y:n.y}),e.currentX_=n.x,e.currentY_=n.y}function h(e){for(var t=0;3>t;t++)for(var i=0;2>i;i++)if(!isFinite(e[t][i])||isNaN(e[t][i]))return!1;return!0}function d(e,t,i){if(h(t)&&(e.m_=t,i)){var n=t[0][0]*t[1][1]-t[0][1]*t[1][0];e.lineScale_=E(y(n))}}function p(e){this.type_=e,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function f(){}var m=Math,g=m.round,v=m.sin,b=m.cos,y=m.abs,E=m.sqrt,C=10,w=C/2,x=Array.prototype.slice,O={init:function(e){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var i=e||document;i.createElement("canvas"),i.attachEvent("onreadystatechange",t(this.init_,this,i))}},init_:function(e){if(e.namespaces.g_vml_||e.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),e.namespaces.g_o_||e.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!e.styleSheets.ex_canvas_){var t=e.createStyleSheet();t.owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var i=e.getElementsByTagName("canvas"),n=0;n<i.length;n++)this.initElement(i[n])},initElement:function(t){if(!t.getContext){t.getContext=e,t.innerHTML="",t.attachEvent("onpropertychange",i),t.attachEvent("onresize",n);var s=t.attributes;s.width&&s.width.specified?t.style.width=s.width.nodeValue+"px":t.width=t.clientWidth,s.height&&s.height.specified?t.style.height=s.height.nodeValue+"px":t.height=t.clientHeight}return t}};O.init();for(var T=[],_=0;16>_;_++)for(var S=0;16>S;S++)T[16*_+S]=_.toString(16)+S.toString(16);var A=u.prototype;A.clearRect=function(){this.element_.innerHTML=""},A.beginPath=function(){this.currentPath_=[]},A.moveTo=function(e,t){var i=this.getCoords_(e,t);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},A.lineTo=function(e,t){var i=this.getCoords_(e,t);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},A.bezierCurveTo=function(e,t,i,n,s,o){var r=this.getCoords_(s,o),a=this.getCoords_(e,t),l=this.getCoords_(i,n);c(this,a,l,r)},A.quadraticCurveTo=function(e,t,i,n){var s=this.getCoords_(e,t),o=this.getCoords_(i,n),r={x:this.currentX_+2/3*(s.x-this.currentX_),y:this.currentY_+2/3*(s.y-this.currentY_)},a={x:r.x+(o.x-this.currentX_)/3,y:r.y+(o.y-this.currentY_)/3};c(this,r,a,o)},A.arc=function(e,t,i,n,s,o){i*=C;var r=o?"at":"wa",a=e+b(n)*i-w,l=t+v(n)*i-w,u=e+b(s)*i-w,c=t+v(s)*i-w;a!=u||o||(a+=.125);var h=this.getCoords_(e,t),d=this.getCoords_(a,l),p=this.getCoords_(u,c);this.currentPath_.push({type:r,x:h.x,y:h.y,radius:i,xStart:d.x,yStart:d.y,xEnd:p.x,yEnd:p.y})},A.rect=function(e,t,i,n){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+n),this.lineTo(e,t+n),this.closePath()},A.strokeRect=function(e,t,i,n){var s=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+n),this.lineTo(e,t+n),this.closePath(),this.stroke(),this.currentPath_=s},A.fillRect=function(e,t,i,n){var s=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+n),this.lineTo(e,t+n),this.closePath(),this.fill(),this.currentPath_=s},A.createLinearGradient=function(e,t,i,n){var s=new p("gradient");return s.x0_=e,s.y0_=t,s.x1_=i,s.y1_=n,s},A.createRadialGradient=function(e,t,i,n,s,o){var r=new p("gradientradial");return r.x0_=e,r.y0_=t,r.r0_=i,r.x1_=n,r.y1_=s,r.r1_=o,r},A.drawImage=function(e){var t,i,n,s,o,r,a,l,u=e.runtimeStyle.width,c=e.runtimeStyle.height;e.runtimeStyle.width="auto",e.runtimeStyle.height="auto";var h=e.width,d=e.height;if(e.runtimeStyle.width=u,e.runtimeStyle.height=c,3==arguments.length)t=arguments[1],i=arguments[2],o=r=0,a=n=h,l=s=d;else if(5==arguments.length)t=arguments[1],i=arguments[2],n=arguments[3],s=arguments[4],o=r=0,a=h,l=d;else{if(9!=arguments.length)throw Error("Invalid number of arguments");o=arguments[1],r=arguments[2],a=arguments[3],l=arguments[4],t=arguments[5],i=arguments[6],n=arguments[7],s=arguments[8]}var p=this.getCoords_(t,i),f=[],v=10,b=10;if(f.push(" <g_vml_:group",' coordsize="',C*v,",",C*b,'"',' coordorigin="0,0"',' style="width:',v,"px;height:",b,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var y=[];y.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",g(p.x/C),",","Dy=",g(p.y/C),"");var E=p,w=this.getCoords_(t+n,i),x=this.getCoords_(t,i+s),O=this.getCoords_(t+n,i+s);E.x=m.max(E.x,w.x,x.x,O.x),E.y=m.max(E.y,w.y,x.y,O.y),f.push("padding:0 ",g(E.x/C),"px ",g(E.y/C),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",y.join(""),", sizingmethod='clip');")
}else f.push("top:",g(p.y/C),"px;left:",g(p.x/C),"px;");f.push(' ">','<g_vml_:image src="',e.src,'"',' style="width:',C*n,"px;"," height:",C*s,'px;"',' cropleft="',o/h,'"',' croptop="',r/d,'"',' cropright="',(h-o-a)/h,'"',' cropbottom="',(d-r-l)/d,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",f.join(""))},A.stroke=function(e){var t=[],i=a(e?this.fillStyle:this.strokeStyle),n=i.color,s=i.alpha*this.globalAlpha,o=10,r=10;t.push("<g_vml_:shape",' filled="',!!e,'"',' style="position:absolute;width:',o,"px;height:",r,'px;"',' coordorigin="0 0" coordsize="',C*o," ",C*r,'"',' stroked="',!e,'"',' path="');for(var u={x:null,y:null},c={x:null,y:null},h=0;h<this.currentPath_.length;h++){var d,p=this.currentPath_[h];switch(p.type){case"moveTo":d=p,t.push(" m ",g(p.x),",",g(p.y));break;case"lineTo":t.push(" l ",g(p.x),",",g(p.y));break;case"close":t.push(" x "),p=null;break;case"bezierCurveTo":t.push(" c ",g(p.cp1x),",",g(p.cp1y),",",g(p.cp2x),",",g(p.cp2y),",",g(p.x),",",g(p.y));break;case"at":case"wa":t.push(" ",p.type," ",g(p.x-this.arcScaleX_*p.radius),",",g(p.y-this.arcScaleY_*p.radius)," ",g(p.x+this.arcScaleX_*p.radius),",",g(p.y+this.arcScaleY_*p.radius)," ",g(p.xStart),",",g(p.yStart)," ",g(p.xEnd),",",g(p.yEnd))}p&&((null==u.x||p.x<u.x)&&(u.x=p.x),(null==c.x||p.x>c.x)&&(c.x=p.x),(null==u.y||p.y<u.y)&&(u.y=p.y),(null==c.y||p.y>c.y)&&(c.y=p.y))}if(t.push(' ">'),e)if("object"==typeof this.fillStyle){var f=this.fillStyle,v=0,b={x:0,y:0},y=0,E=1;if("gradient"==f.type_){var w=f.x0_/this.arcScaleX_,x=f.y0_/this.arcScaleY_,O=f.x1_/this.arcScaleX_,T=f.y1_/this.arcScaleY_,_=this.getCoords_(w,x),S=this.getCoords_(O,T),A=S.x-_.x,k=S.y-_.y;v=180*Math.atan2(A,k)/Math.PI,0>v&&(v+=360),1e-6>v&&(v=0)}else{var _=this.getCoords_(f.x0_,f.y0_),D=c.x-u.x,I=c.y-u.y;b={x:(_.x-u.x)/D,y:(_.y-u.y)/I},D/=this.arcScaleX_*C,I/=this.arcScaleY_*C;var N=m.max(D,I);y=2*f.r0_/N,E=2*f.r1_/N-y}var H=f.colors_;H.sort(function(e,t){return e.offset-t.offset});for(var P=H.length,L=H[0].color,F=H[P-1].color,R=H[0].alpha*this.globalAlpha,M=H[P-1].alpha*this.globalAlpha,B=[],h=0;P>h;h++){var Y=H[h];B.push(Y.offset*E+y+" "+Y.color)}t.push('<g_vml_:fill type="',f.type_,'"',' method="none" focus="100%"',' color="',L,'"',' color2="',F,'"',' colors="',B.join(","),'"',' opacity="',M,'"',' g_o_:opacity2="',R,'"',' angle="',v,'"',' focusposition="',b.x,",",b.y,'" />')}else t.push('<g_vml_:fill color="',n,'" opacity="',s,'" />');else{var W=this.lineScale_*this.lineWidth;1>W&&(s*=W),t.push("<g_vml_:stroke",' opacity="',s,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',l(this.lineCap),'"',' weight="',W,'px"',' color="',n,'" />')}t.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",t.join(""))},A.fill=function(){this.stroke(!0)},A.closePath=function(){this.currentPath_.push({type:"close"})},A.getCoords_=function(e,t){var i=this.m_;return{x:C*(e*i[0][0]+t*i[1][0]+i[2][0])-w,y:C*(e*i[0][1]+t*i[1][1]+i[2][1])-w}},A.save=function(){var e={};r(this,e),this.aStack_.push(e),this.mStack_.push(this.m_),this.m_=o(s(),this.m_)},A.restore=function(){r(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},A.translate=function(e,t){var i=[[1,0,0],[0,1,0],[e,t,1]];d(this,o(i,this.m_),!1)},A.rotate=function(e){var t=b(e),i=v(e),n=[[t,i,0],[-i,t,0],[0,0,1]];d(this,o(n,this.m_),!1)},A.scale=function(e,t){this.arcScaleX_*=e,this.arcScaleY_*=t;var i=[[e,0,0],[0,t,0],[0,0,1]];d(this,o(i,this.m_),!0)},A.transform=function(e,t,i,n,s,r){var a=[[e,t,0],[i,n,0],[s,r,1]];d(this,o(a,this.m_),!0)},A.setTransform=function(e,t,i,n,s,o){var r=[[e,t,0],[i,n,0],[s,o,1]];d(this,r,!0)},A.clip=function(){},A.arcTo=function(){},A.createPattern=function(){return new f},p.prototype.addColorStop=function(e,t){t=a(t),this.colors_.push({offset:e,color:t.color,alpha:t.alpha})},G_vmlCanvasManager=O,CanvasRenderingContext2D=u,CanvasGradient=p,CanvasPattern=f}();var connectOptions={host:"localhost",port:48087};wbConType=1;var FILTERORDER=[];FILTERORDER[0]="Input",FILTERORDER[1]="Data Converters",FILTERORDER[3]="Analysis",FILTERORDER[2]="Tools",FILTERORDER[4]="Output",FILTERORDER[5]="Statistical Visualizations",FILTERORDER[6]="Graph Visualizations",function(){var e=this;TS=e.TS={},TS.debug=!1,TS.Utils={getUniqueId:function(){for(var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[],n=0,s=0;36>s;s++)8==s||13==s||18==s||23==s?i[s]="-":14==s?i[s]="4":(2>=n&&(n=0|33554432+16777216*Math.random()),e=15&n,n>>=4,i[s]=t[19==s?8|3&e:e]);return i.join("")},extend:function(e,t){for(var i in t)void 0!==t[i]&&(e[i]=t[i]);return e},leadingZero:function(e,t){for(var i=""+e;i.length<t;)i="0"+i;return i},formatTimestamp:function(e){if(e>0){var t=new Date(parseInt(e)),i=TS.Utils.leadingZero(t.getDate(),2),n=TS.Utils.leadingZero(t.getMonth()+1,2),s=t.getFullYear(),o=TS.Utils.leadingZero(t.getHours(),2),r=TS.Utils.leadingZero(t.getMinutes(),2),a=TS.Utils.leadingZero(t.getSeconds(),2);return i+"."+n+"."+s+" "+o+":"+r+":"+a}return"-"},log:function(e){TS.debug&&console&&console.log(e)},is:function(e,t){if("string"==e)return"string"==typeof t;if("boolean"==e)return"true"==t||"false"==t;if("byte"==e){var i=parseInt(t);return!isNaN(i)&&i>=-128&&127>=i}if("short"==e){var i=parseInt(t);return!isNaN(i)&&i>=-32768&&32767>=i}if("integer"==e){var i=parseInt(t);return!isNaN(i)&&i>=-2147483648&&2147483647>=i}if("long"==e){var i=parseInt(t);return!isNaN(i)&&i>=-0x8000000000000000&&0x8000000000000000>=i}if("float"==e||"double"==e){var i=parseFloat(t);return!isNaN(i)}return!1}},TS.Class=function(){function e(e){return function(){var t=this.__realObject__,i=t[e];return i.apply(t,arguments)}}function t(){var e;return e=function(e){this.__realObject__=e}}function i(t,i){var n,s;for(n in i)s=i[n],i.hasOwnProperty(n)&&"function"==typeof s&&(t.prototype[n]=e(n))}function n(e,t){var i,n=t.prototype;for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i])}function s(e,t,i,s){var o=function(t){var i;return"function"==typeof e&&e.apply(this,t),i=new s(this),i.constructor=o,i};n(t||{},o),n(i||{},o);var r=function(){return new o(arguments)};return s.prototype=r.prototype,r}return function(e){var n=t(),o=s(e.constructor,e["public"],e["private"],n);return i(n,e["public"]),o}}(),TS.Connector=TS.Class({constructor:function(e){if(this.location="ws://"+(e.host||"localhost")+":"+(e.port||"8080")+"/"+(e.endpoint||"ws-json"),this.ready=!1,this.ws,this.queue=[],this.json="undefined"==typeof e.json?!0:e.json,this.queueId=0,this.through="undefined"==typeof e.through?!1:e.through,this.onCallback=e.onCallback,this.onErrorCallback=e.onError,this.through){if("undefined"==typeof e.onCallback)throw new Error("No onCallback method");this.onCallback=e.onCallback}this.connect(this.location)},"private":{tryWebsocket:function(e){var t,i=this,n=0;1==this.ready?e.call():t=setInterval(function(){n++,TS.Utils.log("Wait for websocket "+i.location+" ("+n+")"),1==i.ready?(clearInterval(t),e.call()):10==n&&(clearInterval(t),TS.Utils.log("Websocket wasn't able to react after 10 tries"))},500)},connect:function(){var e=this;TS.Utils.log("Connecting to "+e.location),this.ws="undefined"==typeof WebSocket?new MozWebSocket(e.location):new WebSocket(e.location),this.ws.onopen=function(){e.onOpen()},this.ws.onmessage=function(t){1==e.through?e.onCallback(t):e.onMessage(t)},this.ws.onclose=function(t){e.onClose(t)},this.ws.onerror=function(t){e.onError(t)}},onOpen:function(){TS.Utils.log("Connection established to "+this.location),this.ready=!0},onMessage:function(e){var t;if(TS.Utils.log("Incomming Message on "+this.location+" \n"+e.data),1==this.json)if(t=JSON.parse(e.data),t.response)if("undefined"!=typeof this.queue[t.response.id]){var i=t.response.id,n=this.queue[i];delete this.queue[i],n.call(this,t)}else TS.Utils.log("Could not assign response to an request in queue \n"+e);else t.callback&&"function"==typeof this.onCallback&&this.onCallback.call(this,t.callback);else this.queue[self.queueId].call(this,t),delete this.queue[self.queueId]},onClose:function(e){TS.Utils.log("Websocket "+this.location+" was closed \n"+e),this.ready=!1,"function"==typeof this.onErrorCallback&&this.onErrorCallback.call(this,e)},onError:function(e){TS.Utils.log("Websocket "+this.location+" error \n"+e),"function"==typeof this.onErrorCallback&&this.onErrorCallback.call(this,e)}},"public":{send:function(e,t,i){var n=this;this.tryWebsocket(function(){var s,o,r={},a=i||TS.Utils.getUniqueId();if(1==n.json){for(var l in e){s=l;break}"disconnect"==s&&(n.onClose=function(){},n.onError=function(){}),r[s]={id:a},TS.Utils.extend(r[s],e[s]),n.queue[a]=t,o=JSON.stringify(r)}else n.queue[n.queueId++]=t,o=e;n.ws.send(o),TS.Utils.log("Send message \n"+o)})},disconnect:function(){this.onClose=function(){},this.onError=function(){},this.ws.close()}}}),TS.Field=TS.Class({constructor:function(e,t,i,n,s){this.fieldtype=e,this.type=t,this.value=i,this.upperBound=n,this.lowerBound=s},"public":{getValue:function(){return this.value},setValue:function(e){this.value=e},getType:function(){return this.type},getFieldtype:function(){return this.fieldtype},getLowerbound:function(){return this.lowerBound},setLowerbound:function(e){this.lowerBound=e},getUpperbound:function(){return this.upperBound},setUpperbound:function(e){this.upperBound=e},toJSON:function(){return{"class":"field",fieldtype:this.fieldtype,type:this.type,textcontent:this.value,"upper-bound":this.upperBound,"lower-bound":this.lowerBound}},fromJSON:function(e){this.fieldtype=e.fieldtype||null,this.type=e.type||null,"actual"===this.fieldtype&&(this.value="integer"===this.type?parseInt(e.textcontent):"float"===this.type||"double"===this.type?parseFloat(e.textcontent):"boolean"===this.type?"true"===e.textcontent.toLowerCase():e.textcontent),this.upperBound=e.upperBound||null,this.lowerBound=e.lowerBound||null}}}),TS.createFormalField=function(e){return"undefined"!=typeof e?new TS.Field("formal",e):!1},TS.createActualField=function(e,t){return"undefined"!=typeof e?new TS.Field("actual",e,t):!1},TS.createWildcardField=function(){return new TS.Field("wildcard")},TS.fInteger=TS.createFormalField("integer"),TS.fString=TS.createFormalField("string"),TS.fChar=TS.createFormalField("char"),TS.fFloat=TS.createFormalField("float"),TS.Tuple=TS.Class({constructor:function(e,t,i,n,s,o,r,a,l){var u=e||[];this.fields=[];for(var c=0;c<u.length;c++){var h=e[c];h instanceof TS.Field?this.fields.push(h):this.fields.push(this.createFieldFromValue(h))}this.id=t,this.creationTimestamp=i,this.lastModificationTimestamp=n,this.expiration=s,this.major=o,this.minor=r,this.version=a,this.username=l},"private":{createFieldFromValue:function(e){if("number"!=typeof e){if("string"==typeof e)return new TS.Field("actual","string",e);if("boolean"==typeof e)return new TS.Field("actual","boolean",e);throw new Error("Fields array contains a non mappable field value: "+e+"\n"+JSON.stringify(e))}if(0===e%1){if(e>2147483647||-2147483648>e)throw new Error('Integer value must be between -2147483648 and 2147483647. Your value "'+e+'" is outside the range of Java Integer. Instantiate a float field explicitly!');return new TS.Field("actual","integer",e)}return 0!==e%1?new TS.Field("actual","double",e):void 0}},"public":{addField:function(e){if(e instanceof TS.Field)return this.fields.push(e),e;var t=this.createFieldFromValue(f);return this.fields.push(t),t},getFields:function(){return this.fields},getField:function(e){return this.fields[e]},getFieldCount:function(){return this.fields.length},getTupleID:function(){return this.id},getCreationTimestamp:function(){return this.creationTimestamp},getExpiration:function(){return this.expiration},getLastModificationTimestamp:function(){return this.lastModificationTimestamp},getTemplate:function(){for(var e=[],t=0,i=this.fields.length;i>t;t++)e.push(new TS.Field("formal",this.fields[t].getType(),null));return new TS.Tuple(e)},getSignature:function(){for(var e="",t=0,i=this.fields.length;i>t;t++)e+=this.fields[t].getType();return e},setTupleID:function(e){this.id=e},setCreationTimestamp:function(e){this.creationTimestamp=e},setExpiration:function(e){this.expiration=e},setLastModificationTimestamp:function(e){this.lastModificationTimestamp=e},toJSON:function(){for(var e=[],t=0,i=this.fields.length;i>t;t++)e.push(this.fields[t].toJSON());return{"class":"tuple",id:this.id,creationTimestamp:this.creationTimestamp,lastModificationTimestamp:this.lastModificationTimestamp,expiration:this.expiration,major:this.major,minor:this.minor,version:this.version,space:this.space,username:this.username,fields:e}},fromJSON:function(e){if(this.id=e.id||null,this.creationTimestamp=e.creationTimestamp||null,this.lastModificationTimestamp=e.lastModificationTimestamp||null,this.expiration=e.expiration||null,this.major=e.major||null,this.minor=e.minor||null,this.version=e.version||null,this.username=e.username||null,e.fields&&e.fields.length)for(var t=0,i=e.fields.length;i>t;t++){var n=new TS.Field;n.fromJSON(e.fields[t]),this.addField(n)}}}}),TS.Version=TS.Class({constructor:function(e,t,i,n,s,o,r,a){this.version=e,this.major=t,this.minor=i,this.branch=n,this.name=s,this.group=o,this.lockedByUser=r,this.shared=a},"public":{getVersion:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getBranch:function(){return this.branch},getName:function(){return this.name},getGroup:function(){return this.group},toJSON:function(){return{"class":"version",version:this.version,major:this.major,minor:this.minor,branch:this.branch,name:this.name,group:this.group,lockedByUser:this.lockedByUser,shared:this.shared}},fromJSON:function(e){this.version=e.version||null,this.major=e.major||null,this.minor=e.minor||null,this.branch=e.branch||null,this.name=e.name||null,this.group=e.group||null,this.lockedByUser=e.lockedByUser||null,this.shared=e.shared||null}}}),TS.Space=TS.Class({constructor:function(e,t,i){this.name=e,this.id=t,this.version=i},"public":{getName:function(){return this.name},getID:function(){return this.id},getVersion:function(){return this.version},toJSON:function(){return{"class":"space",id:this.fieldtype,name:this.name,version:this.version}},fromJSON:function(e){this.id=e.id||null,this.name=e.name||null;var t=new TS.Version;t.fromJSON(e.version||{})}}}),TS.TupleSpace=TS.Class({constructor:function(e,t){var i=this;e=e||{},this.space=null,this.connected=!1,this.callbacks=[],this.connector=e.connector||new TS.Connector({host:e.host||"localhost",port:e.port||8080,endpoint:e.endpoint||"ws-json",onCallback:function(e){i.handleCallback(e)},onError:function(t){"function"==typeof e.onError&&e.onError.call(this,t)}}),this.connect(e.user||"sqlspaces",e.password||"sqlspaces",e.space||"defaultspace",function(){"function"==typeof t&&t.call(this)})},"private":{handleCallback:function(e){var t=e.seq;if("undefined"!=typeof this.callbacks[t]){if("undefined"!=typeof e.after.tuple){var i=new TS.Tuple;i.fromJSON(e.after.tuple),e.after.tuple=i}if("undefined"!=typeof e.before.tuple){var i=new TS.Tuple;i.fromJSON(e.before.tuple),e.before.tuple=i}this.callbacks[t].call(this,e)}},connect:function(e,t,i,n){var s=this;this.send({connect:{spaces:{space:{textcontent:i}},user:{textcontent:e},password:{textcontent:t}}},function(e){if(!e.response)throw new Error(e);var t=new TS.Tuple;t.fromJSON(e.response.tuples[0]),s.space=new TS.Space(t.getField(0).getValue(),t.getField(1).getValue(),new TS.Version(t.getField(2).getValue(),t.getField(3).getValue(),t.getField(4).getValue(),t.getField(5).getValue(),t.getField(6).getValue(),t.getField(7).getValue(),t.getField(8).getValue(),t.getField(9).getValue())),s.connected=!0,TS.Utils.log("Connected to tuple space"),"function"==typeof n&&n.call(this)})},send:function(e,t,i){this.connector.send(e,t,i||null)},query:function(e,t,i,n){var s=this;n=n||{},this.tryTupleSpace(function(){if(!(t instanceof TS.Tuple))throw new Error("Tuple must be an instance of TS.Tuple");s.send({query:{type:e,randomize:n.randomize||"true",returning:n.returning||"true",windowsize:n.windowsize||null,space:n.spaceId||s.space.getID(),tuple:t.toJSON()}},function(e){console.log(e),"function"==typeof i&&i.call(this,e)},n.id||null)})},getVersions:function(e,t){var i=this;t=t||{},this.tryTupleSpace(function(){i.send({"get-versions":{spaceid:i.space.getID(),user:t.user||"false",all:t.all||"true"}},function(t){if(t.response.tuples&&t.response.tuples.length){for(var i=[],n=0,s=t.response.tuples.length;s>n;n++){var o=new TS.Tuple;new TS.Version,o.fromJSON(t.response.tuples[n]),i.push(new TS.Version(o.getField(0).getValue(),o.getField(1).getValue(),o.getField(2).getValue(),o.getField(3).getValue(),o.getField(4).getValue(),o.getField(5).getValue(),o.getField(6).getValue(),o.getField(7).getValue()))}"function"==typeof e&&e.call(this,i)}})})},setVersion:function(e,t){var i=this;t=t||{},this.tryTupleSpace(function(){var n=i.space.getVersion();i.send({"set-version":{"old-versionsid":t["old-versionsid"]||n.getVersion(),major:t.major||n.getMajor(),minor:t.minor||n.getMinor(),branch:t.branch||n.getBranch(),name:t.name||n.getName(),group:t.group||n.getGroup(),"new-version":t["new-version"]||"false",spaceid:t.spaceid||i.space.getID()}},function(t){if(t.response.tuples&&t.response.tuples.length){var n=new TS.Tuple;n.fromJSON(t.response.tuples[0]);var s=new TS.Version(n.getField(0).getValue(),n.getField(1).getValue(),n.getField(2).getValue(),n.getField(3).getValue(),n.getField(4).getValue(),n.getField(5).getValue(),n.getField(6).getValue());i.space.version=s,"function"==typeof e&&e.call(this,s)}})})},transaction:function(e,t){var i=this;t=t||{},this.tryTupleSpace(function(){i.send({transaction:{type:t.type||null}},function(t){t.response&&"function"==typeof e&&e.call(this,"ok"===t.response.type)})})},tryTupleSpace:function(e){var t,i=this,n=0;1==this.connected?e.call():t=setInterval(function(){n++,TS.Utils.log("Wait for tuplespace ("+n+")"),1==i.connected?(clearInterval(t),e.call()):10==n&&(clearInterval(t),TS.Utils.log("TupleSpace wasn't able to react after 10 tries"))},500)},parseTuple:function(e){var t=null;return e.response.tuples&&(t=new TS.Tuple,t.fromJSON(e.response.tuples[0])),t},parseTupleArray:function(e){var t=null;if(e.response.tuples){t=[];for(var i=0,n=e.response.tuples.length;n>i;i++){var s=new TS.Tuple;s.fromJSON(e.response.tuples[i]),t.push(s)}}return t}},"public":{write:function(e,t){var i=this;this.tryTupleSpace(function(){if(!(e instanceof TS.Tuple))throw new Error("Tuple must be an instance of TS.Tuple");i.send({write:{space:i.space.getID(),tuple:e.toJSON()}},function(e){if(!e.response)throw new Error(e);var i=new TS.Tuple;i.fromJSON(e.response.tuples[0]),"function"==typeof t&&t.call(this,i.getField(0).getValue())})})},update:function(e,t,i){var n=this;this.tryTupleSpace(function(){if(!(t instanceof TS.Tuple))throw new Error("Tuple must be an instance of TS.Tuple");n.send({update:{tupleid:{id:e},tuple:t.toJSON()}},function(e){console.log(e),"function"==typeof i&&i.call(this,"ok"===e.response.type)})})},take:function(e,t){var i=this;if(e.getTupleID())throw"Template Tuple for take operation must not provide an id. Check your code or use takeTupleById instead!";this.query("take",e,function(e){var n=i.parseTuple(e);"function"==typeof t&&t.call(this,n)})},takeAll:function(e,t){var i=this;this.query("takeAll",e,function(e){var n=i.parseTupleArray(e);"function"==typeof t&&t.call(this,n)})},takeFirst:function(e,t){var i=this;this.query("take",e,function(e){var n=i.parseTuple(e);"function"==typeof t&&t.call(this,n)},{randomize:"false"})},takeTupleById:function(e,t){var i=this,n=new TS.Tuple([],e);this.query("take",n,function(e){var n=i.parseTuple(e);"function"==typeof t&&t.call(this,n)},{randomize:"false"})},read:function(e,t){var i=this;this.query("read",e,function(e){var n=i.parseTuple(e);"function"==typeof t&&t.call(this,n)})},readAll:function(e,t,i){var n=this;this.query("readAll",e,function(e){var i=n.parseTupleArray(e);"function"==typeof t&&t.call(this,i,e.response.id)},i)},readFirst:function(e,t){var i=this;this.query("readFirst",e,function(e){var n=i.parseTuple(e);"function"==typeof t&&t.call(this,n)})},readTupleById:function(e,t){var i=this,n=new TS.Tuple([],e);this.query("read",n,function(e){var n=i.parseTuple(e);"function"==typeof t&&t.call(this,n)},{randomize:"false"})},"delete":function(e,t){this.query("take",e,function(e){var i=new TS.Tuple;i.fromJSON(e.response.tuples[0]);var n="1"==i.getField(0).getValue();"function"==typeof t&&t.call(this,n)},{returning:"false"})},deleteAll:function(e,t,i){this.query("takeAll",e,function(e){var i=new TS.Tuple;i.fromJSON(e.response.tuples[0]);var n=i.getField(0).getValue();"function"==typeof t&&t.call(this,n)},{returning:"false",spaceId:i})},deleteFirst:function(e,t){this.query("take",e,function(e){var i=new TS.Tuple;i.fromJSON(e.response.tuples[0]);var n="1"==i.getField(0).getValue();"function"==typeof t&&t.call(this,n)},{returning:"false",randomize:"false"})},count:function(e,t){this.query("readAll",e,function(e){var i=new TS.Tuple;i.fromJSON(e.response.tuples[0]),"function"==typeof t&&t.call(this,i.getField(0).getValue())},{returning:"false"})},getCurrentSpace:function(e){var t=this;this.tryTupleSpace(function(){"function"==typeof e&&e.call(this,t.space)})},getAllSpaces:function(e){var t=this;this.tryTupleSpace(function(){t.send({"get-all-spaces":{}},function(t){if(t.response.tuples&&t.response.tuples.length){for(var i=[],n=0,s=t.response.tuples.length;s>n;n++){var o=new TS.Tuple;o.fromJSON(t.response.tuples[n]),i.push(new TS.Space(o.getField(0).getValue(),o.getField(1).getValue()))}"function"==typeof e&&e.call(this,i)}})})},getSpaceNames:function(e){this.getAllSpaces(function(t){for(var i=[],n=0,s=t.length;s>n;n++)i.push(t[n].getName());"function"==typeof e&&e.call(this,i)})},getAllVersions:function(e){this.getVersions(function(t){"function"==typeof e&&e.call(this,t)})},getAllUserVersions:function(e){this.getVersions(function(t){"function"==typeof e&&e.call(this,t)},{user:"true"})},getCurrentVersion:function(e){this.getVersions(function(t){"function"==typeof e&&e.call(this,t[0])},{all:"false"})},getCurrentUserVersion:function(e){this.getVersions(function(t){"function"==typeof e&&e.call(this,t)},{all:"false",user:"true"})},switchToVersion:function(e,t){this.setVersion(function(e){"function"==typeof t&&t.call(this,e)},{"old-versionsid":e.getVersion()})},createNewVersion:function(e){this.setVersion(function(t){"function"==typeof e&&e.call(this,t)},{"new-version":"true"})},beginTransaction:function(e){this.transaction(function(t){"function"==typeof e&&e.call(this,t)},{type:"begin"})},commitTransaction:function(e){this.transaction(function(t){"function"==typeof e&&e.call(this,t)},{type:"commit"})},abortTransaction:function(e){this.transaction(function(t){"function"==typeof e&&e.call(this,t)},{type:"abort"})},eventRegister:function(e,t,i,n){var s=this;if(!(t instanceof TS.Tuple))throw new Error("Tuple must be an instance of TS.Tuple");this.tryTupleSpace(function(){s.send({"event-register":{command:e,major:s.space.getVersion().getMajor(),minor:s.space.getVersion().getMinor(),version:s.space.getVersion().getVersion(),after:{tuple:t.toJSON()},before:{}}},function(e){if(e.response.tuples&&e.response.tuples.length){var t=new TS.Tuple,o=null;t.fromJSON(e.response.tuples[0]),o=t.getField(0).getValue(),s.callbacks[o]=i,"function"==typeof n&&n.call(this,o)}})})},eventDeregister:function(e,t){var i=this;this.tryTupleSpace(function(){i.send({"event-deregister":{seq:e}},function(){"function"==typeof t&&t.call(this,e)})})},disconnect:function(){var e=this;this.tryTupleSpace(function(){e.send({disconnect:{}})})}}}),TS.RemoteAdmin=TS.Class({constructor:function(e){var t=this;e=e||{},this.locked=!1,this.waitingCallback,this.clients=[],this.connector=e.connector||new TS.Connector({host:e.host||null,port:e.port||null,endpoint:e.endpoint||null,json:!1,through:!0,onCallback:function(e){t.onMessage(e)},onError:function(t){"function"==typeof e.onError&&e.onError.call(this,t)}}),this.onCallback=e.onCallback||function(){},this.modes={1:"INVESTIGATOR",2:"VIZARD"},this.notifications={ADD_CLIENT:function(e){t.addClient(e),t.unlock(),t.onCallback.call(this,{client:e,action:"ADD_CLIENT"})},REMOVE_CLIENT:function(e){t.removeClient(e),t.unlock(),t.onCallback.call(this,{client:e,action:"REMOVE_CLIENT"})},ACTION_OCCURED:function(e){var t,i=this,n=[];n.push(e),i.waitingCallback=addResponse=function(e){"EOL"==e?(t=new TS.Tuple,t.fromJSON(JSON.parse(n[2]).tuple),i.unlock(),i.onCallback.call(this,{client:n[0],action:n[1],tuple:t})):n.push(e)}},INITIAL_STATE:function(e){var t,i,n=this,s=[];t=e.split(";"),n.waitingCallback=function(e){"EOL"==e?(n.unlock(),n.onCallback.call(this,{clients:t,tuples:s,action:"INITIAL_STATE"})):(i=new TS.Tuple,i.fromJSON(JSON.parse(e).tuple),s.push(i))}}},this.setMode(e.mode||1,e.spaceName||1,e.version||0,e.initialState||!1)},"private":{tryRemoteAdmin:function(e){var t,i=this,n=0;0==this.locked?e.call():t=setInterval(function(){n++,TS.Utils.log("Wait for remote admin ("+n+")"),0==i.locked?(clearInterval(t),e.call()):10==n&&(clearInterval(t),TS.Utils.log("Remote Admin wasn't able to react after 10 tries"))},100)},lock:function(e){TS.Utils.log("LOCKED!"),this.locked=!0,this.waitingCallback=e||function(){}},unlock:function(){TS.Utils.log("UNLOCKED!"),this.waitingCallback=function(){},this.locked=!1},send:function(e,t){var i=this;this.tryRemoteAdmin(function(){"undefined"!=typeof t&&i.lock(t),"object"==typeof e&&e.length||(e=[e]);for(var n=0,s=e.length;s>n;n++)i.connector.send(e[n])})},onMessage:function(e){var t=this,i=e.data;TS.Utils.log("Incomming Message \n"+i),"undefined"!=typeof this.notifications[i]?t.lock(function(e){t.notifications[i].call(this,e)}):this.waitingCallback(i)},addClient:function(e){TS.Utils.log("Added client "+e),this.clients.push(e)},removeClient:function(e){delete this.clients[e]},handleAction:function(){"EOL"==response?(self.unlock(),callback.call(this,responses)):responses.push(response)}},"public":{setMode:function(e,t,i,n){if("undefined"==typeof this.modes[e])throw new Error("This mode is not available");this.send(this.modes[e]+" JSON "+n+" "+t)},getHealth:function(e){var t=this,i=[],n=function(n){"EOL"==n?(t.unlock(),e.call(this,i)):i.push(n)};this.send("GET_HEALTH",function(e){n(e)})},getDbProps:function(e){var t=this,i=[],n=function(n){i.push(n),3==i.length&&(t.unlock(),e.call(this,i))};this.send("GET_DB_PROPS",function(e){n(e)})},getConnections:function(e){var t=this,i=[];this.send("GET_CONNS",function(n){t.unlock(),i=n.replace(/\"/g,"").split("; "),e.call(this,i)})},getClients:function(e){var t=this;this.tryRemoteAdmin(function(){e.call(this,t.clients)})},getTupleProps:function(e,t,i){var n=this,s=[],o=function(e){var t,o;if("EOL"==e)n.unlock(),i.call(this,s);else{e=e.split(","),t=e[0].split("_"),o=new TS.Tuple;for(var r=0,a=t.length;a>r;r++)o.addField(TS.createFormalField(t[r].toLowerCase()));s.push({tuple:o,length:e[1]})}};this.send(["GET_TUPLE_PROPS",e+", "+t],function(e){o(e)})},invokeGarbageManager:function(e){var t=this;this.send("INVOKE_GM",function(){t.unlock(),e.call()})},disconnect:function(){this.connector.disconnect()}}})}.call(this),function(){var e=YAHOO.lang;inputEx=function(t,i){var n,s=null;return t.type?(s=inputEx.getFieldClass(t.type),null===s&&(s=inputEx.StringField)):s=t.fieldClass?t.fieldClass:inputEx.StringField,n=e.isObject(t.inputParams)?new s(t.inputParams):new s(t),i&&n.setParentField(i),n},e.augmentObject(inputEx,{VERSION:"0.5.0",spacerUrl:"images/space.gif",stateEmpty:"empty",stateRequired:"required",stateValid:"valid",stateInvalid:"invalid",messages:{required:"This field is required",invalid:"This field is invalid",valid:"This field is valid",defaultDateFormat:"m/d/Y",months:["January","February","March","April","May","June","July","August","September","October","November","December"],timeUnits:{SECOND:"seconds",MINUTE:"minutes",HOUR:"hours",DAY:"days",MONTH:"months",YEAR:"years"}},widget:{},mixin:{},regexps:{email:/^[a-z0-9!\#\$%&'\*\-\/=\?\+\-\^_`\{\|\}~]+(?:\.[a-z0-9!\#\$%&'\*\-\/=\?\+\-\^_`\{\|\}~]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,6}$/i,url:/^(http|https):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(\:[0-9]{1,5})?(([0-9]{1,5})?\/.*)?$/i,password:/^[0-9a-zA-Z\x20-\x7E]*$/},typeClasses:{},browserAutocomplete:!0,registerType:function(t,i,n,s){if(!e.isString(t))throw new Error("inputEx.registerType: first argument must be a string");if(!e.isFunction(i))throw new Error("inputEx.registerType: second argument must be a function");this.typeClasses[t]=i;var o=[];e.isArray(n)&&(o=n),i.superclass&&!s&&e.isArray(i.superclass.constructor.groupOptions)&&(o=o.concat(i.superclass.constructor.groupOptions)),i.groupOptions=o},getFieldClass:function(t){return e.isFunction(this.typeClasses[t])?this.typeClasses[t]:null},getType:function(e){for(var t in this.typeClasses)if(this.typeClasses.hasOwnProperty(t)&&this.typeClasses[t]==e)return t;return null},buildField:function(e){return inputEx(e)},sn:function(t,i,n){if(t){var s;if(i)for(s in i){var o=i[s];if(!e.isFunction(o)&&("className"==s&&(s="class",t.className=o),o!==t.getAttribute(s)))try{o===!1?t.removeAttribute(s):t.setAttribute(s,o)}catch(r){}}if(n)for(s in n)e.isFunction(n[s])||t.style[s]!=n[s]&&(t.style[s]=n[s])}},cn:function(e,t,i,n){if("input"==e&&YAHOO.env.ua.ie){var s="<"+e;if("undefined"!==t)for(var o in t)s+=" "+("className"===o?"class":o)+'="'+t[o]+'"';return s+="/>",document.createElement(s)}var r=document.createElement(e);return this.sn(r,t,i),n&&(r.innerHTML=n),r},indexOf:function(t,i,n){var s,o=i.length;for(e.isFunction(n)||(n=function(e,t){return e===t}),s=0;o>s;s++)if(n.call({},t,i[s]))return s;return-1},compactArray:function(t){var i,n=[],s=t.length;for(i=0;s>i;i++)e.isNull(t[i])||e.isUndefined(t[i])||n.push(t[i]);return n},removeAccents:function(e){return e.replace(/[????????????]/g,"a").replace(/[????????]/g,"e").replace(/[????????]/g,"i").replace(/[??????????]/g,"o").replace(/[????????]/g,"u").replace(/[????]/g,"y").replace(/[??]/g,"n").replace(/[??]/g,"c").replace(/[??]/g,"oe").replace(/[??]/g,"ae")}})}(),YAHOO.inputEx=inputEx,function(){var e=YAHOO.util.Dom,t=YAHOO.lang,i=YAHOO.util;inputEx.Field=function(n){this.setOptions(n||{}),this.render(),this.updatedEvt=new i.CustomEvent("updated",this),this.initEvents(),t.isUndefined(this.options.value)||this.setValue(this.options.value,!1),n.parentEl&&(t.isString(n.parentEl)?e.get(n.parentEl).appendChild(this.getEl()):n.parentEl.appendChild(this.getEl()))},inputEx.Field.prototype={setOptions:function(i){this.options={},this.options.name=i.name,this.options.value=i.value,this.options.id=i.id||e.generateId(),this.options.label=i.label,this.options.description=i.description,this.options.messages={},this.options.messages.required=i.messages&&i.messages.required?i.messages.required:inputEx.messages.required,this.options.messages.invalid=i.messages&&i.messages.invalid?i.messages.invalid:inputEx.messages.invalid,this.options.className=i.className?i.className:"inputEx-Field",this.options.required=t.isUndefined(i.required)?!1:i.required,this.options.showMsg=t.isUndefined(i.showMsg)?!1:i.showMsg},render:function(){this.divEl=inputEx.cn("div",{className:"inputEx-fieldWrapper"}),this.options.id&&(this.divEl.id=this.options.id),this.options.required&&e.addClass(this.divEl,"inputEx-required"),this.options.label&&(this.labelDiv=inputEx.cn("div",{id:this.divEl.id+"-label",className:"inputEx-label","for":this.divEl.id+"-field"}),this.labelEl=inputEx.cn("label"),this.labelEl.appendChild(document.createTextNode(this.options.label)),this.labelDiv.appendChild(this.labelEl),this.divEl.appendChild(this.labelDiv)),this.fieldContainer=inputEx.cn("div",{className:this.options.className}),this.renderComponent(),this.options.description&&this.fieldContainer.appendChild(inputEx.cn("div",{id:this.divEl.id+"-desc",className:"inputEx-description"},null,this.options.description)),this.divEl.appendChild(this.fieldContainer),this.divEl.appendChild(inputEx.cn("div",null,{clear:"both"}," "))},fireUpdatedEvt:function(){var e=this;
setTimeout(function(){e.updatedEvt.fire(e.getValue(),e)},50)},renderComponent:function(){},getEl:function(){return this.divEl},initEvents:function(){},getValue:function(){},setValue:function(e,t){this.setClassFromState(),t!==!1&&this.fireUpdatedEvt()},setClassFromState:function(){var t;this.previousState&&(t="inputEx-"+(this.previousState==inputEx.stateRequired?inputEx.stateInvalid:this.previousState),e.removeClass(this.divEl,t));var i=this.getState();i==inputEx.stateEmpty&&e.hasClass(this.divEl,"inputEx-focused")||(t="inputEx-"+(i==inputEx.stateRequired?inputEx.stateInvalid:i),e.addClass(this.divEl,t)),this.options.showMsg&&this.displayMessage(this.getStateString(i)),this.previousState=i},getStateString:function(e){return e==inputEx.stateRequired?this.options.messages.required:e==inputEx.stateInvalid?this.options.messages.invalid:""},getState:function(){return this.isEmpty()?this.options.required?inputEx.stateRequired:inputEx.stateEmpty:this.validate()?inputEx.stateValid:inputEx.stateInvalid},validate:function(){return!0},onFocus:function(){var t=this.getEl();e.removeClass(t,"inputEx-empty"),e.addClass(t,"inputEx-focused")},onBlur:function(){e.removeClass(this.getEl(),"inputEx-focused"),this.setClassFromState()},onChange:function(){this.fireUpdatedEvt()},close:function(){},disable:function(){},enable:function(){},focus:function(){},destroy:function(){var t=this.getEl();this.updatedEvt.unsubscribeAll(),i.Event.purgeElement(t,!0),e.inDocument(t)&&t.parentNode.removeChild(t)},displayMessage:function(e){if(this.fieldContainer){if(!this.msgEl){this.msgEl=inputEx.cn("div",{className:"inputEx-message"});try{var t=this.divEl.getElementsByTagName("div");this.divEl.insertBefore(this.msgEl,t[t.length-1>=0?t.length-1:0])}catch(i){alert(i)}}this.msgEl.innerHTML=e}},show:function(){this.divEl.style.display=""},hide:function(){this.divEl.style.display="none"},clear:function(e){this.setValue(t.isUndefined(this.options.value)?"":this.options.value,e)},isEmpty:function(){return""===this.getValue()},setParentField:function(e){this.parentField=e},getParentField:function(){return this.parentField}},inputEx.Field.groupOptions=[{type:"string",label:"Label",name:"label",value:""},{type:"string",label:"Name",name:"name",value:""},{type:"string",label:"Description",name:"description",value:""},{type:"boolean",label:"Required?",name:"required",value:!1},{type:"boolean",label:"Show messages",name:"showMsg",value:!1}]}(),function(){var e=YAHOO.lang;inputEx.BaseField=inputEx.Field,inputEx.Field=function(e){inputEx.Field.superclass.constructor.call(this,e)},e.extend(inputEx.Field,inputEx.BaseField,{setOptions:function(t){inputEx.Field.superclass.setOptions.call(this,t),this.options.wirable=e.isUndefined(t.wirable)?!1:t.wirable,this.options.container=t.container,t.container=null},render:function(){inputEx.Field.superclass.render.call(this),this.options.wirable&&this.renderTerminal()},renderTerminal:function(){var e=inputEx.cn("div",{className:"WireIt-InputExTerminal"});this.divEl.insertBefore(e,this.fieldContainer),this.terminal=new WireIt.Terminal(e,{name:this.options.name,direction:[-1,0],fakeDirection:[0,1],ddConfig:{type:"input",allowedTypes:["output"]},nMaxWires:1},this.options.container),this.options.container&&this.options.container.terminals.push(this.terminal),this.terminal.eventAddWire.subscribe(this.onAddWire,this,!0),this.terminal.eventRemoveWire.subscribe(this.onRemoveWire,this,!0)},onAddWire:function(e,t){this.options.container.onAddWire(e,t),this.disable(),this.el.value="[wired]"},onRemoveWire:function(e,t){this.options.container.onRemoveWire(e,t),this.enable(),this.el.value=""}}),inputEx.Field.groupOptions=inputEx.BaseField.groupOptions.concat([{type:"boolean",label:"Wirable",name:"wirable",value:!1}])}(),function(){var e=YAHOO.lang,t=YAHOO.util.Dom,i=YAHOO.util.Event;inputEx.Group=function(e){inputEx.Group.superclass.constructor.call(this,e),this.options.value||this.runFieldsInteractions()},e.extend(inputEx.Group,inputEx.Field,{setOptions:function(t){inputEx.Group.superclass.setOptions.call(this,t),this.options.className=t.className||"inputEx-Group",this.options.fields=t.fields,this.options.flatten=t.flatten,this.options.legend=t.legend||"",this.options.collapsible=e.isUndefined(t.collapsible)?!1:t.collapsible,this.options.collapsed=e.isUndefined(t.collapsed)?!1:t.collapsed,this.options.disabled=e.isUndefined(t.disabled)?!1:t.disabled,this.inputs=[],this.inputsNames={}},render:function(){this.divEl=inputEx.cn("div",{className:this.options.className}),this.options.id&&(this.divEl.id=this.options.id),this.renderFields(this.divEl),this.options.disabled&&this.disable()},renderFields:function(t){if(this.fieldset=inputEx.cn("fieldset"),this.legend=inputEx.cn("legend",{className:"inputEx-Group-legend"}),this.options.collapsible){var i=inputEx.cn("div",{className:"inputEx-Group-collapseImg"},null," ");this.legend.appendChild(i),inputEx.sn(this.fieldset,{className:"inputEx-Expanded"})}e.isUndefined(this.options.legend)||""===this.options.legend||this.legend.appendChild(inputEx.cn("span",null,null," "+this.options.legend)),(this.options.collapsible||!e.isUndefined(this.options.legend)&&""!==this.options.legend)&&this.fieldset.appendChild(this.legend);for(var n=0;n<this.options.fields.length;n++){var s=this.options.fields[n];if(!s)throw new Error("inputEx.Form: One of the provided fields is undefined ! (check trailing comma)");var o=this.renderField(s),r=inputEx.cn("div",{name:"fieldWrapper",number:n},{width:"auto",height:"auto"},""),a=inputEx.cn("div",null,{display:"inline-block",width:"auto"},""),l=inputEx.cn("div",{className:"templateView"},{display:"none",width:"auto",marginLeft:"20px",position:"relative",top:"-3px",align:"right",textAlign:"right"},null);document.getElementById("WiringEditor-expertModeButton-button")&&"active"==document.getElementById("WiringEditor-expertModeButton-button").getAttribute("status")&&(l.style.display=""),s.CFG||(s.CFG={enabled:!1,free:!0,range:!1,"default":!1,defaultValue:!1,possibleValues:[]}),a.appendChild(o.getEl());var u=inputEx.cn("div",{className:"editCheckBoxWrapper",name:"editCheckBoxWrapper",number:n},{display:"inline-block",margin:"3px"},""),c=inputEx.cn("input",{type:"checkbox",className:"editCheckBox",name:"editCheckBox",number:n},{width:"15px",height:"15px"},""),h=["string","int","boolean","select","file"];c.disabled=!0;for(var d=!1,p=0;p<h.length;p++)h[p]==s.type&&(c.disabled=!1,d=!0);if(d){YAHOO.util.Event.addListener(c,"change",function(e){var t=YAHOO.util.Event.getTarget(e),i=t.getAttribute("number");if(t.checked){t.parentNode.getElementsByClassName("showhideCheckBox")[0].checked=!0,t.parentNode.getElementsByClassName("showhideCheckBox")[0].disabled=!1;for(var n=t.parentNode.parentNode.getElementsByClassName("config"),s=0;s<n.length;s++)n[s].style.display="";this.options.fields[i].CFG.enabled=!0}else{t.parentNode.getElementsByClassName("showhideCheckBox")[0].disabled=!0,t.parentNode.getElementsByClassName("showhideCheckBox")[0].checked=!1;for(var n=t.parentNode.parentNode.getElementsByClassName("config"),s=0;s<n.length;s++)n[s].style.display="none";this.options.fields[i].CFG.enabled=!1}},this,!0),"file"==s.type&&(c.disabled=!0),u.appendChild(c);var f=inputEx.cn("img",{type:"image",name:"pic",border:"0",alt:"unlock",src:"lib/assets/eye.png"},{width:"15px",height:"15px"},"");u.appendChild(f);var m=inputEx.cn("input",{type:"checkbox",className:"showhideCheckBox",disabled:"true",name:"showhideCheckBox",number:n},{width:"15px",height:"15px"},"");YAHOO.util.Event.addListener(m,"click",function(e){var t=YAHOO.util.Event.getTarget(e),i=t.parentNode.getElementsByClassName("editCheckBox")[0].checked;if(i)for(var n=t.parentNode.parentNode.getElementsByClassName("config"),s=0;s<n.length;s++)n[s].style.display=t.checked?"":"none"},this,!0),u.appendChild(m);var g=inputEx.cn("img",{type:"image",name:"pic",border:"0",alt:"unlock",src:"lib/assets/eye.png"},{width:"15px",height:"15px"},"");u.appendChild(g),l.appendChild(u),"file"==s.type?l.appendChild(inputEx.cn("p",{},{fontStyle:"italic"},"No preselection possible for filechooser.")):l.appendChild(inputEx.cn("br",null,null,null));var v=inputEx.cn("div",{name:"config",className:"config",id:s.name+"CFG",number:n},{display:"none",width:"auto",marginLeft:""},""),b=inputEx.cn("div",{number:n},{display:"block"},"");YAHOO.util.Event.addListener(b,"change",function(e){var t=YAHOO.util.Event.getTarget(e),i=t.getAttribute("number"),n=t.parentNode.getElementsByClassName("rangeRadio")[0];n.checked?(t.parentNode.parentNode.getElementsByClassName("rangeSelection")[0].style.display="",this.options.fields[i].CFG.range=!0,this.options.fields[i].CFG.free=!1):(t.parentNode.parentNode.getElementsByClassName("rangeSelection")[0].style.display="none",this.options.fields[i].CFG.range=!1,this.options.fields[i].CFG.free=!0)},this,!0);var y=inputEx.cn("div",null,{display:"inline-block"},"free choice"),E=inputEx.cn("input",{type:"radio",id:"freeRadio",name:"configRadio"+n,value:"free choice",checked:"true"},null,"");b.appendChild(y),b.appendChild(E),b.appendChild(inputEx.cn("div",null,{display:"inline-block",marginLeft:"5px",marginRight:"5px"},"or"));var C=inputEx.cn("div",null,{display:"inline-block"},"defined range"),w=inputEx.cn("input",{className:"rangeRadio",type:"radio",name:"configRadio"+n,number:n},null,"");"boolean"==s.type&&(w.disabled=!0),b.appendChild(w),b.appendChild(C),v.appendChild(b);var x=inputEx.cn("div",{className:"defaultWrapper",number:n},{margin:"3px"},null);x.appendChild(inputEx.cn("div",{id:"defaultValueDiv"},{display:"inline-block",marginRight:"5px",marginBottom:"2px"},"...with a default selection"));var O=inputEx.cn("input",{type:"checkbox",className:"defaultCheckBox",name:"defaultCheckBox",number:n},{width:"15px",height:"15px"},"");YAHOO.util.Event.addListener(O,"change",function(e){var t=YAHOO.util.Event.getTarget(e),i=t.getAttribute("number");t.parentNode.getElementsByClassName("defaultCheckBox"),t.checked?(t.parentNode.parentNode.getElementsByClassName("defaultValue")[0].style.display="",this.options.fields[i].CFG.default=!0):(t.parentNode.parentNode.getElementsByClassName("defaultValue")[0].style.display="none",this.options.fields[i].CFG.default=!1)},this,!0),x.appendChild(O);var T=inputEx.cn("div",{className:"defaultValue",name:"defaultValue",number:n},{display:"none"},null);switch(s.type){case"select":var _=inputEx.cn("ul",null,null,null);if(s.selectValues&&!s.choices)for(var S=0;S<s.selectValues.length;S++){var A=inputEx.cn("li",null,null,null);A.appendChild(inputEx.cn("div",{className:"defaultValueSelection",number:n},{display:"inline-block"},s.selectValues[S]));var k=inputEx.cn("input",{type:"radio",name:"defaultValueSelectionRadio",className:"defaultValueSelection",number:n},null,null);YAHOO.util.Event.addListener(k,"change",function(e){var t=YAHOO.util.Event.getTarget(e),i=t.getAttribute("number");this.options.fields[i].CFG.defaultValue=t.parentNode.getElementsByClassName("defaultValueSelection")[0].innerHTML},this,!0),A.appendChild(k),_.appendChild(A)}if(s.choices&&!s.selectValues)for(var S=0;S<s.choices.length;S++){var A=inputEx.cn("li",null,null,null);A.appendChild(inputEx.cn("div",{className:"defaultValueSelection",number:n},{display:"inline-block"},s.choices[S]));var k=inputEx.cn("input",{type:"radio",name:"defaultValueSelectionRadio",className:"defaultValueSelection",number:n},null,null);YAHOO.util.Event.addListener(k,"change",function(e){var t=YAHOO.util.Event.getTarget(e),i=t.getAttribute("number");this.options.fields[i].CFG.defaultValue=t.parentNode.getElementsByClassName("defaultValueSelection")[0].innerHTML},this,!0),A.appendChild(k),_.appendChild(A)}T.appendChild(_);break;case"int":var D=inputEx.cn("input",{type:"number",className:"defaultValueSelection",number:n},{width:"50px"},null);YAHOO.util.Event.addListener(D,"change",function(e){var t=YAHOO.util.Event.getTarget(e),i=t.getAttribute("number");this.options.fields[i].CFG.defaultValue=t.value},this,!0),T.appendChild(D);break;case"string":var D=inputEx.cn("input",{type:"text",className:"defaultValueSelection",number:n},{width:"150px"},null);YAHOO.util.Event.addListener(D,"change",function(e){var t=YAHOO.util.Event.getTarget(e),i=t.getAttribute("number");this.options.fields[i].CFG.defaultValue=t.value},this,!0),T.appendChild(D);break;case"file":break;case"boolean":var I=inputEx.cn("div",{},{display:"block"},"");I.appendChild(inputEx.cn("div",{type:"text",className:"defaultValueSelection",number:n},{display:"inline-block",marginRight:"5px",fontStyle:"italic"},"(checked=true)"));var D=inputEx.cn("input",{type:"checkbox",className:"defaultValueSelection",number:n},{display:"inline-block",width:"15px",height:"15px"},null);YAHOO.util.Event.addListener(D,"change",function(e){var t=YAHOO.util.Event.getTarget(e),i=t.getAttribute("number");this.options.fields[i].CFG.defaultValue=1==t.checked?!0:!1},this,!0),I.appendChild(D),T.appendChild(I)}x.appendChild(T),v.appendChild(x);var N=inputEx.cn("div",{className:"rangeSelection",number:n},{display:"none"},null);switch(s.type){case"select":this.options.fields[n].CFG.type="select",N.appendChild(inputEx.cn("div",null,{display:"inline-block",marginBottom:"5px",marginTop:"3px"},"range:"));var _=inputEx.cn("ul",null,null,null);if(s.selectValues&&!s.choices)for(var S=0;S<s.selectValues.length;S++){var A=inputEx.cn("li",null,null,null);A.appendChild(inputEx.cn("div",{className:"rangeSelectionValue",number:n},{display:"inline-block"},s.selectValues[S]));var H=inputEx.cn("input",{type:"checkbox",name:"rangeSelectionCheckbox",className:"rangeSelectionCheckbox",number:n},null,null);YAHOO.util.Event.addListener(H,"change",function(e){for(var t=YAHOO.util.Event.getTarget(e),i=t.getAttribute("number"),n=[],s=0;s<t.parentNode.parentNode.getElementsByClassName("rangeSelectionValue").length;s++)t.parentNode.parentNode.getElementsByClassName("rangeSelectionCheckbox")[s].checked&&(n[n.length]=t.parentNode.parentNode.getElementsByClassName("rangeSelectionValue")[s].innerHTML);this.options.fields[i].CFG.possibleValues=n},this,!0),A.appendChild(H),_.appendChild(A)}if(s.choices&&!s.selectValues)for(var S=0;S<s.choices.length;S++){var A=inputEx.cn("li",null,null,null);A.appendChild(inputEx.cn("div",{className:"rangeSelectionValue",number:n},{display:"inline-block"},s.choices[S]));var H=inputEx.cn("input",{type:"checkbox",name:"rangeSelectionCheckbox",className:"rangeSelectionCheckbox",number:n},null,null);YAHOO.util.Event.addListener(H,"change",function(e){for(var t=YAHOO.util.Event.getTarget(e),i=t.getAttribute("number"),n=[],s=0;s<t.parentNode.parentNode.getElementsByClassName("rangeSelectionValue").length;s++)t.parentNode.parentNode.getElementsByClassName("rangeSelectionCheckbox")[s].checked&&(n[n.length]=t.parentNode.parentNode.getElementsByClassName("rangeSelectionValue")[s].innerHTML);this.options.fields[i].CFG.possibleValues=n},this,!0),A.appendChild(H),_.appendChild(A)}N.appendChild(_);var P=inputEx.cn("div",null,{marginTop:"3px"},"");P.appendChild(inputEx.cn("div",null,{display:"inline-block",fontStyle:"italic",marginRight:"5px"},"select/deselect all"));var L=inputEx.cn("input",{type:"checkbox",className:"",number:n},{display:"inline-block"},null);YAHOO.util.Event.addListener(L,"click",function(e){var t=YAHOO.util.Event.getTarget(e),i=t.parentNode.parentNode.getElementsByClassName("rangeSelectionCheckbox"),n=t.getAttribute("number");if(t.checked){for(var s=0;s<i.length;s++)i[s].checked=!0;for(var o=[],r=0;r<t.parentNode.parentNode.getElementsByClassName("rangeSelectionValue").length;r++)o[o.length]=t.parentNode.parentNode.getElementsByClassName("rangeSelectionValue")[r].innerHTML;this.options.fields[n].CFG.possibleValues=o}else{for(var s=0;s<i.length;s++)i[s].checked=!1;this.options.fields[n].CFG.possibleValues=[]}},this,!0),P.appendChild(L),N.appendChild(P);break;case"int":this.options.fields[n].CFG.type="int",N.appendChild(inputEx.cn("div",null,{display:"inline-block"},"range from:"));var H=inputEx.cn("input",{type:"number",className:"rangeSelectionValue",number:n,name:"rangeSelectionValue1"},{width:"50px"},null);YAHOO.util.Event.addListener(H,"change",function(e){var t=YAHOO.util.Event.getTarget(e),i=t.getAttribute("number"),n=[];n[0]=t.parentNode.getElementsByClassName("rangeSelectionValue")[0].value,n[1]=t.parentNode.getElementsByClassName("rangeSelectionValue")[1].value,this.options.fields[i].CFG.possibleValues=n},this,!0),N.appendChild(H);var F=inputEx.cn("input",{type:"number",className:"rangeSelectionValue",number:n,name:"rangeSelectionValue2"},{width:"50px"},null);N.appendChild(inputEx.cn("div",null,{display:"inline-block"},"to:")),YAHOO.util.Event.addListener(F,"change",function(e){var t=YAHOO.util.Event.getTarget(e),i=t.getAttribute("number"),n=[];n[0]=t.parentNode.getElementsByClassName("rangeSelectionValue")[0].value,n[1]=t.parentNode.getElementsByClassName("rangeSelectionValue")[1].value,this.options.fields[i].CFG.possibleValues=n},this,!0),N.appendChild(F);break;case"string":this.options.fields[n].CFG.type="string",N.appendChild(inputEx.cn("div",null,null,"range:"));var R=inputEx.cn("ul",{className:"ulSt"},{marginBottom:"5px"},null);N.appendChild(R);var M=inputEx.cn("input",{type:"text",className:"rangeSelectionValue",number:n},{width:"150px"},null);N.appendChild(M);var B=inputEx.cn("button",{className:"addStBtn"+n,number:n},null,"add");YAHOO.util.Event.addListener(B,"click",function(e){var t=YAHOO.util.Event.getTarget(e),i=t.getAttribute("number"),s=t.parentNode.getElementsByClassName("rangeSelectionValue")[0];if(null!=s.value&""!=s.value){var o=t.parentNode.getElementsByClassName("ulSt")[0],r=inputEx.cn("li",{className:"ulStLi"},null,null),a=inputEx.cn("div",{className:"ulStValue"},{display:"inline-block"},s.value),l=inputEx.cn("div",{className:"ulStDel",number:n},{display:"inline-block",cursor:"pointer",color:"blue"},"&nbsp;[x]");YAHOO.util.Event.addListener(l,"click",function(e){var i=YAHOO.util.Event.getTarget(e),n=t.getAttribute("number");o.removeChild(i.parentNode);for(var s=[],r=0;r<o.getElementsByClassName("ulStValue").length;r++)s[s.length]=o.getElementsByClassName("ulStValue")[r].innerHTML;this.options.fields[n].CFG.possibleValues.splice(0,this.options.fields[r].CFG.possibleValues.length),this.options.fields[n].CFG.possibleValues=s},this,!0),r.appendChild(a),r.appendChild(l),o.appendChild(r),s.value="";for(var u=[],c=0;c<t.parentNode.getElementsByClassName("ulSt")[0].getElementsByClassName("ulStValue").length;c++)u[u.length]=t.parentNode.getElementsByClassName("ulSt")[0].getElementsByClassName("ulStValue")[c].innerHTML;this.options.fields[i].CFG.possibleValues=u}},this,!0),N.appendChild(B);break;case"file":break;case"boolean":this.options.fields[n].CFG.type="boolean"}v.appendChild(N),l.appendChild(v),r.appendChild(a),l.appendChild(v),n<this.options.fields.length-1&&l.appendChild(inputEx.cn("hr",null,{color:"#dcdcdc"},null)),r.appendChild(l),this.fieldset.appendChild(r)}else this.fieldset.appendChild(inputEx.cn("hr",null,{color:"red"},null)),this.fieldset.appendChild(inputEx.cn("p",null,{color:"red"},"Error building Field Nr: "+(n+1))),this.fieldset.appendChild(inputEx.cn("p",null,{color:"red"},"Unknown input type - check your filter specification...")),this.fieldset.appendChild(inputEx.cn("p",null,{color:"red",fontStyle:"italic"},"Allowed types are: int, boolean, string, select, file (case sensitive)")),this.fieldset.appendChild(inputEx.cn("hr",null,{color:"red"},null))}this.options.collapsed&&this.toggleCollapse(),t.appendChild(this.fieldset)},renderField:function(e){var t=inputEx(e,this);return this.inputs.push(t),t.options.name&&(this.inputsNames[t.options.name]=t),!this.hasInteractions&&e.interactions&&(this.hasInteractions=!0),t.updatedEvt.subscribe(this.onChange,this,!0),t},initEvents:function(){this.options.collapsible&&i.addListener(this.legend,"click",this.toggleCollapse,this,!0)},toggleCollapse:function(){t.hasClass(this.fieldset,"inputEx-Expanded")?t.replaceClass(this.fieldset,"inputEx-Expanded","inputEx-Collapsed"):t.replaceClass(this.fieldset,"inputEx-Collapsed","inputEx-Expanded")},validate:function(){for(var e=!0,t=0;t<this.inputs.length;t++){var i=this.inputs[t];i.setClassFromState();var n=i.getState();(n==inputEx.stateRequired||n==inputEx.stateInvalid)&&(e=!1)}return e},getFieldsStates:function(){for(var e,t,i,n,s={fields:{},validate:!0},o=0;o<this.inputs.length;o++)e=this.inputs[o],t=e.options.name,i=e.getState(),n=e.getStateString(i),s.fields[t]={},s.fields[t].valid=!0,s.fields[t].message=n,(i==inputEx.stateRequired||i==inputEx.stateInvalid)&&(s.fields[t].valid=!1,s.validate=!1);return s},enable:function(){for(var e=0;e<this.inputs.length;e++)this.inputs[e].enable()},disable:function(){for(var e=0;e<this.inputs.length;e++)this.inputs[e].disable()},setValue:function(t,i){if(t){for(var n=0;n<this.inputs.length;n++){var s=this.inputs[n],o=s.options.name;o&&!e.isUndefined(t[o])?s.setValue(t[o],!1):s.clear(!1)}this.runFieldsInteractions(),i!==!1&&this.fireUpdatedEvt()}},getValue:function(){for(var t={},i=0;i<this.inputs.length;i++){var n=this.inputs[i].getValue();this.inputs[i].options.name&&(this.inputs[i].options.flatten&&e.isObject(n)?e.augmentObject(t,n):t[this.inputs[i].options.name]=n)}return t},getTemplateValue:function(){var e={};if("active"==document.getElementById("WiringEditor-expertModeButton-button").getAttribute("status"))for(var t=0;t<this.options.fields.length;t++)this.options.fields[t].CFG.enabled,e[this.options.fields[t].name]={},this.options.fields[t].CFG.enabled?(1==this.options.fields[t].CFG.range?(e[this.options.fields[t].name].configurable="range",e[this.options.fields[t].name].range=this.options.fields[t].CFG.possibleValues):e[this.options.fields[t].name].configurable="free",1==this.options.fields[t].CFG.default&&(e[this.options.fields[t].name].value=this.options.fields[t].CFG.defaultValue)):(e[this.options.fields[t].name].configurable="false",e[this.options.fields[t].name].value=this.inputs[t].getValue());return e},close:function(){for(var e=0;e<this.inputs.length;e++)this.inputs[e].close()},focus:function(){this.inputs.length>0&&this.inputs[0].focus()},getFieldByName:function(e){return this.inputsNames.hasOwnProperty(e)?this.inputsNames[e]:null},onChange:function(e,t){(document.getElementById("saveIndicator").style.display="")&&(document.getElementById("saveIndicator").savedWfId="");var i=t[0],n=t[1];this.runInteractions(n,i),this.fireUpdatedEvt()},runAction:function(e,t){var i=this.getFieldByName(e.name);if(YAHOO.lang.isFunction(i[e.action]))i[e.action].call(i);else{if(!YAHOO.lang.isFunction(e.action))throw new Error("action "+e.action+" is not a valid action for field "+e.name);e.action.call(i,t)}},runInteractions:function(e,t){var i=inputEx.indexOf(e,this.inputs),n=this.options.fields[i];if(!YAHOO.lang.isUndefined(n.interactions))for(var s=n.interactions,o=0;o<s.length;o++){var r=s[o];if(r.valueTrigger===t)for(var a=0;a<r.actions.length;a++)this.runAction(r.actions[a],t)}},runFieldsInteractions:function(){if(this.hasInteractions)for(var e=0;e<this.inputs.length;e++)this.runInteractions(this.inputs[e],this.inputs[e].getValue())},clear:function(e){for(var t=0;t<this.inputs.length;t++)this.inputs[t].clear(!1);e!==!1&&this.fireUpdatedEvt()},setErrors:function(e){var i,n;if(YAHOO.lang.isArray(e))for(i=0;i<e.length;i++)n=e[i][0],value=e[i][1],this.inputsNames[n]&&this.inputsNames[n].options.showMsg&&(this.inputsNames[n].displayMessage(value),t.replaceClass(this.inputsNames[n].divEl,"inputEx-valid","inputEx-invalid"));else if(YAHOO.lang.isObject(e))for(n in e)e.hasOwnProperty(n)&&this.inputsNames[n]&&this.inputsNames[n].options.showMsg&&(this.inputsNames[n].displayMessage(e[n]),t.replaceClass(this.inputsNames[n].divEl,"inputEx-valid","inputEx-invalid"))},destroy:function(){var e,t,i;for(e=0,t=this.inputs.length;t>e;e++)i=this.inputs[e],i.destroy();inputEx.Group.superclass.destroy.call(this)}}),inputEx.registerType("group",inputEx.Group,[{type:"string",label:"Name",name:"name",value:""},{type:"string",label:"Legend",name:"legend"},{type:"boolean",label:"Collapsible",name:"collapsible",value:!1},{type:"boolean",label:"Collapsed",name:"collapsed",value:!1},{type:"list",label:"Fields",name:"fields",elementType:{type:"type"}}],!0)}(),function(){var e=YAHOO.lang;inputEx.visus={trimpath:function(e,t){if(!TrimPath)return alert("TrimPath is not on the page. Please load inputex/lib/trimpath-template.js"),null;var i=TrimPath.parseTemplate(e.template),n=i.process(t);return n},func:function(e,t){return e.func(t)},dump:function(t,i){return e.dump(i)}},inputEx.renderVisu=function(t,i,n){var s=t||{},o=s.visuType||"dump";if(!inputEx.visus.hasOwnProperty(o))throw new Error("inputEx: no visu for visuType: "+o);var r=inputEx.visus[o];if(!e.isFunction(r))throw new Error("inputEx: no visu for visuType: "+o);var a=null;try{a=r(s,i)}catch(l){throw new Error("inputEx: error while running visu "+o+" : "+l.message)}var u=null;return n&&(u=e.isString(n)?YAHOO.util.Dom.get(n):n),u&&(YAHOO.lang.isObject(a)&&a.tagName?(u.innerHTML="",u.appendChild(a)):u.innerHTML=a),a}}(),function(){var e=YAHOO.util,t=YAHOO.lang,i=e.Event,n=e.Dom;inputEx.widget.Button=function(e){this.setOptions(e||{}),this.options.parentEl&&this.render(this.options.parentEl)},t.augmentObject(inputEx.widget.Button.prototype,{setOptions:function(e){this.options={},this.options.id=t.isString(e.id)?e.id:n.generateId(),this.options.className=e.className||"inputEx-Button",this.options.parentEl=t.isString(e.parentEl)?n.get(e.parentEl):e.parentEl,this.options.type="link"===e.type||"submit-link"===e.type?e.type:"submit",this.options.value=e.value,this.options.disabled=!!e.disabled,t.isFunction(e.onClick)?this.options.onClick={fn:e.onClick,scope:this}:t.isObject(e.onClick)&&(this.options.onClick={fn:e.onClick.fn,scope:e.onClick.scope||this})},render:function(e){var t;return"link"===this.options.type||"submit-link"===this.options.type?(this.el=inputEx.cn("a",{className:this.options.className,id:this.options.id,href:"#"}),n.addClass(this.el,"link"===this.options.type?"inputEx-Button-Link":"inputEx-Button-Submit-Link"),t=inputEx.cn("span",null,null,this.options.value),this.el.appendChild(t)):(this.el=inputEx.cn("input",{type:"submit",value:this.options.value,className:this.options.className,id:this.options.id}),n.addClass(this.el,"inputEx-Button-Submit")),e.appendChild(this.el),this.options.disabled&&this.disable(),this.initEvents(),this.el},initEvents:function(){this.clickEvent=new e.CustomEvent("click"),this.submitEvent=new e.CustomEvent("submit"),i.addListener(this.el,"click",function(e){var t;i.stopEvent(e),t=this.disabled?!1:this.clickEvent.fire(),"link"===this.options.type&&(t=!1),t&&this.submitEvent.fire()},this,!0),this.options.onClick&&this.clickEvent.subscribe(this.options.onClick.fn,this.options.onClick.scope,!0)},disable:function(){this.disabled=!0,n.addClass(this.el,"inputEx-Button-disabled"),"submit"===this.options.type&&(this.el.disabled=!0)},enable:function(){this.disabled=!1,n.removeClass(this.el,"inputEx-Button-disabled"),"submit"===this.options.type&&(this.el.disabled=!1)},destroy:function(){this.clickEvent.unsubscribeAll(),this.submitEvent.unsubscribeAll(),e.Event.purgeElement(this.el,!0),n.inDocument(this.el)&&this.el.parentNode.removeChild(this.el)}})}(),function(){var e=YAHOO.lang;YAHOO.util.Event,YAHOO.util.Dom,inputEx.FileField=function(e){inputEx.FileField.superclass.constructor.call(this,e)},e.extend(inputEx.FileField,inputEx.Field,{setOptions:function(e){inputEx.FileField.superclass.setOptions.call(this,e),this.options.size=e.size,this.options.accept=e.accept},renderComponent:function(){var e={};e.id=this.divEl.id?this.divEl.id+"-field":"_inputex_fileid"+inputEx.FileField._id_count++,e.type="file",e.multiple="true",this.options.name&&(e.name=this.options.name),this.options.size&&(e.size=this.options.size),this.options.accept&&(e.accept=this.options.accept),this.el=inputEx.cn("input",e),this.el.setAttribute("name","files[]"),this.fieldContainer.appendChild(this.el)},getValue:function(){var e;return e=this.el.files},setValue:function(e,t){inputEx.FileField.superclass.setValue.call(this,e,t)},disable:function(){this.el.disabled=!0},enable:function(){this.el.disabled=!1},focus:function(){this.el&&!e.isUndefined(this.el.focus)&&this.el.focus()},setClassFromState:function(){inputEx.FileField.superclass.setClassFromState.call(this)},onFocus:function(e){inputEx.FileField.superclass.onFocus.call(this,e)}}),inputEx.registerType("file",inputEx.FileField)}(),function(){var e=YAHOO.lang,t=YAHOO.util.Event,i=YAHOO.util.Dom;inputEx.StringField=function(e){inputEx.StringField.superclass.constructor.call(this,e),this.options.typeInvite&&this.updateTypeInvite()},e.extend(inputEx.StringField,inputEx.Field,{setOptions:function(t){inputEx.StringField.superclass.setOptions.call(this,t),this.options.regexp=t.regexp,this.options.size=t.size,this.options.maxLength=t.maxLength,this.options.minLength=t.minLength,this.options.typeInvite=t.typeInvite,this.options.readonly=t.readonly,this.options.autocomplete=e.isUndefined(t.autocomplete)?inputEx.browserAutocomplete:t.autocomplete===!1||"off"===t.autocomplete?!1:!0,this.options.trim=t.trim===!0?!0:!1},renderComponent:function(){this.wrapEl=inputEx.cn("div",{className:"inputEx-StringField-wrapper"});var e={};e.type="text",e.id=this.divEl.id?this.divEl.id+"-field":YAHOO.util.Dom.generateId(),this.options.size&&(e.size=this.options.size),this.options.name&&(e.name=this.options.name),this.options.readonly&&(e.readonly="readonly"),this.options.maxLength&&(e.maxLength=this.options.maxLength),e.autocomplete=this.options.autocomplete?"on":"off",this.el=inputEx.cn("input",e),this.wrapEl.appendChild(this.el),this.fieldContainer.appendChild(this.wrapEl)},initEvents:function(){if(t.addListener(this.el,"change",this.onChange,this,!0),YAHOO.env.ua.ie){var e=this.el;new YAHOO.util.KeyListener(this.el,{keys:[13]},{fn:function(){e.blur(),e.focus()}}).enable()}t.addFocusListener(this.el,this.onFocus,this,!0),t.addBlurListener(this.el,this.onBlur,this,!0),t.addListener(this.el,"keypress",this.onKeyPress,this,!0),t.addListener(this.el,"keyup",this.onKeyUp,this,!0)},getValue:function(){var e;return e=this.options.typeInvite&&this.el.value==this.options.typeInvite?"":this.el.value,this.options.trim&&(e=YAHOO.lang.trim(e)),e},setValue:function(t,i){this.el.value=e.isNull(t)||e.isUndefined(t)?"":t,inputEx.StringField.superclass.setValue.call(this,t,i)},validate:function(){var e=this.getValue();if(""===e)return!this.options.required;var t=!0;return this.options.regexp&&(t=t&&e.match(this.options.regexp)),this.options.minLength&&(t=t&&e.length>=this.options.minLength),t},disable:function(){this.el.disabled=!0},enable:function(){this.el.disabled=!1},focus:function(){this.el&&!e.isUndefined(this.el.focus)&&this.el.focus()},getStateString:function(e){return e==inputEx.stateInvalid&&this.options.minLength&&this.el.value.length<this.options.minLength?inputEx.messages.stringTooShort[0]+this.options.minLength+inputEx.messages.stringTooShort[1]:inputEx.StringField.superclass.getStateString.call(this,e)},setClassFromState:function(){inputEx.StringField.superclass.setClassFromState.call(this),this.options.typeInvite&&this.updateTypeInvite()},updateTypeInvite:function(){i.hasClass(this.divEl,"inputEx-focused")?i.hasClass(this.divEl,"inputEx-typeInvite")&&(this.el.value="",this.previousState=null,i.removeClass(this.divEl,"inputEx-typeInvite")):this.isEmpty()?(i.addClass(this.divEl,"inputEx-typeInvite"),this.el.value=this.options.typeInvite):i.removeClass(this.divEl,"inputEx-typeInvite")},onFocus:function(e){inputEx.StringField.superclass.onFocus.call(this,e),this.options.typeInvite&&this.updateTypeInvite()},onKeyPress:function(){},onKeyUp:function(){}}),inputEx.messages.stringTooShort=["This field should contain at least "," numbers or characters"],inputEx.registerType("string",inputEx.StringField,[{type:"string",label:"Type invite",name:"typeInvite",value:""},{type:"integer",label:"Size",name:"size",value:20},{type:"integer",label:"Min. length",name:"minLength",value:0}])
}(),function(){var e=YAHOO.lang;inputEx.mixin.choice={addChoice:function(t){var i,n,s;return e.isObject(t)||(t={value:t}),i={value:t.value,label:e.isString(t.label)?t.label:""+t.value,visible:!0},i.node=this.createChoiceNode(i),n=this.getChoicePosition({position:t.position,label:t.before||t.after}),-1===n?n=this.choicesList.length:e.isString(t.after)&&(n+=1),this.choicesList.splice(n,0,i),this.appendChoiceNode(i.node,n),t.selected&&(s=this,setTimeout(function(){s.setValue(i.value)},0)),i},removeChoice:function(e){var t,i;if(t=this.getChoicePosition(e),-1===t)throw new Error("SelectField : invalid or missing position, label or value in removeChoice");i=this.choicesList[t],this.getValue()===i.value&&this.clear(),this.choicesList.splice(t,1),this.removeChoiceNode(i.node)},hideChoice:function(e){var t,i;t=this.getChoicePosition(e),-1!==t&&(i=this.choicesList[t],i.visible&&(i.visible=!1,this.getValue()===i.value&&this.clear(),this.removeChoiceNode(i.node)))},showChoice:function(e){var t,i;t=this.getChoicePosition(e),-1!==t&&(i=this.choicesList[t],i.visible||(i.visible=!0,this.appendChoiceNode(i.node,t)))},disableChoice:function(t,i){var n,s;(e.isUndefined(i)||!e.isBoolean(i))&&(i=!0),n=this.getChoicePosition(t),-1!==n&&(s=this.choicesList[n],this.disableChoiceNode(s.node),i&&this.getValue()===s.value&&this.clear())},enableChoice:function(e){var t,i;t=this.getChoicePosition(e),-1!==t&&(i=this.choicesList[t],this.enableChoiceNode(i.node))},getChoicePosition:function(t){var i,n=-1;return i=this.choicesList.length,e.isNumber(t.position)&&t.position>=0&&t.position<i?n=parseInt(t.position,10):e.isUndefined(t.value)?e.isString(t.label)&&(n=inputEx.indexOf(t.label,this.choicesList,function(e,t){return t.label===e})):n=inputEx.indexOf(t.value,this.choicesList,function(e,t){return t.value===e}),n}}}(),function(){var e=YAHOO.util.Event,t=YAHOO.lang;inputEx.SelectField=function(e){inputEx.SelectField.superclass.constructor.call(this,e)},t.extend(inputEx.SelectField,inputEx.Field,{setOptions:function(e){var i,n;if(inputEx.SelectField.superclass.setOptions.call(this,e),this.options.choices=t.isArray(e.choices)?e.choices:[],t.isArray(e.selectValues))for(i=0,n=e.selectValues.length;n>i;i+=1)this.options.choices.push({value:e.selectValues[i],label:""+(e.selectOptions&&!t.isUndefined(e.selectOptions[i])?e.selectOptions[i]:e.selectValues[i])})},renderComponent:function(){var e,t;for(this.el=inputEx.cn("select",{id:this.divEl.id?this.divEl.id+"-field":YAHOO.util.Dom.generateId(),name:this.options.name||""}),this.choicesList=[],e=0,t=this.options.choices.length;t>e;e+=1)this.addChoice(this.options.choices[e]);this.fieldContainer.appendChild(this.el)},initEvents:function(){e.addListener(this.el,"change",this.onChange,this,!0),e.addFocusListener(this.el,this.onFocus,this,!0),e.addBlurListener(this.el,this.onBlur,this,!0)},setValue:function(e,i){var n,s,o,r,a=!1;for(n=0,s=this.choicesList.length;s>n;n+=1)if(this.choicesList[n].visible){if(o=this.choicesList[n],e===o.value){o.node.selected="selected",a=!0;break}t.isUndefined(r)&&(r=n)}a||t.isUndefined(r)||(o=this.choicesList[r],o.node.selected="selected",e=o.value),inputEx.SelectField.superclass.setValue.call(this,e,i)},getValue:function(){var e;return this.el.selectedIndex>=0?(e=inputEx.indexOf(this.el.childNodes[this.el.selectedIndex],this.choicesList,function(e,t){return e===t.node}),this.choicesList[e].value):""},disable:function(){this.el.disabled=!0},enable:function(){this.el.disabled=!1},createChoiceNode:function(e){return inputEx.cn("option",{value:e.value},null,e.label)},removeChoiceNode:function(e){this.el.removeChild(e)},disableChoiceNode:function(e){e.disabled="disabled"},enableChoiceNode:function(e){e.removeAttribute("disabled")},appendChoiceNode:function(e,t){var i,n;for(i=0,n=0;t>n;n+=1)this.choicesList[n].visible&&(i+=1);i<this.el.childNodes.length?YAHOO.util.Dom.insertBefore(e,this.el.childNodes[i]):this.el.appendChild(e)}}),t.augmentObject(inputEx.SelectField.prototype,inputEx.mixin.choice),inputEx.registerType("select",inputEx.SelectField,[{type:"list",name:"choices",label:"Choices",elementType:{type:"group",fields:[{label:"Value",name:"value",value:""},{label:"Label",name:"label"}]},value:[],required:!0}])}(),function(){inputEx.EmailField=function(e){inputEx.EmailField.superclass.constructor.call(this,e)},YAHOO.lang.extend(inputEx.EmailField,inputEx.StringField,{setOptions:function(e){inputEx.EmailField.superclass.setOptions.call(this,e),this.options.messages.invalid=inputEx.messages.invalidEmail,this.options.regexp=inputEx.regexps.email,this.options.fixdomain=YAHOO.lang.isUndefined(e.fixdomain)?!1:!!e.fixdomain},validateDomain:function(){var e,t,i,n,s,o,r,a;for(i=this.getValue(),n=i.split("@")[1],s=[["gmail.com","gmail.com.br","_gmail.com","g-mail.com","g.mail.com","g_mail.com","gamail.com","gamil.com","gemail.com","ggmail.com","gimail.com","gmai.com","gmail.cim","gmail.co","gmaill.com","gmain.com","gmaio.com","gmal.com","gmali.com","gmeil.com","gmial.com","gmil.com","gtmail.com","igmail.com","gmail.fr"],["hotmail.co.uk","hotmail.com.uk"],["hotmail.com","hotmail.com.br","hotmail.br","0hotmail.com","8hotmail.com","_hotmail.com","ahotmail.com","ghotmail.com","gotmail.com","hatmail.com","hhotmail.com","ho0tmail.com","hogmail.com","hoimail.com","hoitmail.com","homail.com","homtail.com","hootmail.com","hopmail.com","hoptmail.com","hormail.com","hot.mail.com","hot_mail.com","hotail.com","hotamail.com","hotamil.com","hotemail.com","hotimail.com","hotlmail.com","hotmaail.com","hotmael.com","hotmai.com","hotmaial.com","hotmaiil.com","hotmail.acom","hotmail.bom","hotmail.ccom","hotmail.cm","hotmail.co","hotmail.coml","hotmail.comm","hotmail.con","hotmail.coom","hotmail.copm","hotmail.cpm","hotmail.lcom","hotmail.ocm","hotmail.om","hotmail.xom","hotmail2.com","hotmail_.com","hotmailc.com","hotmaill.com","hotmailo.com","hotmaio.com","hotmaiol.com","hotmais.com","hotmal.com","hotmall.com","hotmamil.com","hotmaol.com","hotmayl.com","hotmeil.com","hotmial.com","hotmil.com","hotmmail.com","hotmnail.com","hotmsil.com","hotnail.com","hotomail.com","hottmail.com","hotymail.com","hoymail.com","hptmail.com","htmail.com","htomail.com","ohotmail.com","otmail.com","rotmail.com","shotmail.com","hotmain.com"],["hotmail.fr","hotmail.ffr","hotmail.frr","hotmail.fr.br","hotmail.br","0hotmail.fr","8hotmail.fr","_hotmail.fr","ahotmail.fr","ghotmail.fr","gotmail.fr","hatmail.fr","hhotmail.fr","ho0tmail.fr","hogmail.fr","hoimail.fr","hoitmail.fr","homail.fr","homtail.fr","hootmail.fr","hopmail.fr","hoptmail.fr","hormail.fr","hot.mail.fr","hot_mail.fr","hotail.fr","hotamail.fr","hotamil.fr","hotemail.fr","hotimail.fr","hotlmail.fr","hotmaail.fr","hotmael.fr","hotmai.fr","hotmaial.fr","hotmaiil.fr","hotmail.frl","hotmail.frm","hotmail2.fr","hotmail_.fr","hotmailc.fr","hotmaill.fr","hotmailo.fr","hotmaio.fr","hotmaiol.fr","hotmais.fr","hotmal.fr","hotmall.fr","hotmamil.fr","hotmaol.fr","hotmayl.fr","hotmeil.fr","hotmial.fr","hotmil.fr","hotmmail.fr","hotmnail.fr","hotmsil.fr","hotnail.fr","hotomail.fr","hottmail.fr","hotymail.fr","hoymail.fr","hptmail.fr","htmail.fr","htomail.fr","ohotmail.fr","otmail.fr","rotmail.fr","shotmail.fr","hotmain.fr"],["yahoo.co.in","yaho.co.in","yahoo.co.cn","yahoo.co.n","yahoo.co.on","yahoo.coin","yahoo.com.in","yahoo.cos.in","yahoo.oc.in","yaoo.co.in","yhoo.co.in"],["yahoo.com.br","1yahoo.com.br","5yahoo.com.br","_yahoo.com.br","ayhoo.com.br","tahoo.com.br","uahoo.com.br","yagoo.com.br","yahho.com.br","yaho.com.br","yahoo.cm.br","yahoo.co.br","yahoo.com.ar","yahoo.com.b","yahoo.com.be","yahoo.com.ber","yahoo.com.bl","yahoo.com.brr","yahoo.com.brv","yahoo.com.bt","yahoo.com.nr","yahoo.coml.br","yahoo.con.br","yahoo.om.br","yahool.com.br","yahooo.com.br","yahoou.com.br","yaoo.com.br","yaroo.com.br","yhaoo.com.br","yhoo.com.br","yuhoo.com.br"],["yahoo.com","yahoomail.com","_yahoo.com","ahoo.com","ayhoo.com","eyahoo.com","hahoo.com","sahoo.com","yahho.com","yaho.com","yahol.com","yahoo.co","yahoo.con","yahoo.vom","yahoo0.com","yahoo1.com","yahool.com","yahooo.com","yahoou.com","yahoow.com","yahopo.com","yaloo.com","yaoo.com","yaroo.com","yayoo.com","yhaoo.com","yhoo.com","yohoo.com"],["yahoo.fr","yahoomail.fr","_yahoo.fr","ahoo.fr","ayhoo.fr","eyahoo.fr","hahoo.fr","sahoo.fr","yahho.fr","yaho.fr","yahol.fr","yahoo.co","yahoo.con","yahoo.vom","yahoo0.fr","yahoo1.fr","yahool.fr","yahooo.fr","yahoou.fr","yahoow.fr","yahopo.fr","yaloo.fr","yaoo.fr","yaroo.fr","yayoo.fr","yhaoo.fr","yhoo.fr","yohoo.fr"],["wanadoo.fr","wanadoo.frr","wanadoo.ffr","wanado.fr","wanadou.fr","wanadop.fr","wandoo.fr","wanaoo.fr","wannadoo.fr","wanadoo.com","wananadoo.fr","wanadoo.fe","wanaddo.fr","wanadoo.orange","waqnadoo.fr","wandaoo.fr","wannado.fr"],["msn.com","mns.com","msn.co"],["aol.com","aoel.com","aol.co"]],e=0,o=s.length;o>e;e++)for(r=s[e],t=0,a=r.length;a>t;t++)if(0===r.indexOf(n)){if(n===r[t])return!0}else if(n===r[t]){var l=YAHOO.util.Dom.generateId(),u=this;return YAHOO.util.Event.addListener(l,"click",function(e){YAHOO.util.Event.stopEvent(e);var t=new RegExp(n,"i"),s=i.replace(t,r[0]);u.setValue(s)}),this.options.messages.invalid=inputEx.messages.didYouMeant+"<a href='' id='"+l+"' style='color:blue;'>@"+r[0]+" ?</a>",!1}return!0},validate:function(){var e=inputEx.EmailField.superclass.validate.call(this);return this.options.fixdomain?(this.options.messages.invalid=inputEx.messages.invalidEmail,e&&this.validateDomain()):e},getValue:function(){var e;return e=inputEx.EmailField.superclass.getValue.call(this),inputEx.removeAccents(e.toLowerCase())}}),inputEx.messages.invalidEmail="Invalid email, ex: sample@test.com",inputEx.messages.didYouMeant="Did you mean : ",inputEx.registerType("email",inputEx.EmailField,[])}(),function(){var e=YAHOO.lang;inputEx.UrlField=function(e){inputEx.UrlField.superclass.constructor.call(this,e)},e.extend(inputEx.UrlField,inputEx.StringField,{setOptions:function(t){inputEx.UrlField.superclass.setOptions.call(this,t),this.options.className=t.className?t.className:"inputEx-Field inputEx-UrlField",this.options.messages.invalid=inputEx.messages.invalidUrl,this.options.favicon=e.isUndefined(t.favicon)?"https:"==document.location.protocol?!1:!0:t.favicon,this.options.size=t.size||50,this.options.regexp=inputEx.regexps.url},render:function(){inputEx.UrlField.superclass.render.call(this),this.el.size=this.options.size,this.options.favicon||YAHOO.util.Dom.addClass(this.el,"nofavicon"),this.options.favicon&&(this.favicon=inputEx.cn("img",{src:inputEx.spacerUrl}),this.fieldContainer.insertBefore(this.favicon,this.fieldContainer.childNodes[0]),YAHOO.util.Event.addListener(this.favicon,"click",function(){this.focus()},this,!0))},setClassFromState:function(){inputEx.UrlField.superclass.setClassFromState.call(this),this.options.favicon&&this.updateFavicon(this.previousState==inputEx.stateValid?this.getValue():null)},updateFavicon:function(e){var t=e?e.match(/https?:\/\/[^\/]*/)+"/favicon.ico":inputEx.spacerUrl;if(t!=this.favicon.src){inputEx.sn(this.favicon,null,{visibility:"hidden"}),this.favicon.src=t,this.timer&&clearTimeout(this.timer);var i=this;this.timer=setTimeout(function(){i.displayFavicon()},1e3)}},displayFavicon:function(){inputEx.sn(this.favicon,null,{visibility:0!=this.favicon.naturalWidth?"visible":"hidden"})}}),inputEx.messages.invalidUrl="Invalid URL, ex: http://www.test.com",inputEx.registerType("url",inputEx.UrlField,[{type:"boolean",label:"Display favicon",name:"favicon",value:!0}])}(),function(){var e=YAHOO.lang,t=YAHOO.util.Event,i=YAHOO.util.Dom;inputEx.ListField=function(e){this.subFields=[],inputEx.ListField.superclass.constructor.call(this,e)},e.extend(inputEx.ListField,inputEx.Field,{setOptions:function(t){inputEx.ListField.superclass.setOptions.call(this,t),this.options.className=t.className?t.className:"inputEx-Field inputEx-ListField",this.options.sortable=e.isUndefined(t.sortable)?!1:t.sortable,this.options.elementType=t.elementType||{type:"string"},this.options.useButtons=e.isUndefined(t.useButtons)?!1:t.useButtons,this.options.unique=e.isUndefined(t.unique)?!1:t.unique,this.options.listAddLabel=t.listAddLabel||inputEx.messages.listAddLink,this.options.listRemoveLabel=t.listRemoveLabel||inputEx.messages.listRemoveLink,this.options.maxItems=t.maxItems,this.options.minItems=t.minItems},renderComponent:function(){this.options.useButtons&&(this.addButton=inputEx.cn("img",{src:inputEx.spacerUrl,className:"inputEx-ListField-addButton"}),this.fieldContainer.appendChild(this.addButton)),this.fieldContainer.appendChild(inputEx.cn("span",null,{marginLeft:"4px"},this.options.listLabel)),this.childContainer=inputEx.cn("div",{className:"inputEx-ListField-childContainer"}),this.fieldContainer.appendChild(this.childContainer),this.options.useButtons||(this.addButton=inputEx.cn("a",{className:"inputEx-List-link"},null,this.options.listAddLabel),this.fieldContainer.appendChild(this.addButton))},initEvents:function(){t.addListener(this.addButton,"click",this.onAddButton,this,!0)},validate:function(){var t=!0,i={},n=this.subFields.length;e.isNumber(this.options.minItems)&&n<this.options.minItems&&(t=!1),e.isNumber(this.options.maxItems)&&n>this.options.maxItems&&(t=!1);for(var s=0;n>s&&t;s++){var o=this.subFields[s];o.setClassFromState();var r=o.getState();if((r==inputEx.stateRequired||r==inputEx.stateInvalid)&&(t=!1),this.options.unique){var a=e.dump(o.getValue());i[a]?t=!1:i[a]=!0}}return t},setValue:function(t,i){if(!e.isArray(t))throw new Error("inputEx.ListField.setValue expected an array, got "+typeof t);for(var n=0;n<t.length;n++)n==this.subFields.length?this.addElement(t[n]):this.subFields[n].setValue(t[n],!1);var s=this.subFields.length-t.length;if(s>0)for(n=0;s>n;n++)this.removeElement(t.length);inputEx.ListField.superclass.setValue.call(this,t,i)},getValue:function(){for(var e=[],t=0;t<this.subFields.length;t++)e[t]=this.subFields[t].getValue();return e},addElement:function(e){var t=this.renderSubField(e);return this.subFields.push(t),t},onAddButton:function(i){if(t.stopEvent(i),!(e.isNumber(this.options.maxItems)&&this.subFields.length>=this.options.maxItems)){var n=this.addElement();n.focus(),this.fireUpdatedEvt()}},renderSubField:function(n){var s,o=inputEx.cn("div");this.options.useButtons&&(s=inputEx.cn("img",{src:inputEx.spacerUrl,className:"inputEx-ListField-delButton"}),t.addListener(s,"click",this.onDelete,this,!0),o.appendChild(s));var r=e.merge({},this.options.elementType);e.isObject(r.inputParams)&&!e.isUndefined(n)?r.inputParams.value=n:e.isUndefined(n)||(r.value=n);var a=inputEx(r,this),l=a.getEl();if(i.setStyle(l,"margin-left","4px"),i.setStyle(l,"float","left"),o.appendChild(l),a.updatedEvt.subscribe(this.onChange,this,!0),this.options.sortable){var u=inputEx.cn("div",{className:"inputEx-ListField-Arrow inputEx-ListField-ArrowUp"});t.addListener(u,"click",this.onArrowUp,this,!0);var c=inputEx.cn("div",{className:"inputEx-ListField-Arrow inputEx-ListField-ArrowDown"});t.addListener(c,"click",this.onArrowDown,this,!0),o.appendChild(u),o.appendChild(c)}return this.options.useButtons||(s=inputEx.cn("a",{className:"inputEx-List-link"},null,this.options.listRemoveLabel),t.addListener(s,"click",this.onDelete,this,!0),o.appendChild(s)),o.appendChild(inputEx.cn("div",null,{clear:"both"})),this.childContainer.appendChild(o),a},onArrowUp:function(e){for(var n=t.getTarget(e).parentNode,s=null,o=-1,r=1;r<n.parentNode.childNodes.length;r++){var a=n.parentNode.childNodes[r];if(a==n){s=n.parentNode.childNodes[r-1],o=r;break}}if(s){var l=this.childContainer.removeChild(n),u=this.childContainer.insertBefore(l,s),c=this.subFields[o];this.subFields[o]=this.subFields[o-1],this.subFields[o-1]=c,this.arrowAnim&&this.arrowAnim.stop(!0),this.arrowAnim=new YAHOO.util.ColorAnim(u,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},.4),this.arrowAnim.onComplete.subscribe(function(){i.setStyle(u,"background-color","")}),this.arrowAnim.animate(),this.fireUpdatedEvt()}},onArrowDown:function(e){for(var n=t.getTarget(e).parentNode,s=-1,o=null,r=0;r<n.parentNode.childNodes.length;r++){var a=n.parentNode.childNodes[r];if(a==n){o=n.parentNode.childNodes[r+1],s=r;break}}if(o){var l=this.childContainer.removeChild(n),u=i.insertAfter(l,o),c=this.subFields[s];this.subFields[s]=this.subFields[s+1],this.subFields[s+1]=c,this.arrowAnim&&this.arrowAnim.stop(!0),this.arrowAnim=new YAHOO.util.ColorAnim(u,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},1),this.arrowAnim.onComplete.subscribe(function(){i.setStyle(u,"background-color","")}),this.arrowAnim.animate(),this.fireUpdatedEvt()}},onDelete:function(i){if(t.stopEvent(i),!(e.isNumber(this.options.minItems)&&this.subFields.length<=this.options.minItems)){for(var n=t.getTarget(i).parentNode,s=-1,o=n.childNodes[this.options.useButtons?1:0],r=0;r<this.subFields.length;r++)if(this.subFields[r].getEl()==o){s=r;break}-1!=s&&this.removeElement(s),this.fireUpdatedEvt()}},removeElement:function(e){var t=this.subFields[e].getEl().parentNode;this.subFields[e]=void 0,this.subFields=inputEx.compactArray(this.subFields),t.parentNode.removeChild(t)}}),inputEx.registerType("list",inputEx.ListField,[{type:"string",label:"List label",name:"listLabel",value:""},{type:"type",label:"List element type",required:!0,name:"elementType"}]),inputEx.messages.listAddLink="Add",inputEx.messages.listRemoveLink="remove"}(),function(){var e=YAHOO.lang,t=YAHOO.util.Event;YAHOO.util.Dom,inputEx.CheckBox=function(e){inputEx.CheckBox.superclass.constructor.call(this,e)},e.extend(inputEx.CheckBox,inputEx.Field,{setOptions:function(e){inputEx.CheckBox.superclass.setOptions.call(this,e),this.options.className=e.className?e.className:"inputEx-Field inputEx-CheckBox",this.options.rightLabel=e.rightLabel||"",this.sentValues=e.sentValues||[!0,!1],this.options.sentValues=this.sentValues,this.checkedValue=this.sentValues[0],this.uncheckedValue=this.sentValues[1]},renderComponent:function(){var e=this.divEl.id?this.divEl.id+"-field":YAHOO.util.Dom.generateId();this.el=inputEx.cn("input",{id:e,type:"checkbox"}),this.fieldContainer.appendChild(this.el),this.rightLabelEl=inputEx.cn("label",{"for":e,className:"inputEx-CheckBox-rightLabel"},null,this.options.rightLabel),this.fieldContainer.appendChild(this.rightLabelEl),this.hiddenEl=inputEx.cn("input",{type:"hidden",name:this.options.name||"",value:this.uncheckedValue}),this.fieldContainer.appendChild(this.hiddenEl)},initEvents:function(){YAHOO.env.ua.ie?t.addListener(this.el,"click",function(e){YAHOO.lang.later(10,this,function(){this.onChange(e)})},this,!0):t.addListener(this.el,"change",this.onChange,this,!0),t.addFocusListener(this.el,this.onFocus,this,!0),t.addBlurListener(this.el,this.onBlur,this,!0)},onChange:function(e){this.hiddenEl.value=this.el.checked?this.checkedValue:this.uncheckedValue,inputEx.CheckBox.superclass.onChange.call(this,e)},getValue:function(){return this.el.checked?this.checkedValue:this.uncheckedValue},setValue:function(e,t){e===this.checkedValue||"string"==typeof e&&"boolean"==typeof this.checkedValue&&e===String(this.checkedValue)?(this.hiddenEl.value=this.checkedValue,this.el.checked=!0,6===YAHOO.env.ua.ie&&this.el.setAttribute("defaultChecked","checked")):(this.hiddenEl.value=this.uncheckedValue,this.el.checked=!1,6===YAHOO.env.ua.ie&&this.el.removeAttribute("defaultChecked")),inputEx.CheckBox.superclass.setValue.call(this,e,t)},disable:function(){this.el.disabled=!0},enable:function(){this.el.disabled=!1}}),inputEx.registerType("boolean",inputEx.CheckBox,[{type:"string",label:"Right Label",name:"rightLabel"}])}(),function(){YAHOO.util.Event,inputEx.Textarea=function(e){inputEx.Textarea.superclass.constructor.call(this,e)},YAHOO.lang.extend(inputEx.Textarea,inputEx.StringField,{setOptions:function(e){inputEx.Textarea.superclass.setOptions.call(this,e),this.options.rows=e.rows||6,this.options.cols=e.cols||23,this.options.readonly=!!e.readonly},renderComponent:function(){this.wrapEl=inputEx.cn("div",{className:"inputEx-StringField-wrapper"});var e={};e.id=this.divEl.id?this.divEl.id+"-field":YAHOO.util.Dom.generateId(),e.rows=this.options.rows,e.cols=this.options.cols,this.options.name&&(e.name=this.options.name),this.options.readonly&&(e.readonly="readonly"),this.el=inputEx.cn("textarea",e,null,this.options.value),this.wrapEl.appendChild(this.el),this.fieldContainer.appendChild(this.wrapEl)},validate:function(){var e=inputEx.Textarea.superclass.validate.call(this);return this.options.maxLength&&(e=e&&this.getValue().length<=this.options.maxLength),e},getStateString:function(e){return e==inputEx.stateInvalid&&this.options.minLength&&this.el.value.length<this.options.minLength?inputEx.messages.stringTooShort[0]+this.options.minLength+inputEx.messages.stringTooShort[1]:e==inputEx.stateInvalid&&this.options.maxLength&&this.el.value.length>this.options.maxLength?inputEx.messages.stringTooLong[0]+this.options.maxLength+inputEx.messages.stringTooLong[1]:inputEx.Textarea.superclass.getStateString.call(this,e)},insert:function(e){var t,i,n;document.selection?(this.el.focus(),t=document.selection.createRange(),t.text=e):this.el.selectionStart||"0"==this.el.selectionStart?(i=this.el.selectionStart,n=this.el.selectionEnd,this.el.value=this.el.value.substring(0,i)+e+this.el.value.substring(n,this.el.value.length)):this.el.value+=e}}),inputEx.messages.stringTooLong=["This field should contain at most "," numbers or characters"],inputEx.registerType("text",inputEx.Textarea,[{type:"integer",label:"Rows",name:"rows",value:6},{type:"integer",label:"Cols",name:"cols",value:23}])}(),function(){var e=YAHOO.lang,t=YAHOO.util.Event,i=YAHOO.util.Dom,n="inputEx-InPlaceEdit-";inputEx.InPlaceEdit=function(e){inputEx.InPlaceEdit.superclass.constructor.call(this,e)},e.extend(inputEx.InPlaceEdit,inputEx.Field,{setOptions:function(e){inputEx.InPlaceEdit.superclass.setOptions.call(this,e),this.options.visu=e.visu,this.options.editorField=e.editorField,this.options.buttonTypes=e.buttonTypes||{ok:"submit",cancel:"link"},this.options.animColors=e.animColors||null},renderComponent:function(){this.renderVisuDiv(),this.renderEditor()},renderEditor:function(){this.editorContainer=inputEx.cn("div",{className:n+"editor"},{display:"none"}),this.editorField=inputEx(this.options.editorField,this);var e=this.editorField.getEl();this.editorContainer.appendChild(e),i.addClass(e,n+"editorDiv"),this.okButton=new inputEx.widget.Button({type:this.options.buttonTypes.ok,parentEl:this.editorContainer,value:inputEx.messages.okEditor,className:"inputEx-Button "+n+"OkButton",onClick:{fn:this.onOkEditor,scope:this}}),this.cancelLink=new inputEx.widget.Button({type:this.options.buttonTypes.cancel,parentEl:this.editorContainer,value:inputEx.messages.cancelEditor,className:"inputEx-Button "+n+"CancelLink",onClick:{fn:this.onCancelEditor,scope:this}}),this.editorContainer.appendChild(inputEx.cn("div",null,{clear:"both"})),this.fieldContainer.appendChild(this.editorContainer)},onVisuMouseOver:function(){this.colorAnim&&this.colorAnim.stop(!0),inputEx.sn(this.formattedContainer,null,{backgroundColor:this.options.animColors.from})},onVisuMouseOut:function(){this.colorAnim&&this.colorAnim.stop(!0),this.colorAnim=new YAHOO.util.ColorAnim(this.formattedContainer,{backgroundColor:this.options.animColors},1),this.colorAnim.onComplete.subscribe(function(){i.setStyle(this.formattedContainer,"background-color","")},this,!0),this.colorAnim.animate()},renderVisuDiv:function(){this.formattedContainer=inputEx.cn("div",{className:"inputEx-InPlaceEdit-visu"}),e.isFunction(this.options.formatDom)?this.formattedContainer.appendChild(this.options.formatDom(this.options.value)):this.formattedContainer.innerHTML=e.isFunction(this.options.formatValue)?this.options.formatValue(this.options.value):e.isUndefined(this.options.value)?inputEx.messages.emptyInPlaceEdit:this.options.value,this.fieldContainer.appendChild(this.formattedContainer)},initEvents:function(){t.addListener(this.formattedContainer,"click",this.openEditor,this,!0),this.options.animColors&&(t.addListener(this.formattedContainer,"mouseover",this.onVisuMouseOver,this,!0),t.addListener(this.formattedContainer,"mouseout",this.onVisuMouseOut,this,!0)),this.editorField.el&&(t.addListener(this.editorField.el,"keyup",this.onKeyUp,this,!0),t.addListener(this.editorField.el,"keydown",this.onKeyDown,this,!0))},onKeyUp:function(e){13==e.keyCode&&this.onOkEditor(e),27==e.keyCode&&this.onCancelEditor(e)},onKeyDown:function(e){9==e.keyCode&&this.onOkEditor(e)},onOkEditor:function(e){t.stopEvent(e);var i=this.editorField.getValue();this.setValue(i),this.editorContainer.style.display="none",this.formattedContainer.style.display="";var n=this;setTimeout(function(){n.updatedEvt.fire(i)},50)},onCancelEditor:function(e){t.stopEvent(e),this.editorContainer.style.display="none",this.formattedContainer.style.display=""},openEditor:function(){var t=this.getValue();this.editorContainer.style.display="",this.formattedContainer.style.display="none",e.isUndefined(t)||this.editorField.setValue(t),this.editorField.focus(),this.editorField.el&&e.isFunction(this.editorField.el.setSelectionRange)&&t&&t.length&&this.editorField.el.setSelectionRange(0,t.length)},getValue:function(){var e=""==this.editorContainer.style.display;return e?this.editorField.getValue():this.value},setValue:function(t,i){this.value=t,e.isUndefined(t)||""==t?inputEx.renderVisu(this.options.visu,inputEx.messages.emptyInPlaceEdit,this.formattedContainer):inputEx.renderVisu(this.options.visu,this.value,this.formattedContainer),""==this.editorContainer.style.display&&this.editorField.setValue(t),inputEx.InPlaceEdit.superclass.setValue.call(this,t,i)},close:function(){this.editorContainer.style.display="none",this.formattedContainer.style.display=""}}),inputEx.messages.emptyInPlaceEdit="(click to edit)",inputEx.messages.cancelEditor="cancel",inputEx.messages.okEditor="Ok",inputEx.registerType("inplaceedit",inputEx.InPlaceEdit,[{type:"type",label:"Editor",name:"editorField"}])}(),function(){var e=YAHOO.util.Event,t=YAHOO.util.Dom,i=YAHOO.lang;inputEx.TypeField=function(e){inputEx.TypeField.superclass.constructor.call(this,e),this.updateFieldValue()},i.extend(inputEx.TypeField,inputEx.Field,{renderComponent:function(){this.fieldValueWrapper=inputEx.cn("div",{className:"inputEx-TypeField-FieldValueWrapper"}),this.fieldContainer.appendChild(this.fieldValueWrapper),this.propertyPanel=inputEx.cn("div",{className:"inputEx-TypeField-PropertiesPanel"},{display:"none"});var e=[];for(var t in inputEx.typeClasses)inputEx.typeClasses.hasOwnProperty(t)&&e.push({value:t});this.typeSelect=new inputEx.SelectField({label:"Type",choices:e,parentEl:this.propertyPanel}),this.groupOptionsWrapper=inputEx.cn("div"),this.propertyPanel.appendChild(this.groupOptionsWrapper),this.button=inputEx.cn("div",{className:"inputEx-TypeField-EditButton"}),this.button.appendChild(this.propertyPanel),this.fieldContainer.appendChild(this.button),this.rebuildGroupOptions()},initEvents:function(){inputEx.TypeField.superclass.initEvents.call(this),e.addListener(this.button,"click",this.onTogglePropertiesPanel,this,!0),e.addListener(this.propertyPanel,"click",function(t){e.stopPropagation(t)},this,!0),this.typeSelect.updatedEvt.subscribe(this.rebuildGroupOptions,this,!0)},rebuildGroupOptions:function(){try{var e=null;this.group&&(e=this.group.getValue(),this.group.close(),this.group.destroy(),this.groupOptionsWrapper.innerHTML="");var t=inputEx.getFieldClass(this.typeSelect.getValue()),i={fields:t.groupOptions,parentEl:this.groupOptionsWrapper};this.group=new inputEx.Group(i),e&&this.group.setValue({name:e.name,label:e.label}),this.group.updatedEvt.subscribe(this.onChangeGroupOptions,this,!0),this.updateFieldValue()}catch(n){YAHOO.lang.isObject(window.console)&&YAHOO.lang.isFunction(window.console.log)&&console.log("inputEx.TypeField.rebuildGroupOptions: ",n)}},onTogglePropertiesPanel:function(){"none"==this.propertyPanel.style.display?(this.propertyPanel.style.display="",t.addClass(this.button,"opened")):(this.propertyPanel.style.display="none",t.removeClass(this.button,"opened"))},onChangeGroupOptions:function(){this.updateFieldValue(),this.fireUpdatedEvt()},updateFieldValue:function(){try{this.fieldValue&&(this.fieldValue.close(),this.fieldValue.destroy(),delete this.fieldValue,this.fieldValueWrapper.innerHTML="");var e=this.group.getValue();e.type=this.getValue().type,e.parentEl=this.fieldValueWrapper,this.fieldValue=inputEx(e,this),this.fieldValue.updatedEvt.subscribe(this.fireUpdatedEvt,this,!0)}catch(t){console.log("Error while updateFieldValue",t.message)}},setValue:function(e,t){this.typeSelect.setValue(e.type,!1),this.rebuildGroupOptions(),i.isObject(e.inputParams)?this.group.setValue(e.inputParams,!1):this.group.setValue(e,!1),this.updateFieldValue(),i.isObject(e.inputParams)&&!i.isUndefined(e.inputParams.value)?this.fieldValue.setValue(e.inputParams.value):i.isUndefined(e.value)||this.fieldValue.setValue(e.value),t!==!1&&this.fireUpdatedEvt()},getValue:function(){var e=function(e,t){var n,s,o=e.groupOptions.length;for(n=0;o>n;n++){if(s=e.groupOptions[n],i.isObject(s.inputParams)&&s.inputParams.name==t)return s.inputParams.value;if(s.name==t)return s.value}return void 0},t=this.group.getValue(),n=inputEx.getFieldClass(this.typeSelect.getValue());for(var s in t)if(t.hasOwnProperty(s)){var o=e(n,s),r=t[s];o==r&&(t[s]=void 0)}return t.type=this.typeSelect.getValue(),this.fieldValue&&(t.value=this.fieldValue.getValue()),t}}),inputEx.registerType("type",inputEx.TypeField,[])}();var WireIt={defaultWireClass:"WireIt.BezierArrowWire",wireClassFromXtype:function(e){return this.classFromXtype(e,this.defaultWireClass)},defaultTerminalClass:"WireIt.Terminal",terminalClassFromXtype:function(e){return this.classFromXtype(e,this.defaultTerminalClass)},defaultContainerClass:"WireIt.Container",containerClassFromXtype:function(e){return this.classFromXtype(e,this.defaultContainerClass)},classFromXtype:function(e,t){for(var i=(e||t).split("."),n=window,s=0;s<i.length;s++)n=n[i[s]];if(!YAHOO.lang.isFunction(n))throw new Error("WireIt unable to find klass from xtype: '"+e+"'");return n},getIntStyle:function(e,t){var i=YAHOO.util.Dom.getStyle(e,t);return parseInt(i.substr(0,i.length-2),10)},sn:function(e,t,i){if(e){var n;if(t)for(n in t)if(t.hasOwnProperty(n)){var s=t[n];if("function"==typeof s)continue;"className"==n&&(n="class",e.className=s),s!==e.getAttribute(n)&&(s===!1?e.removeAttribute(n):e.setAttribute(n,s))}if(i)for(n in i)if(i.hasOwnProperty(n)){if("function"==typeof i[n])continue;e.style[n]!=i[n]&&(e.style[n]=i[n])}}},cn:function(e,t,i,n){var s=document.createElement(e);return this.sn(s,t,i),n&&(s.innerHTML=n),s},indexOf:YAHOO.lang.isFunction(Array.prototype.indexOf)?function(e,t){return t.indexOf(e)}:function(e,t){for(var i=0;i<t.length;i++)if(t[i]==e)return i;return-1},compact:YAHOO.lang.isFunction(Array.prototype.compact)?function(e){return e.compact()}:function(e){for(var t=[],i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t}};WireIt.util={},function(){var e=YAHOO.util.Event,t=YAHOO.env.ua;WireIt.CanvasElement=function(e){this.element=document.createElement("canvas"),e.appendChild(this.element),"undefined"!=typeof G_vmlCanvasManager&&(this.element=G_vmlCanvasManager.initElement(this.element))},WireIt.CanvasElement.prototype={getContext:function(e){return this.element.getContext(e||"2d")},destroy:function(){var t=this.element;YAHOO.util.Dom.inDocument(t)&&t.parentNode.removeChild(t),e.purgeElement(t,!0)},SetCanvasRegion:t.ie?function(e,t,i,n){var s=this.element;WireIt.sn(s,null,{left:e+"px",top:t+"px",width:i+"px",height:n+"px"}),s.getContext("2d").clearRect(0,0,i,n),this.element=s}:t.webkit||t.opera?function(t,i,n,s){var o=this.element,r=WireIt.cn("canvas",{className:o.className||o.getAttribute("class"),width:n,height:s},{left:t+"px",top:i+"px"}),a=e.getListeners(o);for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];e.addListener(r,u.type,u.fn,u.obj,u.adjust)}e.purgeElement(o),o.parentNode.replaceChild(r,o),this.element=r}:function(e,t,i,n){WireIt.sn(this.element,{width:i,height:n},{left:e+"px",top:t+"px"})
}}}(),WireIt.Wire=function(e,t,i,n){this.parentEl=i,this.terminal1=e,this.terminal2=t,this.eventMouseClick=new YAHOO.util.CustomEvent("eventMouseClick"),this.eventMouseIn=new YAHOO.util.CustomEvent("eventMouseIn"),this.eventMouseOut=new YAHOO.util.CustomEvent("eventMouseOut"),this.eventMouseMove=new YAHOO.util.CustomEvent("eventMouseMove"),this.setOptions(n||{}),WireIt.Wire.superclass.constructor.call(this,this.parentEl),YAHOO.util.Dom.addClass(this.element,this.className),this.label&&this.renderLabel(),this.terminal1.addWire(this),this.terminal2.addWire(this)},YAHOO.lang.extend(WireIt.Wire,WireIt.CanvasElement,{xtype:"WireIt.Wire",className:"WireIt-Wire",cap:"round",bordercap:"round",width:3,borderwidth:1,color:"rgb(173, 216, 230)",bordercolor:"#0000ff",label:null,labelStyle:null,labelEditor:null,setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},remove:function(){this.parentEl.removeChild(this.element),this.terminal1&&this.terminal1.removeWire&&this.terminal1.removeWire(this),this.terminal2&&this.terminal2.removeWire&&this.terminal2.removeWire(this),this.terminal1=null,this.terminal2=null,this.labelEl&&(this.labelField&&this.labelField.destroy(),this.labelEl.innerHTML="")},getOtherTerminal:function(e){return e==this.terminal1?this.terminal2:this.terminal1},draw:function(){var e=[4,4],t=this.terminal1.getXY(),i=this.terminal2.getXY(),n=[Math.min(t[0],i[0])-e[0],Math.min(t[1],i[1])-e[1]],s=[Math.max(t[0],i[0])+e[0],Math.max(t[1],i[1])+e[1]];this.min=n,this.max=s;var o=Math.abs(s[0]-n[0]),r=Math.abs(s[1]-n[1]);t[0]=t[0]-n[0],t[1]=t[1]-n[1],i[0]=i[0]-n[0],i[1]=i[1]-n[1],this.SetCanvasRegion(n[0],n[1],o,r);var a=this.getContext();a.lineCap=this.bordercap,a.strokeStyle=this.bordercolor,a.lineWidth=this.width+2*this.borderwidth,a.beginPath(),a.moveTo(t[0],t[1]),a.lineTo(i[0],i[1]),a.stroke(),a.lineCap=this.cap,a.strokeStyle=this.color,a.lineWidth=this.width,a.beginPath(),a.moveTo(t[0],t[1]),a.lineTo(i[0],i[1]),a.stroke()},redraw:function(){this.draw(),this.label&&this.positionLabel()},renderLabel:function(){this.labelEl=WireIt.cn("div",{className:"WireIt-Wire-Label"},this.labelStyle),this.labelEditor?(this.labelField=new inputEx.InPlaceEdit({parentEl:this.labelEl,editorField:this.labelEditor,animColors:{from:"#FFFF99",to:"#DDDDFF"}}),this.labelField.setValue(this.label)):this.labelEl.innerHTML=this.label,this.element.parentNode.appendChild(this.labelEl)},setLabel:function(e){this.labelEditor?this.labelField.setValue(e):this.labelEl.innerHTML=e},positionLabel:function(){YAHOO.util.Dom.setStyle(this.labelEl,"left",(this.min[0]+this.max[0]-this.labelEl.clientWidth)/2),YAHOO.util.Dom.setStyle(this.labelEl,"top",(this.min[1]+this.max[1]-this.labelEl.clientHeight)/2)},wireDrawnAt:function(e,t){var i=this.getContext(),n=i.getImageData(e,t,1,1),s=n.data;return!(0===s[0]&&0===s[1]&&0===s[2]&&0===s[3])},onMouseMove:function(e,t){void 0===typeof this.mouseInState&&(this.mouseInState=!1),this.wireDrawnAt(e,t)?(this.mouseInState||(this.mouseInState=!0,this.onWireIn(e,t)),this.onWireMove(e,t)):this.mouseInState&&(this.mouseInState=!1,this.onWireOut(e,t))},onWireMove:function(e,t){this.eventMouseMove.fire(this,[e,t])},onWireIn:function(e,t){this.eventMouseIn.fire(this,[e,t])},onWireOut:function(e,t){this.eventMouseOut.fire(this,[e,t])},onClick:function(e,t){this.wireDrawnAt(e,t)&&this.onWireClick(e,t)},onWireClick:function(e,t){this.eventMouseClick.fire(this,[e,t])},getConfig:function(){var e={xtype:this.xtype};return this.labelEditor&&(e.label=this.labelField.getValue()),e}}),WireIt.StepWire=function(e,t,i,n){WireIt.StepWire.superclass.constructor.call(this,e,t,i,n)},YAHOO.lang.extend(WireIt.StepWire,WireIt.Wire,{xtype:"WireIt.StepWire",draw:function(){var e=[4,4],t=this.terminal1.getXY(),i=this.terminal2.getXY(),n=[Math.min(t[0],i[0])-e[0],Math.min(t[1],i[1])-e[1]],s=[Math.max(t[0],i[0])+e[0],Math.max(t[1],i[1])+e[1]],o=Math.abs(s[0]-n[0]),r=Math.abs(s[1]-n[1]);t[0]=t[0]-n[0],t[1]=t[1]-n[1],i[0]=i[0]-n[0],i[1]=i[1]-n[1];var a=[i[0],i[1]];i[1]=t[1],this.SetCanvasRegion(n[0],n[1],o,r);var l=this.getContext();l.lineCap=this.bordercap,l.strokeStyle=this.bordercolor,l.lineWidth=this.width+2*this.borderwidth,l.beginPath(),l.moveTo(t[0],t[1]),l.lineTo(i[0],i[1]),l.lineTo(a[0],a[1]),l.stroke(),l.lineCap=this.cap,l.strokeStyle=this.color,l.lineWidth=this.width,l.beginPath(),l.moveTo(t[0],t[1]),l.lineTo(i[0],i[1]),l.lineTo(a[0],a[1]),l.stroke()}}),WireIt.ArrowWire=function(e,t,i,n){WireIt.ArrowWire.superclass.constructor.call(this,e,t,i,n)},YAHOO.lang.extend(WireIt.ArrowWire,WireIt.Wire,{xtype:"WireIt.ArrowWire",draw:function(){var e=7,t=e+3,i=[4+t,4+t],n=this.terminal1.getXY(),s=this.terminal2.getXY(),o=Math.sqrt(Math.pow(n[0]-s[0],2)+Math.pow(n[1]-s[1],2)),r=[Math.min(n[0],s[0])-i[0],Math.min(n[1],s[1])-i[1]],a=[Math.max(n[0],s[0])+i[0],Math.max(n[1],s[1])+i[1]];this.min=r,this.max=a;var l=Math.abs(a[0]-r[0])+t,u=Math.abs(a[1]-r[1])+t;n[0]=n[0]-r[0],n[1]=n[1]-r[1],s[0]=s[0]-r[0],s[1]=s[1]-r[1],this.SetCanvasRegion(r[0],r[1],l,u);var c=this.getContext();c.lineCap=this.bordercap,c.strokeStyle=this.bordercolor,c.lineWidth=this.width+2*this.borderwidth,c.beginPath(),c.moveTo(n[0],n[1]),c.lineTo(s[0],s[1]),c.stroke(),c.lineCap=this.cap,c.strokeStyle=this.color,c.lineWidth=this.width,c.beginPath(),c.moveTo(n[0],n[1]),c.lineTo(s[0],s[1]),c.stroke();var h=n,d=s,p=[0,0],f=20,m=0===o?0:1-f/o;p[0]=Math.abs(h[0]+m*(d[0]-h[0])),p[1]=Math.abs(h[1]+m*(d[1]-h[1]));var g,v,b=h[0]-d[0],y=h[1]-d[1],E=h[0]*d[1]-h[1]*d[0];0!==b?(g=y/b,v=E/b):g=0;var C,w;C=0===g?0:-1/g,w=p[1]-C*p[0];var x=1+Math.pow(C,2),O=2*C*w-2*p[0]-2*p[1]*C,T=-2*p[1]*w+Math.pow(p[0],2)+Math.pow(p[1],2)-Math.pow(e,2)+Math.pow(w,2),_=Math.pow(O,2)-4*x*T;if(!(0>_)){var S=(-O+Math.sqrt(_))/(2*x),A=(-O-Math.sqrt(_))/(2*x),k=C*S+w,D=C*A+w;if(h[1]==d[1]){var I=h[0]>d[0]?1:-1;S=d[0]+I*f,A=S,k-=e,D+=e}c.fillStyle=this.color,c.beginPath(),c.moveTo(d[0],d[1]),c.lineTo(S,k),c.lineTo(A,D),c.fill(),c.strokeStyle=this.bordercolor,c.lineWidth=this.borderwidth,c.beginPath(),c.moveTo(d[0],d[1]),c.lineTo(S,k),c.lineTo(A,D),c.lineTo(d[0],d[1]),c.stroke()}}}),WireIt.BezierWire=function(e,t,i,n){WireIt.BezierWire.superclass.constructor.call(this,e,t,i,n)},YAHOO.lang.extend(WireIt.BezierWire,WireIt.Wire,{xtype:"WireIt.BezierWire",coeffMulDirection:100,draw:function(){var e=this.terminal1.getXY(),t=this.terminal2.getXY(),i=this.coeffMulDirection,n=Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2));i>n&&(i=n/2);var s=[this.terminal1.direction[0]*i,this.terminal1.direction[1]*i],o=[this.terminal2.direction[0]*i,this.terminal2.direction[1]*i],r=[];r[0]=e,r[1]=[e[0]+s[0],e[1]+s[1]],r[2]=[t[0]+o[0],t[1]+o[1]],r[3]=t;for(var a=[e[0],e[1]],l=[e[0],e[1]],u=1;u<r.length;u++){var c=r[u];c[0]<a[0]&&(a[0]=c[0]),c[1]<a[1]&&(a[1]=c[1]),c[0]>l[0]&&(l[0]=c[0]),c[1]>l[1]&&(l[1]=c[1])}var h=[4,4];a[0]=a[0]-h[0],a[1]=a[1]-h[1],l[0]=l[0]+h[0],l[1]=l[1]+h[1];var d=Math.abs(l[0]-a[0]),p=Math.abs(l[1]-a[1]);this.min=a,this.max=l,this.SetCanvasRegion(a[0],a[1],d,p);var f=this.getContext();for(u=0;u<r.length;u++)r[u][0]=r[u][0]-a[0],r[u][1]=r[u][1]-a[1];f.lineCap=this.bordercap,f.strokeStyle=this.bordercolor,f.lineWidth=this.width+2*this.borderwidth,f.beginPath(),f.moveTo(r[0][0],r[0][1]),f.bezierCurveTo(r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]),f.stroke(),f.lineCap=this.cap,f.strokeStyle=this.color,f.lineWidth=this.width,f.beginPath(),f.moveTo(r[0][0],r[0][1]),f.bezierCurveTo(r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]),f.stroke()}}),WireIt.BezierArrowWire=function(e,t,i,n){WireIt.BezierArrowWire.superclass.constructor.call(this,e,t,i,n)},YAHOO.lang.extend(WireIt.BezierArrowWire,WireIt.BezierWire,{xtype:"WireIt.BezierArrowWire",draw:function(){var e=Math.round(1.5*this.width+20),t=Math.round(1.2*this.width+20),i=e/2,n=i+3,s=[4+n,4+n],o=this.terminal1.getXY(),r=this.terminal2.getXY(),a=this.coeffMulDirection,l=Math.sqrt(Math.pow(o[0]-r[0],2)+Math.pow(o[1]-r[1],2));a>l&&(a=l/2);var u=[this.terminal1.direction[0]*a,this.terminal1.direction[1]*a],c=[this.terminal2.direction[0]*a,this.terminal2.direction[1]*a],h=[];h[0]=o,h[1]=[o[0]+u[0],o[1]+u[1]],h[2]=[r[0]+c[0],r[1]+c[1]],h[3]=r;for(var d=[o[0],o[1]],p=[o[0],o[1]],f=1;f<h.length;f++){var m=h[f];m[0]<d[0]&&(d[0]=m[0]),m[1]<d[1]&&(d[1]=m[1]),m[0]>p[0]&&(p[0]=m[0]),m[1]>p[1]&&(p[1]=m[1])}d[0]=d[0]-s[0],d[1]=d[1]-s[1],p[0]=p[0]+s[0],p[1]=p[1]+s[1];var g=Math.abs(p[0]-d[0]),v=Math.abs(p[1]-d[1]);this.min=d,this.max=p,this.SetCanvasRegion(d[0],d[1],g,v);var b=this.getContext();for(f=0;f<h.length;f++)h[f][0]=h[f][0]-d[0],h[f][1]=h[f][1]-d[1];b.lineCap=this.bordercap,b.strokeStyle=this.bordercolor,b.lineWidth=this.width+2*this.borderwidth,b.beginPath(),b.moveTo(h[0][0],h[0][1]),b.bezierCurveTo(h[1][0],h[1][1],h[2][0],h[2][1],h[3][0],h[3][1]+t/2*this.terminal2.direction[1]),b.stroke(),b.lineCap=this.cap,b.strokeStyle=this.color,b.lineWidth=this.width,b.beginPath(),b.moveTo(h[0][0],h[0][1]),b.bezierCurveTo(h[1][0],h[1][1],h[2][0],h[2][1],h[3][0],h[3][1]+t/2*this.terminal2.direction[1]),b.stroke();var y=h[2],E=r,C=[0,0],w=t,x=1-w/l;C[0]=Math.abs(y[0]+x*(E[0]-y[0])),C[1]=Math.abs(y[1]+x*(E[1]-y[1]));var O,T,_=y[0]-E[0],S=y[1]-E[1],A=y[0]*E[1]-y[1]*E[0];0!==_?(O=S/_,T=A/_):O=0;var k,D;k=0===O?0:-1/O,D=C[1]-k*C[0];var I=1+Math.pow(k,2),N=2*k*D-2*C[0]-2*C[1]*k,H=-2*C[1]*D+Math.pow(C[0],2)+Math.pow(C[1],2)-Math.pow(i,2)+Math.pow(D,2),P=Math.pow(N,2)-4*I*H;if(0>P)return!1;var L=(-N+Math.sqrt(P))/(2*I),F=(-N-Math.sqrt(P))/(2*I),R=k*L+D,M=k*F+D;if(y[1]==E[1]){var B=y[0]>E[0]?1:-1;L=E[0]+B*w,F=L,R-=i,M+=i}return b.fillStyle=this.color,b.beginPath(),b.moveTo(E[0],E[1]),b.lineTo(L,R),b.lineTo(F,M),b.fill(),b.strokeStyle=this.bordercolor,b.lineWidth=this.borderwidth,b.beginPath(),b.moveTo(E[0],E[1]),b.lineTo(L,R),b.lineTo(F,M),b.lineTo(E[0],E[1]),b.stroke(),[o,r,y,E]}}),function(){var e=YAHOO.util,t=e.Event,i=YAHOO.lang,n="WireIt-";WireIt.Scissors=function(e,t){WireIt.Scissors.superclass.constructor.call(this,document.createElement("div"),t),this._terminal=e,this.initScissors()},WireIt.Scissors.visibleInstance=null,i.extend(WireIt.Scissors,YAHOO.util.Element,{initScissors:function(){this.hideNow(),this.addClass(n+"Wire-scissors"),this.appendTo(this._terminal.container?this._terminal.container.layer.el:this._terminal.el.parentNode.parentNode),this.on("mouseover",this.show,this,!0),this.on("mouseout",this.hide,this,!0),this.on("click",this.scissorClick,this,!0),t.addListener(this._terminal.el,"mouseover",this.mouseOver,this,!0),t.addListener(this._terminal.el,"mouseout",this.hide,this,!0)},setPosition:function(){var e=this._terminal.getXY();this.setStyle("left",e[0]+30*this._terminal.direction[0]-8+"px"),this.setStyle("top",e[1]+30*this._terminal.direction[1]-8+"px")},mouseOver:function(){this._terminal.wires.length>0&&this.show()},scissorClick:function(){this._terminal.removeAllWires(),this.terminalTimeout&&this.terminalTimeout.cancel(),this.hideNow()},show:function(){this.setPosition(),this.setStyle("display",""),WireIt.Scissors.visibleInstance&&WireIt.Scissors.visibleInstance!=this&&(WireIt.Scissors.visibleInstance.terminalTimeout&&WireIt.Scissors.visibleInstance.terminalTimeout.cancel(),WireIt.Scissors.visibleInstance.hideNow()),WireIt.Scissors.visibleInstance=this,this.terminalTimeout&&this.terminalTimeout.cancel()},hide:function(){this.terminalTimeout=YAHOO.lang.later(700,this,this.hideNow)},hideNow:function(){WireIt.Scissors.visibleInstance=null,this.setStyle("display","none")}})}(),WireIt.Layer=function(e){if(this.setOptions(e),this.containers=[],this.wires=[],this.groups=[],this.el=null,this.eventChanged=new YAHOO.util.CustomEvent("eventChanged"),this.eventAddWire=new YAHOO.util.CustomEvent("eventAddWire"),this.eventRemoveWire=new YAHOO.util.CustomEvent("eventRemoveWire"),this.eventAddContainer=new YAHOO.util.CustomEvent("eventAddContainer"),this.eventRemoveContainer=new YAHOO.util.CustomEvent("eventRemoveContainer"),this.eventContainerDragged=new YAHOO.util.CustomEvent("eventContainerDragged"),this.eventContainerResized=new YAHOO.util.CustomEvent("eventContainerResized"),this.render(),e.containers&&this.initContainers(e.containers),e.wires&&this.initWires(e.wires),this.layerMap&&(this.layermap=new WireIt.LayerMap(this,this.layerMapOptions)),WireIt.Grouper){this.grouper=new WireIt.Grouper(this,this.grouper.baseConfigFunction);var t=this.grouper.rubberband;this.el.onmousedown=function(e){return t.layerMouseDown.call(t,e)};var i=this.grouper;this.el.addEventListener("mouseup",function(){t.finish(),i.rubberbandSelect.call(i)},!1)}},WireIt.Layer.prototype={className:"WireIt-Layer",parentEl:null,layerMap:!1,layerMapOptions:null,enableMouseEvents:!0,grouper:null,setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.parentEl||(this.parentEl=document.body)},render:function(){this.el=WireIt.cn("div",{className:this.className}),this.parentEl=$("#center").get(0),this.parentEl.appendChild(this.el)},initContainers:function(e){for(var t=0;t<e.length;t++)this.addContainer(e[t])},initWires:function(e){for(var t=0;t<e.length;t++)this.addWire(e[t])},setSuperHighlighted:function(e){this.unsetSuperHighlighted();for(var t in e)e.hasOwnProperty(t)&&e[t].superHighlight();this.superHighlighted=e},unsetSuperHighlighted:function(){if(YAHOO.lang.isValue(this.superHighlighted))for(var e in this.superHighlighted)this.superHighlighted.hasOwnProperty(e)&&this.superHighlighted[e].highlight();this.superHighlighted=null},addWire:function(e){var t=WireIt.wireClassFromXtype(e.xtype),i=e.src,n=e.tgt,s=this.containers[i.moduleId].getTerminal(i.terminal),o=this.containers[n.moduleId].getTerminal(n.terminal),r=new t(s,o,this.el,e);return r.redraw(),r},addContainer:function(e){var t=WireIt.containerClassFromXtype(e.xtype),i=new t(e,this);return this.addContainerDirect(i)},addContainerDirect:function(e){return this.containers.push(e),e.eventAddWire.subscribe(this.onAddWire,this,!0),e.eventRemoveWire.subscribe(this.onRemoveWire,this,!0),this.eventAddContainer.fire(e),this.eventChanged.fire(this),e},removeContainer:function(e){var t=WireIt.indexOf(e,this.containers);-1!=t&&(e.remove(),this.containers[t]=null,this.containers=WireIt.compact(this.containers),this.eventRemoveContainer.fire(e),this.eventChanged.fire(this))},removeGroup:function(e,t){var i,n=this.groups.indexOf(e);if(-1!=n&&this.groups.splice(n,1),t)if(YAHOO.lang.isValue(e.groupContainer))this.removeContainer(e.groupContainer);else{for(i in e.containers)if(e.containers.hasOwnProperty(i)){var s=e.containers[i].container;this.removeContainer(s)}for(i in e.groups)if(e.containers.hasOwnProperty(i)){var o=e.groups[i].group;this.removeGroup(o)}}},onAddWire:function(e,t){var i=t[0];-1==WireIt.indexOf(i,this.wires)&&(this.wires.push(i),this.enableMouseEvents&&(YAHOO.util.Event.addListener(i.element,"mousemove",this.onWireMouseMove,this,!0),YAHOO.util.Event.addListener(i.element,"click",this.onWireClick,this,!0)),this.eventAddWire.fire(i),this.eventChanged.fire(this))},onRemoveWire:function(e,t){var i=t[0],n=WireIt.indexOf(i,this.wires);-1!=n&&(this.wires[n]=null,this.wires=WireIt.compact(this.wires),this.eventRemoveWire.fire(i),this.eventChanged.fire(this))},clear:function(){for(;this.containers.length>0;)this.removeContainer(this.containers[0])},removeAllContainers:function(){this.clear()},getWiring:function(){var e,t={containers:[],wires:[]};for(e=0;e<this.containers.length;e++)t.containers.push(this.containers[e].getConfig());for(e=0;e<this.wires.length;e++){var i=this.wires[e],n=i.getConfig();n.src={moduleId:WireIt.indexOf(i.terminal1.container,this.containers),terminal:i.terminal1.name},n.tgt={moduleId:WireIt.indexOf(i.terminal2.container,this.containers),terminal:i.terminal2.name},t.wires.push(n)}return t},setWiring:function(e){this.clear();var t;if(YAHOO.lang.isArray(e.containers))for(t=0;t<e.containers.length;t++)this.addContainer(e.containers[t]);if(YAHOO.lang.isArray(e.wires))for(t=0;t<e.wires.length;t++)this.addWire(e.wires[t])},_getMouseEvtPos:function(e){var t=YAHOO.util.Event.getTarget(e),i=[t.offsetLeft,t.offsetTop];return[i[0]+e.layerX,i[1]+e.layerY]},onWireClick:function(e){for(var t,i=this._getMouseEvtPos(e),n=i[0],s=i[1],o=this.wires.length,r=0;o>r;r++){t=this.wires[r];var a=t.element.offsetLeft,l=t.element.offsetTop;if(n>=a&&n<a+t.element.width&&s>=l&&s<l+t.element.height){var u=n-a,c=s-l;t.onClick(u,c)}}},onWireMouseMove:function(e){for(var t,i=this._getMouseEvtPos(e),n=i[0],s=i[1],o=this.wires.length,r=0;o>r;r++){t=this.wires[r];var a=t.element.offsetLeft,l=t.element.offsetTop;if(n>=a&&n<a+t.element.width&&s>=l&&s<l+t.element.height){var u=n-a,c=s-l;t.onMouseMove(u,c)}}}},function(){var e=YAHOO.util.Dom,t=YAHOO.util.Event;WireIt.LayerMap=function(e,t){this.layer=e,this.setOptions(t),"string"==typeof t.parentEl?this.parentEl=YAHOO.util.Dom.get(t.parentEl):this.layer&&!this.parentEl&&(this.parentEl=this.layer.el),WireIt.LayerMap.superclass.constructor.call(this,this.parentEl),this.element.className=this.className,this.initEvents(),this.draw()},YAHOO.lang.extend(WireIt.LayerMap,WireIt.CanvasElement,{className:"WireIt-LayerMap",style:"rgba(0, 0, 200, 0.5)",parentEl:null,lineWidth:2,setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},initEvents:function(){var e=this.layer;t.addListener(this.element,"mousedown",this.onMouseDown,this,!0),t.addListener(this.element,"mouseup",this.onMouseUp,this,!0),t.addListener(this.element,"mousemove",this.onMouseMove,this,!0),t.addListener(this.element,"mouseout",this.onMouseUp,this,!0),e.eventAddWire.subscribe(this.draw,this,!0),e.eventRemoveWire.subscribe(this.draw,this,!0),e.eventAddContainer.subscribe(this.draw,this,!0),e.eventRemoveContainer.subscribe(this.draw,this,!0),e.eventContainerDragged.subscribe(this.draw,this,!0),e.eventContainerResized.subscribe(this.draw,this,!0),t.addListener(this.layer.el,"scroll",this.onLayerScroll,this,!0)},onMouseMove:function(e){t.stopEvent(e),this.isMouseDown&&this.scrollLayer(e.clientX,e.clientY)},onMouseUp:function(e){t.stopEvent(e),this.isMouseDown=!1},onMouseDown:function(e){t.stopEvent(e),this.scrollLayer(e.clientX,e.clientY),this.isMouseDown=!0},scrollLayer:function(t,i){var n=e.getXY(this.element),s=[t-n[0],i-n[1]],o=e.getRegion(this.element),r=o.right-o.left-4,a=o.bottom-o.top-4,l=this.layer.el.scrollWidth,u=this.layer.el.scrollHeight,c=Math.floor(100*r/l)/100,h=Math.floor(100*a/u)/100,d=[s[0]/c,s[1]/h],p=e.getRegion(this.layer.el),f=p.right-p.left,m=p.bottom-p.top,g=[Math.max(Math.floor(d[0]-f/2),0),Math.max(Math.floor(d[1]-m/2),0)];g[0]+f>l&&(g[0]=l-f),g[1]+m>u&&(g[1]=u-m),this.layer.el.scrollLeft=g[0],this.layer.el.scrollTop=g[1]},onLayerScroll:function(){this.scrollTimer&&window.clearTimeout(this.scrollTimer);var e=this;this.scrollTimer=window.setTimeout(function(){e.draw()},50)},draw:function(){var t=this.getContext(),i=e.getRegion(this.element),n=i.right-i.left-4,s=i.bottom-i.top-4;t.clearRect(0,0,n,s);var o=this.layer.el.scrollWidth,r=this.layer.el.scrollHeight,a=Math.floor(100*n/o)/100,l=Math.floor(100*s/r)/100,u=e.getRegion(this.layer.el),c=u.right-u.left,h=u.bottom-u.top,d=this.layer.el.scrollLeft,p=this.layer.el.scrollTop;t.strokeStyle="rgb(200, 50, 50)",t.lineWidth=1,t.strokeRect(d*a,p*l,c*a,h*l),t.fillStyle=this.style,t.strokeStyle=this.style,t.lineWidth=this.lineWidth,this.drawContainers(t,a,l),this.drawWires(t,a,l)},drawContainers:function(e,t,i){var n,s,o=this.layer.containers,r=o.length,a=WireIt.getIntStyle;for(n=0;r>n;n++)s=o[n].el,e.fillRect(a(s,"left")*t,a(s,"top")*i,a(s,"width")*t,a(s,"height")*i)},drawWires:function(e,t,i){var n,s,o=this.layer.wires,r=o.length;for(n=0;r>n;n++){s=o[n];var a=s.terminal1.getXY(),l=s.terminal2.getXY();e.beginPath(),e.moveTo(a[0]*t,a[1]*i),e.lineTo(l[0]*t,l[1]*i),e.closePath(),e.stroke()}}})}(),function(){var e=YAHOO.util,t=(YAHOO.lang,"WireIt-");WireIt.TerminalProxy=function(e,t){this.terminal=e,this.termConfig=t||{},this.terminalProxySize=t.terminalProxySize||2,this.fakeTerminal=null,GLOBAL_WORKBENCH&&GLOBAL_WORKBENCH.options&&GLOBAL_WORKBENCH.options.tapToConnect?console.log("initTapToConnect done in SISOBContainer"):this.initDragAndDrop()},e.DDM.mode=e.DDM.INTERSECT,WireIt.TerminalProxy.prototype={getDragEl:function(){return this.terminal.el},initDragAndDrop:function(){var e=this;if(!this.terminal.isInput){var i=$(this.terminal.el).uniqueId();console.log("initDD"),console.log(this),i.draggable({revert:!1,helper:null,start:function(n){if(console.log("drag start"),null!=GLOBAL_WORKBENCH)for(var s=GLOBAL_WORKBENCH.layer.containers,o=0;o<s.length;++o){var r=s[o],a=n.currentTarget.parentNode.id;if(a!=r.el.id&&null!=r.inputs&&r.inputs.length>0){for(var l=!1,u=r.terminals.length,c=0;u>c;++c){var h=r.terminals[c];if(h.isInput&&0==h.wires.length){l=!0;break}}if(!l)continue;var d=$(r.el);console.log("making droppable "),console.log(d),d.addClass("connection-target-highlight"),d.droppable({accept:".WireIt-Terminal-SISOB-Out",hoverClass:"connection-target-hover",tolerance:"pointer",drop:function(){for(var t=$(this).attr("id"),n=null,o=0;o<s.length;++o)console.log(s[o]),s[o].el.id==t&&(n=s[o]);if(null!=n)for(var r=0;r<n.terminals.length;r++)if(0==n.terminals[r].wires.length){e.newOnDragDrop(e,i,n.terminals[r]);break}}}),d.droppable("option","disabled",!1)}}if(1==e.terminal.nMaxWires&&1==e.terminal.wires.length)e.terminal.wires[0].remove();else if(e.terminal.wires.length>=e.terminal.nMaxWires)return;var p=e.terminalProxySize/2;e.fakeTerminal={direction:e.terminal.fakeDirection,pos:[200,200],addWire:function(){},removeWire:function(){},getXY:function(){var e=YAHOO.util.Dom.getElementsByClassName("WireIt-Layer");if(e.length>0){var t=YAHOO.util.Dom.getXY(e[0]);return[this.pos[0]-t[0]+p,this.pos[1]-t[1]+p]}return this.pos}};var f=e.terminal.parentEl.parentNode;e.terminal.container&&(f=e.terminal.container.layer.el);var m=WireIt.wireClassFromXtype(e.terminal.editingWireConfig.xtype);e.editingWire=new m(e.terminal,e.fakeTerminal,f,e.terminal.editingWireConfig),YAHOO.util.Dom.addClass(e.editingWire.element,t+"Wire-editing")},helper:function(){return $("<div>&nbsp;</div>")},drag:function(t){if(console.log("drag"),e.editingWire){if(e.terminal.container){var i=e.terminal.container.layer.el,n=0,s=0;if(i.offsetParent)do n+=i.scrollLeft,s+=i.scrollTop,i=i.offsetParent;while(i);e.fakeTerminal.pos=[t.clientX+n,t.clientY+s]}else e.fakeTerminal.pos=YAHOO.env.ua.ie?[t.clientX,t.clientY]:[t.clientX+window.pageXOffset,t.clientY+window.pageYOffset];e.editingWire.redraw()}},stop:function(t){if(console.log("stop"),GLOBAL_WORKBENCH)for(var i=GLOBAL_WORKBENCH.layer.containers,n=0;n<i.length;++n){var s=i[n];if(null!=s.inputs&&s.inputs.length>0){var t=$(s.el);t.removeClass("connection-target-highlight");try{t.droppable("option","disabled",!0)}catch(o){console.log("uninitialised disable of droppable")}for(var r=0;r<s.terminals.length;r++){var a=s.terminals[r];try{$(a.el).droppable("option","disabled",!0)}catch(o){console.log("uninitialised disable of droppable")}}}}e.editingWire&&(e.editingWire.remove(),e.editingWire=null)}});var e=this,n=document.body;if(!n||!n.firstChild)return window.setTimeout(function(){e.createFrame()},50),void 0;var s=this.getDragEl(),o=YAHOO.util.Dom;if(!s){s=document.createElement("div"),s.id=this.dragElId;var r=s.style;r.position="absolute",r.visibility="hidden",r.cursor="move",r.border="2px solid #aaa",r.zIndex=999;var a=this.terminalProxySize+"px";r.height=a,r.width=a;var l=document.createElement("div");o.setStyle(l,"height","100%"),o.setStyle(l,"width","100%"),o.setStyle(l,"background-color","#ccc"),o.setStyle(l,"opacity","0"),s.appendChild(l),n.insertBefore(s,n.firstChild)}}},newOnDragDrop:function(e,t,i){console.log("onNewDragDrop");var n;if(e.editingWire){e.editingWire.remove(),e.editingWire=null;var s=!1;for(n=0;n<e.terminal.wires.length;n++)if(e.terminal.wires[n].terminal1==this.terminal){if(e.terminal.wires[n].terminal2==i){s=!0;break}}else if(e.terminal.wires[n].terminal2==e.terminal&&e.terminal.wires[n].terminal1==i){s=!0;break}if(!s){var o=e.terminal.parentEl.parentNode;e.terminal.container&&(o=e.terminal.container.layer.el);var r=e.terminal,a=i;a.alwaysSrc&&(r=i,a=e.terminal);var l,u=WireIt.wireClassFromXtype(r.wireConfig.xtype),c=i;1==c.nMaxWires?(c.wires.length>0&&c.wires[0].remove(),l=new u(r,a,o,r.wireConfig),l.redraw()):c.wires.length<c.nMaxWires&&(l=new u(r,a,o,r.wireConfig),l.redraw()),r.parentEl.id,a.parentEl.id}}},isWireItTerminal:!0,isValidWireTerminal:function(e){if(console.log("isValidWireTerminal"),console.log(e),!e.isWireItTerminal)return!1;if(this.termConfig.type){if(this.termConfig.allowedTypes){if(-1==WireIt.indexOf(e.termConfig.type,this.termConfig.allowedTypes))return!1}else if(this.termConfig.type!=e.termConfig.type)return!1}else if(e.termConfig.type)if(e.termConfig.allowedTypes){if(-1==WireIt.indexOf(this.termConfig.type,e.termConfig.allowedTypes))return!1}else if(this.termConfig.type!=e.termConfig.type)return!1;return this.terminal.container&&this.terminal.container.preventSelfWiring&&e.terminal.container==this.terminal.container?!1:e.terminal.direction[1]&&e.terminal.direction[1]==this.terminal.direction[1]?!1:!0}}}(),function(){var e=YAHOO.util,t=e.Event,i=YAHOO.lang,n=e.Dom;WireIt.Terminal=function(t,i,n){this.name=null,this.parentEl=t,this.container=n,this.wires=[],this.setOptions(i),this.eventAddWire=new e.CustomEvent("eventAddWire"),this.eventRemoveWire=new e.CustomEvent("eventRemoveWire"),this.el=null,this.render(),this.editable&&(this.dd=new WireIt.TerminalProxy(this,this.ddConfig),this.scissors=new WireIt.Scissors(this))},WireIt.Terminal.prototype={xtype:"WireIt.Terminal",direction:[0,1],fakeDirection:[0,-1],editable:!0,nMaxWires:1/0,wireConfig:{},editingWireConfig:{},className:"WireIt-Terminal",connectedClassName:"WireIt-Terminal-connected",dropinviteClassName:"WireIt-Terminal-dropinvite",offsetPosition:null,alwaysSrc:!1,ddConfig:!1,setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.direction&&!e.fakeDirection&&(this.fakeDirection=[-e.direction[0],-e.direction[1]]),e.wireConfig&&!e.editingWireConfig&&(this.editingWireConfig=this.wireConfig)},setDropInvitation:function(e){e?n.addClass(this.el,this.dropinviteClassName):n.removeClass(this.el,this.dropinviteClassName)},render:function(){this.el=WireIt.cn("div",{className:this.className}),this.name&&(this.el.title=this.name),this.setPosition(this.offsetPosition),this.parentEl.appendChild(this.el)},setPosition:function(e){if(e)if(this.el.style.left="",this.el.style.top="",this.el.style.right="",this.el.style.bottom="",i.isArray(e))this.el.style.left=e[0]+"px",this.el.style.top=e[1]+"px";else if(i.isObject(e))for(var t in e)e.hasOwnProperty(t)&&""!==e[t]&&(this.el.style[t]=e[t]+"px")},addWire:function(e){this.wires.push(e),n.addClass(this.el,this.connectedClassName),this.eventAddWire.fire(e)},removeWire:function(e){var t=WireIt.indexOf(e,this.wires);-1!=t&&(this.wires[t].destroy(),this.wires[t]=null,this.wires=WireIt.compact(this.wires),0===this.wires.length&&n.removeClass(this.el,this.connectedClassName),this.eventRemoveWire.fire(e))},getXY:function(){var e=this.container&&this.container.layer?this.container.layer.el:document.body,t=this.el,i=0,n=0;if(t.offsetParent)do i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;while(t&&t!=e);var s=$(this.el),o=s.height()/2;return this.isInput||(o=s.height()),[i+s.width()/2,n+o]},remove:function(){for(;this.wires.length>0;)this.wires[0].remove();this.parentEl.removeChild(this.el),t.purgeElement(this.el),this.scissors&&t.purgeElement(this.scissors.get("element"))},getConnectedTerminals:function(){var e=[];if(this.wires)for(var t=0;t<this.wires.length;t++)e.push(this.wires[t].getOtherTerminal(this));return e},redrawAllWires:function(){if(this.wires)for(var e=0;e<this.wires.length;e++)this.wires[e].redraw()},removeAllWires:function(){for(;this.wires.length>0;)this.wires[0].remove();this.scissors&&t.purgeElement(this.scissors.get("element"))}}}(),WireIt.util.TerminalInput=function(e,t,i){WireIt.util.TerminalInput.superclass.constructor.call(this,e,t,i)},YAHOO.lang.extend(WireIt.util.TerminalInput,WireIt.Terminal,{xtype:"WireIt.TerminalInput",direction:[0,-1],fakeDirection:[0,1],nMaxWires:1,ddConfig:{type:"input",allowedTypes:["output"]}}),WireIt.util.TerminalOutput=function(e,t,i){WireIt.util.TerminalOutput.superclass.constructor.call(this,e,t,i)},YAHOO.lang.extend(WireIt.util.TerminalOutput,WireIt.Terminal,{xtype:"WireIt.TerminalOutput",direction:[0,1],fakeDirection:[0,-1],ddConfig:{type:"output",allowedTypes:["input"]},alwaysSrc:!0}),WireIt.SISOBTerminalOutput=function(e,t,i){WireIt.SISOBTerminalOutput.superclass.constructor.call(this,e,t,i)},YAHOO.lang.extend(WireIt.SISOBTerminalOutput,WireIt.util.TerminalOutput,{xtype:"WireIt.SISOBTerminalOutput",className:"WireIt-Terminal-SISOB-Out",label:"",render:function(){this.el=WireIt.cn("div",{className:this.className}),this.label&&(this.el.title=this.label),this.setPosition(this.offsetPosition),this.parentEl.appendChild(this.el)}}),WireIt.SISOBTerminalInput=function(e,t,i){WireIt.SISOBTerminalInput.superclass.constructor.call(this,e,t,i)},YAHOO.lang.extend(WireIt.SISOBTerminalInput,WireIt.util.TerminalInput,{xtype:"WireIt.SISOBTerminalInput",className:"WireIt-Terminal-SISOB-In",label:"",render:function(){this.el=WireIt.cn("div",{className:this.className}),this.label&&(this.el.title=this.label),this.setPosition(this.offsetPosition),this.parentEl.appendChild(this.el)}});var util=YAHOO.util,lang=YAHOO.lang,Event=util.Event,Dom=util.Dom,Connect=util.Connect,widget=YAHOO.widget;workbench_work_parent=function(){this.adapter=0==wbConType?WireIt.adapters.TSConnector:WireIt.adapters.NodeConnector,this.renderSavedStatus()},workbench_work_parent.prototype={tsLoad:function(e){setTimeout(function(){$.mobile.loading("show")},1);var t=e.data;actualTable=0;var i=t;t.adapter.getLoadableWirings(function(e){console.log("getLoadableWirings"),console.log(e),null==e&&(e=[]),actualTable=0,sortCat="",e.reverse();var n=[],s=15*e.length<=window.innerHeight/2?15*e.length:window.innerHeight/2;60>s&&(s=60);var o="<p style='font-style:italic;margin-bottom:3px'>Please select one of the following workflows...</p><br /><div style=\"float:left;\"><div style=\"border:2px solid gray\" class='tableSwitchBtn' onclick='changeTable(0)'>named saves</div><div style=\"border:2px solid lightgray\" class='tableSwitchBtn' onclick='changeTable(1)'>autosaves</div></div><div style=\"clear:both\" /><br />";o+="<div id='wiringsIndex' style='display:none;'></div>";var r='<table style="cursor:pointer;width:100%;" class="loadTable" border=\'0\'>';r+="<tr style='font-weight:bold;border-bottom: 1px solid gray;'><th onclick='sortTable(this)' width='10%'>Index</th><th onclick='sortTable(this)' width='20%'>Name</th><th onclick='sortTable(this)' width='20%'>Description</th><th onclick='sortTable(this)' width='25%'>Date</th><th onclick='sortTable(this)' width='15%'>Edit</th><th onclick='sortTable(this)' width='10%'>Delete</th></tr><tr><td colspan='6'><div style='height:"+s+"px; overflow:auto'>"+"<table border='0' width='100%'>";for(var a=0,l=0;l<e.length;l++){var u=e[l],c=u.saveid;if(n.push(c),"autosave"!=u.name){var h="";0==a%2&&(h="style='background:lightgray'"),r+="<tr "+h+'onClick="javascript:highlightLoadSelection(this)" indexid=\''+l+"' loadid='"+(a+1)+"' name='loadSelection'>"+'<td class="trIndex" onmouseover="javascript:hoverLoadTableEl(this)" onmouseout="javascript:resetHoverLoadTableEl(this)" width=\'10%\'>'+(a+1)+"</td>"+'<td class="trName" onmouseover="javascript:hoverLoadTableEl(this)" onmouseout="javascript:resetHoverLoadTableEl(this)" width=\'20%\'>'+u.name+"</td>"+'<td class="trDescription" onmouseover="javascript:hoverLoadTableEl(this)" onmouseout="javascript:resetHoverLoadTableEl(this)" style=\'\' width=\'20%\'>'+u.description+'<td class="trDate" onmouseover="javascript:hoverLoadTableEl(this)" onmouseout="javascript:resetHoverLoadTableEl(this)" width=\'25%\'>'+parseDate(u.date)+"</td>"+'<td class="trEdit" id=\''+c+"' saveid=\""+c+'" onmouseover="javascript:hoverLoadTableEl(this)" onmouseout="javascript:resetHoverLoadTableEl(this)" width=\'15%\'>rename</td>'+'<td class="trDelete" id=\'del'+c+"'saveid=\""+c+'" onmouseover="javascript:hoverLoadTableEl(this)" onmouseout="javascript:resetHoverLoadTableEl(this)" width=\'10%\'>x</td>'+"</td></tr>",a++
}}r+="</table></div></td></tr>",r+="</tbody></table>";var d='<table style="display:none;cursor:pointer;width:100%;"class="loadTable" border=\'0\' width=\'100%\' style="display:">';d+="<tr style='font-weight:bold;border-bottom: 1px solid gray;'><th onclick='sortTable(this)' width='10%'>Index</th><th onclick='sortTable(this)' width='20%'>Name</th><th onclick='sortTable(this)' width='20%'>Description</th><th onclick='sortTable(this)' width='25%'>Date</th><th onclick='sortTable(this)' width='15%'>Edit</th><th onclick='sortTable(this)' width='10%'>Delete</th></tr><tr><td colspan='6'><div style='height:"+s+"px; overflow:auto'>"+"<table border='0' width='100%'>",a=0;for(var l=0;l<e.length;l++){var u=e[l];if("autosave"==u.name){var c=u.saveid,h="";0==l%2&&(h="style='background:lightgray'"),d+="<tr "+h+'onClick="javascript:highlightLoadSelection(this)" indexid=\''+l+"' loadid='"+(a+1)+"' name='loadSelection'>"+'<td class="trIndex" onmouseover="javascript:hoverLoadTableEl(this)" onmouseout="javascript:resetHoverLoadTableEl(this)" width=\'10%\'>'+(a+1)+"</td>"+'<td class="trName" onmouseover="javascript:hoverLoadTableEl(this)" onmouseout="javascript:resetHoverLoadTableEl(this)" width=\'20%\'>'+u.name+"</td>"+'<td onmouseover="javascript:hoverLoadTableEl(this)" onmouseout="javascript:resetHoverLoadTableEl(this)" class="trDescription" width=\'20%\'>'+u.description+"</td>"+'<td class="trDate" onmouseover="javascript:hoverLoadTableEl(this)" onmouseout="javascript:resetHoverLoadTableEl(this)" width=\'25%\'>'+parseDate(u.date)+"</td>"+'<td class="trEdit" id=\''+c+"' saveid=\""+c+'" onmouseover="javascript:hoverLoadTableEl(this)" onmouseout="javascript:resetHoverLoadTableEl(this)" width=\'15%\'>rename</td>'+'<td class="trDelete" id=\'del'+c+"'saveid=\""+c+'" onmouseover="javascript:hoverLoadTableEl(this)" onmouseout="javascript:resetHoverLoadTableEl(this)" width=\'10%\'>x</td>'+"</tr>",a++}}d+="</table></div></td></tr>",d+="</tbody></table>";var p='<div style="width:100%">'+r+d+"</div><br/>",f="<button data-inline='true' id='loadButton'>Load</button><button data-inline='true' id='importButton'>Import from JSON</button>",m=o+p+"<p><label for='wfselection' style='font-style: italic'>Selected Workflow:</label><br/><input size='3' maxlength='10' onkeyup='this.setAttribute(\"loadid\", this.value, 0), highlightLoadSelection(this)' loadid='' type='integer' name='wfselection' id='wfselectionInput' /></p>";m+=f,$("#loadDialogContent").html(m),$("#loadButton").on("click",function(){var t=document.getElementById("wfselectionInput").getAttribute("indexid"),n=parseInt(t),s=e[n];console.log("selectedWiring"),console.log(s);var o=s.wiring;i.tsLoadPipe(o),$("#loadDialog").dialog("close"),setTimeout(function(){$.mobile.loading("show")},1),setTimeout(function(){$.mobile.loading("hide")},1500)}),$("#importButton").on("click",function(){var e=prompt("Please supply a workflow in JSON format.","");if(null!=e)try{JSON.parse(e),i.tsLoadPipe(e),$("#loadDialog").dialog("close")}catch(t){alert("No valid JSON. \n"+t)}}),t.adapter.getOwnedSaves(function(e){for(var t=0;t<n.length;t++){var s=n[t],o=document.getElementById(s),r="del"+n[t],a=document.getElementById(r);commonValue(e,[s])?($(o).on("vmousedown",function(e){i.renderRenameDialog(e.target)},this,!0),$(o).on("vmousedown",function(e){deleteSave(e.target)},this,!0)):(o.style.color="gray",a.style.color="gray")}}),$("#loadDialog").trigger("create"),$.mobile.changePage("#loadDialog",{role:"dialog"}),setTimeout(function(){$.mobile.loading("hide")},1)})},tsLoadPipe:function(e){if(console.log("tsLoadPipe"),console.log(e),e=YAHOO.lang.JSON.parse(e),this.isSaved()||confirm("Warning: Your work is not saved yet ! Press ok to continue anyway.")){if(this.preventLayerChangedEvent=!0,this.layer.clear(),lang.isArray(e.modules)){for(i=0;i<e.modules.length;i++){var t=e.modules[i];if(!this.modulesByName[t.name])throw new Error("WiringEditor: module '"+t.name+"' not found !");var n=this.modulesByName[t.name].container;YAHOO.lang.augmentObject(t.config,n),t.config.title=t.name;var s=this.layer.addContainer(t.config);Dom.addClass(s.el,"WiringEditor-module-"+t.name),s.setValue(t.value)}if(lang.isArray(e.wires))for(i=0;i<e.wires.length;i++)this.layer.addWire(e.wires[i])}this.markSaved(),this.preventLayerChangedEvent=!1}},renderSavedStatus:function(){this.savedStatusEl=$("#saveIndicator")},markSaved:function(){this.savedStatusEl.hide()},setSavedWfId:function(e){this.savedStatusEl.savedWfId=e,console.log("WfId: "+this.savedStatusEl.savedWfId)},getSavedWfId:function(){return void 0==this.savedStatusEl.savedWfId&&(this.savedStatusEl.savedWfId=""),console.log("get WfId "+this.savedStatusEl.savedWfId),this.savedStatusEl.savedWfId},markUnsaved:function(){console.log(this.savedStatusEl),this.savedStatusEl.css("display","inline-block"),this.savedStatusEl.savedWfId="",console.log("mark unsaved + WfId ")},isSaved:function(){return"none"==this.savedStatusEl.css("display")},onSave:function(e){var t=e.data;t.renderSaveDialog()},renderSaveDialog:function(){function e(e){i.currentWiring=i.getValue();var t="<br /><p style='font-style: italic'>Please enter some workflow information:</p><br /><p><label for='wfname'>Workflow Name:</label><br/><input type='text' name='wfname' id='wfnameInput' size='40' /></p><br /><p><label for='wfdesc'>Workflow Description:</label><br/><textarea name='wfdesc' id='wfdescInput' cols='40' rows='5'></textarea></p><br /><br />";e&&(t+="<p><label style='font-style:italic' for='saveAsPublicCheckbox'>make public?&nbsp;</label><br /><input onClick='toggleUserGrpsActive()' type='checkbox' name='saveAsPublicCheckbox' id='saveAsPublicCheckbox' /><br/></p><br/> "+n+"<br/>"),t+="<fieldset>",t+="<button data-inline='true' data-theme='b' id='saveDialogOK'>Save</button>",t+="<button data-inline='true' id='saveDialogExport'>Export</button>",t+="<fieldset>",$("#saveDialogContent").html(t),$("#saveDialogOK").on("click",function(){console.log("save"),i.onSaveWiring.call(i)}),$("#saveDialogExport").on("click",function(){i.onExportWorkflow()}),$("#saveDialog").trigger("create"),$.mobile.changePage("#saveDialog")}var t,i=this,n="";i.adapter.getUserGroups(function(s){t=s,t.length>=1?i.adapter.getGroupNames(s,function(i){n+="<div id='userGroupDiv' >";for(var s=0;s<t.length;s++)n+="<input disabled checked type='checkbox' class='userGrpsCb' id='"+t[s]+"'>"+i[s]+"</input>";n+="</div>",console.log("if"),e(!0)}):(console.log("else"),e(!1))})},onSaveWiring:function(){var e,t=document.getElementById("wfnameInput").value,i=document.getElementById("wfdescInput").value,n=!1,s=!1,o="user",r=document.getElementById("saveAsPublicCheckbox");null!=r&&r.checked&&(s=!0,o="public",e=getSelectedUserGroups());var a;a=this.currentWiring;var l={name:a.name,working:a.working,language:"SISOB Language"};this.adapter.saveWiringExtended(l,{shortname:t,description:i,username:this.loginName,sharing:o,groups:e,template:n},{success:this.saveModuleSuccess,failure:this.saveModuleFailure,scope:this}),$("#saveDialog").dialog("close")},getValue:function(){var e,t={modules:[],wires:[],properties:null};for(console.log("getValue"),e=0;e<this.layer.containers.length;e++)t.modules.push({name:this.layer.containers[e].title,value:this.layer.containers[e].getValue(),config:this.layer.containers[e].getConfig()}),console.log(this.layer.containers[e].getConfig());for(e=0;e<this.layer.wires.length;e++){var i=this.layer.wires[e],n=i.getConfig();n.src={moduleId:WireIt.indexOf(i.terminal1.container,this.layer.containers),terminal:i.terminal1.name},n.tgt={moduleId:WireIt.indexOf(i.terminal2.container,this.layer.containers),terminal:i.terminal2.name},t.wires.push(n)}return{name:"",working:t}},saveModuleSuccess:function(e){this.markSaved(),this.setSavedWfId(e.saveid)},saveModuleFailure:function(e){this.alert("Unable to save the wiring : "+e)},onLoadResults:function(e){var t=e.data;setTimeout(function(){$.mobile.loading("show")},1),t.loadResults()},loadResults:function(){console.log("loadResults");var e=this;console.log(e),e.loadResultsDialogOpen||(console.log("resultsDialogNotOpenYet"),e.loadResultsDialogOpen=!0,setTimeout(function(){$.mobile.loading("show")},1),this.adapter.getLoadableResults(function(t){console.log("getLoadableResults"),null==t&&(t=[]),actualTable=0,sortCat="",t.reverse();var i=15*t.length<=window.innerHeight/2?15*t.length:window.innerHeight/2;60>i&&(i=60);var n="<br /><table class=\"loadTable\" style=\"cursor:pointer\" border='0' width='100%'>";n+="<tr style='font-weight:bold;border-bottom: 1px solid gray;'><th onclick='sortTable(this)' width='10%'>Index</th><th onclick='sortTable(this)' width='20%'>Name</th><th onclick='sortTable(this)' width='25%'>Description</th><th onclick='sortTable(this)' width='22%'>Date</th><th onclick='sortTable(this)' width='13%'>Edit</th><th onclick='sortTable(this)' width='10%'>Delete</th></tr><tr><td colspan='6'><div style='height:"+i+"px; overflow:auto'>"+"<table border='0' width='100%'>";for(var s=[],o=0,r=0;r<t.length;r++){var a=t[r];s.push(a.runid);var l="";0==r%2&&(l="style='background:lightgray'"),n+="<tr "+l+' onClick="javascript:highlightLoadSelection(this)" indexid=\''+r+"' loadid='"+(o+1)+"' name='loadSelection'>"+"<td  onmouseover=\"javascript:hoverLoadTableEl(this)\" onmouseout=\"javascript:resetHoverLoadTableEl(this)\" width='10%' class='trIndex' >"+(r+1)+"</td>"+"<td  id='name"+a.runid+"' onmouseover=\"javascript:hoverLoadTableEl(this)\" onmouseout=\"javascript:resetHoverLoadTableEl(this)\" width='20%' class='trName' wf=\""+a.runid+'">'+a.runname+"</td>"+"<td  id='description"+a.runid+"' onmouseover=\"javascript:hoverLoadTableEl(this)\" onmouseout=\"javascript:resetHoverLoadTableEl(this)\" width='25%' class='trDescription' wf=\""+a.runid+'">'+a.rundescription+"</td>"+"<td  id='date"+a.runid+"' onmouseover=\"javascript:hoverLoadTableEl(this)\" onmouseout=\"javascript:resetHoverLoadTableEl(this)\" width='22%' class='trDate' wf=\""+a.runid+'">'+parseDate(a.rundate)+"</td>"+'<td class="trEdit" id=\'edit'+a.runid+"' wf=\""+a.runid+'" onmouseover="javascript:hoverLoadTableEl(this)" onmouseout="javascript:resetHoverLoadTableEl(this)" width=\'13%\'>rename</td>'+'<td class="trDelete" id=\'del'+a.runid+"'wf='"+a.runid+"' onmouseover='javascript:hoverLoadTableEl(this)' onmouseout=\"javascript:resetHoverLoadTableEl(this)\" width='10%'>x</td>",o++}n+="</table></div></td></tr>",n+="</tbody></table><br/>";var u="<button data-inline='true' id='loadPrevButton'>Load</button>",c="<p style='font-style:italic;'>Please select one of the following runs to load its results...</p>"+n+"<p><label for='wfselection'>Selected run:</label><br/><input size='3' maxlength='10' onkeyup='this.setAttribute(\"loadid\", this.value, 0), highlightLoadSelection(this)' loadid='' type='integer' name='wfselection' id='wfselectionInput' /></p>";c+=u,$("#loadPreviousResultsDialogContent").html(c),$("#loadPreviousResultsDialog").bind("pagehide",function(){e.loadResultsDialogOpen=!1}),$("#loadPrevButton").on("click",function(){var i=document.getElementById("wfselectionInput").value,n=parseInt(i)-1,s=t[n];e.loadResult(s),$("#loadPreviousResultsDialog").dialog("close"),e.loadResultsDialogOpen=!1,$("#right").panel("open")}),e.adapter.getOwnedRuns(function(e){console.log("getOwnedRuns"),console.log(e);for(var t=0;t<s.length;t++){var i="edit"+s[t],n=document.getElementById(i),o="del"+s[t],r=document.getElementById(o);commonValue(e,[s[t]])?(Event.addListener(n,"vmousedown",function(e){renameResult(e.target)},this,!0),Event.addListener(r,"vmousedown",function(e){deleteRun(e.target)},this,!0)):(n.style.color="gray",r.style.color="gray")}}),$("#loadPreviousResultsDialog").trigger("create"),$.mobile.changePage("#loadPreviousResultsDialog",{role:"dialog"}),e.loadResultsDialogOpen=!0,setTimeout(function(){$.mobile.loading("hide")},1)}))},loadResult:function(e){var t=this;this.adapter.getResult(e,function(e){var i={runid:e.runid,rundate:e.rundate,links:e.resultlinks,name:e.runname,description:e.rundescription};t.displayResults(i),e.wfwiring&&t.tsLoadPipe(e.wfwiring)})},onExecute:function(){$("#right").panel("open");var e=this;if(e.layer.containers.length<1)$("#infoTexts").prepend("<div class='wf_empty'>Workflow is empty, nothing to execute!</div>");else{$("#infoTexts wf_empty").remove();for(var t=0;t<e.layer.containers.length;++t)e.layer.containers[t].colorContainerDefault();e.execute()}},execute:function(){var e=this,t=calculateWorkflowID(),i=this.getValue();console.log("execute:"),console.log(i),e.tempSavedWiring={name:i.name,working:i.working,language:"SISOB Language"},console.log(e.tempSavedWiring);var n=function(){e.adapter.executeWiring(t,e.tempSavedWiring,{saveid:e.getSavedWfId(),username:e.loginName},{agent:function(t){e.gotAgentRunStatusChange(t)},run:function(t){e.gotRunStatusChange(t)},scope:e},{success:e.executeModuleSuccess,failure:e.executeModuleFailure,scope:e})};e.startSpinner(t),""==e.getSavedWfId()?e.adapter.saveWiringExtended(this.tempSavedWiring,{shortname:"autosave",description:"Automatically saved on "+(new Date).toLocaleString()+".",username:this.loginName,sharing:"user"},{success:function(t){console.log("autosaved with id "+t.saveid),e.setSavedWfId(t.saveid),n()},failure:e.executeModuleFailure,scope:e}):e.getSavedWfId()&&n()},executeModuleSuccess:function(){},executeModuleFailure:function(){},gotAgentRunStatusChange:function(e){for(var t=!1,i=0;!t&&i<this.currentRunIds.length;i++)this.currentRunIds[i]==e.runid&&(t=!0);if(t){console.log("is monitored"),console.log(this.currentRunProgress);var n=this.getContainerByAgentInstanceId(e.instanceid);if(n)switch(this.highlighted||(this.highlighted=!0),console.log("trying to color for "+e.status),e.status){case 1:n.colorContainerWaiting?n.colorContainerWaiting():n.grey();break;case 2:n.colorContainerWorking?n.colorContainerWorking():n.yellow();break;case 3:this.currentRunProgress++,n.colorContainerDone?n.colorContainerDone():n.green();break;case 5:this.currentRunProgress++,n.colorContainerError?n.colorContainerError():n.red()}document.getElementById("spinnerText").innerHTML="... ("+this.currentRunProgress+"/"+this.currentRunSteps+")"}},getContainerByAgentInstanceId:function(e){for(var t=e.substr(0,e.length-2),i=0;i<this.layer.containers.length;i++){var n=this.layer.containers[i].getXY().toString().replace(",","");if(n==t)return this.layer.containers[i]}},startSpinner:function(e){this.currentRunIds||(this.currentRunIds=[]);var t=!1;0==this.currentRunIds.length&&(t=!0),this.currentRunIds.push(e),this.currentRunSteps=this.layer.containers.length,this.currentRunProgress=0,t&&(new Spinner({lines:15,length:1,width:4,radius:9,rotate:0,color:"#000",speed:1.1,trail:60,shadow:!1,hwaccel:!0,className:"spinner",zIndex:2e9,top:"0",left:"0"}).spin(document.getElementById("spinnerGraphics")),document.getElementById("spinnerText").innerHTML="Executing...")},gotRunStatusChange:function(e){for(var t=-1,i=0;0>t&&i<this.currentRunIds.length;i++)this.currentRunIds[i]==e.runid&&(t=i);t>-1&&(3==Number(e.status)||5==Number(e.status))&&(this.currentRunIds.splice(t,1),3==Number(e.status)?this.handleResults(e.runid,e.rundate):this.handleErrorResults(e.runid,e.rundate),0==this.currentRunIds.length&&(document.getElementById("spinnerGraphics").removeChild(document.getElementById("spinnerGraphics").firstChild),document.getElementById("spinnerText").innerHTML=""))},handleResults:function(e,t){var i={success:function(i){if(i){for(var n=[],s=0;s<i.length;s++)n.push(i[s].resultinfo);var o={runid:e,rundate:t,links:n};this.displayResults(o)}},scope:this};this.adapter.getResults(e,i)},displayResults:function(e){var t=[];t.push("<div class='Workbench-result' id='run"+e.runid+"'>"),t.push("<span>"),t.push("Result for analysis run"),e.name&&e.description?(t.push(' <div class="nameResult" id="'+e.runid+'">'+e.name+"</div>"),t.push(' <div class="descriptionResult">'+e.description+"</div>")):(t.push(' <div class="nameResult" id="'+e.runid+'"></div>'),t.push(' <div class="descriptionResult"></div>')),t.push(" executed on "),t.push(parseDate(e.rundate)),t.push(' <div class="renameResult" wf=\''+e.runid+'\' onclick="renameResult(this)">rename</div>'),t.push(" / "),t.push(' <div class="discardResult" wf=\''+e.runid+'\' onclick="deleteRun(this)">discard</div>'),t.push("<ul>");for(var i=0;i<e.links.length;i++)t.push("<li style='margin-top: 10px;'><a data-role='button' data-theme='b' data-mini='true' data-icon='forward' href=\""+e.links[i]+'" target="_blank">Result link</a></li>');t.push("</ul>"),t.push("</span>"),t.push("</div>");var n=[t.join("")];n.push(document.getElementById("infoTexts").innerHTML),document.getElementById("infoTexts").innerHTML=n.join(""),$("#infoTexts").trigger("create")},handleErrorResults:function(e,t){var i={success:function(i){for(var n=[],s=0;s<i.length;s++)n.push({component:i[s].agentid,instance:i[s].instanceid,message:i[s].errormessage});this.displayErrorResults(e,t,n)},scope:this};this.adapter.getErrorResults(e,i)},displayErrorResults:function(e,t,i){var n=[];n.push('<div class="Workbench-result">'),n.push("<span>"),n.push("Workflow executed on "),n.push(parseDate(t)),n.push(" stopped with errors:"),n.push("<ul>");for(var s=0;s<i.length;s++)n.push("<li>"+i[s].component+" : "+i[s].instance+" : "+i[s].message+"</li>");n.push("</ul>"),n.push("</span>"),n.push("</div>");var o=[n.join("")];o.push(document.getElementById("infoTexts").innerHTML),document.getElementById("infoTexts").innerHTML=o.join("")},onLogout:function(e){var t=e.data;t.logout()},logout:function(){SC.socket.emit("logout")},onExportWorkflow:function(){var e;e=this.currentWiring;var t=YAHOO.lang.JSON.stringify(e.working);alert(t)}};var loadResultDialogOpen=!1,listColorTRbg1="lightgray",listColorTRbg2="",listColorTRfont="black",listColorTRactiveBg="darkblue",listColorTRactiveFont="white",listColorTRbgActive="#CAE1FF",listColorTRfontActive="black",listColorTH="black",listColorTHactive="darkblue",switchBTNborder="2px solid lightgray",switchBTNborderActive="2px solid gray",actualTable=0,actualTableEls,ttTimer=null,rowStyleTmp=[];rowStyleTmp[0]="",rowStyleTmp[1]="";var cX=0,cY=0,tooltipDisplayed=!1,sortCat="",TimeToFade=400,commonValue=function(e,t){if("object"!=typeof e||"object"!=typeof t)return!1;for(var i=t,n=0;n<e.length;n++)for(var s=0;s<i.length;s++)if(e[n]==i[s])return!0;return!1};adminBtnReady=!1,function(){var e=YAHOO.util,t=e.Dom,i=e.Event,n="WireIt-";WireIt.Container=function(t,i){this.setOptions(t),this.layer=i,this.terminals=[],this.wires=[],this.el=null,this.bodyEl=null,this.eventAddWire=new e.CustomEvent("eventAddWire"),this.eventRemoveWire=new e.CustomEvent("eventRemoveWire"),this.eventFocus=new e.CustomEvent("eventFocus"),this.eventBlur=new e.CustomEvent("eventBlur"),this.render(),t.terminals&&this.initTerminals(t.terminals)},WireIt.Container.prototype={xtype:"WireIt.Container",draggable:!0,position:[100,100],className:n+"Container",ddHandle:!0,ddHandleClassName:n+"Container-ddhandle",resizable:!0,resizeHandleClassName:n+"Container-resizehandle",close:!0,closeButtonClassName:n+"Container-closebutton",groupable:!0,preventSelfWiring:!0,title:null,icon:null,width:null,height:null,setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},makeResizable:function(){this.ddResize=new WireIt.util.DDResize(this),this.ddResize.eventResize.subscribe(this.onResize,this,!0)},onResize:function(e,t){var i=t[0];WireIt.sn(this.bodyEl,null,{width:i[0]-14+"px",height:i[1]-(this.ddHandle?44:14)+"px"})},render:function(){if(this.el=WireIt.cn("div",{className:this.className}),this.width&&(this.el.style.width=this.width+"px"),this.height&&(this.el.style.height=this.height+"px"),i.addListener(this.el,"mousedown",this.onMouseDown,this,!0),this.ddHandle){if(this.ddHandle=WireIt.cn("div",{className:this.ddHandleClassName}),this.el.appendChild(this.ddHandle),this.icon){var e=WireIt.cn("img",{src:this.icon,className:"WireIt-Container-icon"});this.ddHandle.appendChild(e)}this.title&&this.ddHandle.appendChild(WireIt.cn("div",{className:"containerTitle"},null,this.title))}this.bodyEl=WireIt.cn("div",{className:"body"}),this.el.appendChild(this.bodyEl),this.resizable&&(this.ddResizeHandle=WireIt.cn("div",{className:this.resizeHandleClassName}),this.el.appendChild(this.ddResizeHandle)),this.close&&(this.closeButton=WireIt.cn("div",{className:this.closeButtonClassName}),this.ddHandle?this.ddHandle.appendChild(this.closeButton):this.el.appendChild(this.closeButton),i.addListener(this.closeButton,"click",this.onCloseButton,this,!0)),this.groupable&&this.ddHandle&&(this.groupButton=WireIt.cn("div",{className:"WireIt-Container-groupbutton"}),this.ddHandle.appendChild(this.groupButton),i.addListener(this.groupButton,"click",this.onGroupButton,this,!0)),this.layer.el.appendChild(this.el),this.el.style.left=this.position[0]+"px",this.el.style.top=this.position[1]+"px"},setBody:function(e){"string"==typeof e?this.bodyEl.innerHTML=e:(this.bodyEl.innerHTML="",this.bodyEl.appendChild(e))},onMouseDown:function(){this.layer&&(this.layer.focusedContainer&&this.layer.focusedContainer!=this&&this.layer.focusedContainer.removeFocus(),this.setFocus(),this.layer.focusedContainer=this)},setFocus:function(){t.addClass(this.el,n+"Container-focused"),this.eventFocus.fire(this)},removeFocus:function(){t.removeClass(this.el,n+"Container-focused"),this.eventBlur.fire(this)},onCloseButton:function(e){i.stopEvent(e),this.layer.removeContainer(this)},highlight:function(){this.el.style.border="2px solid blue"},dehighlight:function(){this.el.style.border=""},superHighlight:function(){this.el.style.border="4px outset blue"},red:function(){this.el.style.border="3px solid #FF0000"},yellow:function(){this.el.style.border="3px solid #FFFF00"},green:function(){this.el.style.border="3px solid #00FF00"},grey:function(){this.el.style.border="3px solid gray"},remove:function(){this.removeAllTerminals(),this.layer.el.removeChild(this.el),i.purgeElement(this.el)},initTerminals:function(e){for(var t=0;t<e.length;t++)this.addTerminal(e[t])},addTerminal:function(e){var t=WireIt.terminalClassFromXtype(e.xtype),i=new t(this.el,e,this);return this.terminals.push(i),i.eventAddWire.subscribe(this.onAddWire,this,!0),i.eventRemoveWire.subscribe(this.onRemoveWire,this,!0),i},onAddWire:function(e,t){var i=t[0];-1==WireIt.indexOf(i,this.wires)&&(this.wires.push(i),this.eventAddWire.fire(i))},onRemoveWire:function(e,t){var i=t[0],n=WireIt.indexOf(i,this.wires);-1!=n&&(this.eventRemoveWire.fire(i),this.wires[n]=null),this.wires=WireIt.compact(this.wires)},removeAllTerminals:function(){for(var e=0;e<this.terminals.length;e++)this.terminals[e].remove();this.terminals=[]},redrawAllWires:function(){for(var e=0;e<this.terminals.length;e++)this.terminals[e].redrawAllWires()},getXY:function(){var e=t.getXY(this.el);if(console.log(this),console.log(e),this.layer){var i=t.getXY(this.layer.el);console.log("layerPos"),console.log(i),e[0]-=i[0],e[1]-=i[1],e[0]+=this.layer.el.scrollLeft,e[1]+=this.layer.el.scrollTop}return console.log("position: "),console.log(e),e},getConfig:function(){return{position:this.getXY(),xtype:this.xtype,collapsed:this.collapsed}},getValue:function(){return{}},getTemplateValue:function(){return{}},setValue:function(){},getTerminal:function(e){for(var t,i=0;i<this.terminals.length;i++)if(t=this.terminals[i],t.name==e)return t;return null}}}(),WireIt.FormContainer=function(e,t){WireIt.FormContainer.superclass.constructor.call(this,e,t)},YAHOO.lang.extend(WireIt.FormContainer,WireIt.Container,{xtype:"WireIt.FormContainer",fields:[],legend:null,collapsible:!1,render:function(){WireIt.FormContainer.superclass.render.call(this),this.renderForm()},renderForm:function(){this.setBackReferenceOnFieldOptionsRecursively(this.fields);var e={parentEl:this.bodyEl,fields:this.fields,legend:this.legend,collapsible:this.collapsible};this.form=new inputEx.Group(e),this.form.legend&&YAHOO.util.Event.addListener(this.form.legend,"click",function(){for(var e=this,t=0;t<this.form.inputs.length;t++){var i=this.form.inputs[t];i.terminal&&(i.terminal.getXY=function(){return YAHOO.util.Dom.hasClass(e.form.fieldset,"inputEx-Collapsed")?e.getXY():WireIt.Terminal.prototype.getXY.call(this)})}this.redrawAllWires()},this,!0)},setBackReferenceOnFieldOptionsRecursively:function(e,t){YAHOO.lang.isUndefined(t)&&(t=this);for(var i=0;i<e.length;i++){var n=e[i];n.container=t,n.fields&&"object"==typeof n.fields&&this.setBackReferenceOnFieldOptionsRecursively(n.fields),n.elementType&&(n.elementType.container=t,n.elementType.fields&&"object"==typeof n.elementType.fields&&this.setBackReferenceOnFieldOptionsRecursively(n.elementType.fields))}},getValue:function(){return this.form.getValue()},getTemplateValue:function(){return this.form.getTemplateValue()},setValue:function(e){this.form.setValue(e)}}),WireIt.SISOBContainer=function(e,t){WireIt.SISOBContainer.superclass.constructor.call(this,e,t),this.opts=e},YAHOO.lang.extend(WireIt.SISOBContainer,WireIt.FormContainer,{xtype:"WireIt.SISOBContainer",className:"WireIt-Container WireIt-FormContainer WireItSISOBContainer",opts:[],descriptionText:"",inputs:[],outputs:[],detailsHidden:!0,isOutputFilter:!1,redrawAllWires:function(){for(var e=0;e<this.terminals.length;e++)this.terminals[e].redrawAllWires()},collapse:function(e){e&&e.addClass("expandButton"),this.collapsed=!0;var t=$(this.ddHandle),i=t.width();t.css("width",i+"px"),$(this.bodyEl).children().each(function(e,t){$(t).hide()}),this.redrawAllWires()},expand:function(e){e&&e.removeClass("expandButton"),this.collapsed=!1,$(this.bodyEl).children().each(function(e,t){var i=$(t);i.hasClass("sisobDescriptionText")||i.show()}),this.redrawAllWires()},toggleCollapse:function(e){try{SC.socket.emit("statistics",{username:GLOBAL_WORKBENCH.loginName,action:"toggleCollapse"})}catch(t){}this.collapsed?this.expand(e):this.collapse(e)},render:function(){WireIt.SISOBContainer.superclass.render.call(this);var e=this,t=WireIt.cn("div",{align:"right"},null),i=WireIt.cn("span",{className:"sisobContainerButton"},{width:"20px",cursor:"pointer"},"show details...");t.appendChild(i);var n=WireIt.cn("div",{className:"sisobDescriptionText"},{display:"none"},this.descriptionText),s=WireIt.cn("div",{className:"copyButton"});this.ddHandle?this.ddHandle.appendChild(s):this.el.appendChild(s),s.title="copy filter",YAHOO.util.Event.addListener(i,"click",function(){this.detailsHidden?(i.firstChild.data="...hide details",n.style.display="block",this.detailsHidden=!1):(i.firstChild.data="show details...",n.style.display="none",this.detailsHidden=!0),this.redrawAllWires()},this,!0),YAHOO.util.Event.addListener(s,"click",function(){try{SC.socket.emit("statistics",{username:GLOBAL_WORKBENCH.loginName,action:"copyButton"})}catch(e){}var t=WireIt.terminalClassFromXtype("WireIt.SISOBContainer"),i=new t(this.opts,this.layer);this.layer.addContainerDirect(i),i.setValue(this.getValue())},this,!0),this.bodyEl.appendChild(t),this.bodyEl.appendChild(n);var o,r,a=WireIt.terminalClassFromXtype("WireIt.SISOBTerminalInput"),l=WireIt.terminalClassFromXtype("WireIt.SISOBTerminalOutput"),u=100;if(this.inputs.length>0){$(this.el).uniqueId();for(var c=0;c<this.inputs.length;c++){var h=this.inputs[c];o={name:h.name,label:h.label,direction:[0,-1],nMaxWires:1,offsetPosition:{left:u,top:-15},isInput:!0};var d=new a(this.el,o,this);this.terminals.push(d),$(d.el).on("click",function(){null!=GLOBAL_WORKBENCH.lastClickedOutputTerminal&&(console.log("connecting"),console.log(d),console.log(GLOBAL_WORKBENCH.lastClickedOutputTerminal))}),d.eventAddWire.subscribe(this.onAddWire,this,!0),d.eventRemoveWire.subscribe(this.onRemoveWire,this,!0),u+=60}}if(u=100,this.outputs.length>0)for($(this.el).uniqueId(),c=0;c<this.outputs.length;c++){var p=this.outputs[c];r={name:p.name,label:p.label,alwaysSrc:!0,direction:[0,1],nMaxWires:1,offsetPosition:{left:u,bottom:-15},isInput:!1};var d=new l(this.el,r,this);this.terminals.push(d),GLOBAL_WORKBENCH&&GLOBAL_WORKBENCH.options&&GLOBAL_WORKBENCH.options.tapToConnect&&this.setUpTapToConnect(d),d.eventAddWire.subscribe(this.onAddWire,this,!0),d.eventRemoveWire.subscribe(this.onRemoveWire,this,!0),u+=60}this.toggleCollapseButton=$("<div class='toggleCollapseButton' title='toggle collapse'></div>"),$(this.ddHandle).append(this.toggleCollapseButton),this.toggleCollapseButton.on("click",function(){e.toggleCollapse.call(e,e.toggleCollapseButton)});var f=$(this.el);f.uniqueId(),setTimeout(function(){var t=$(".WireIt-Layer").position();f.draggable({containment:[t.left,t.top],drag:function(){for(var t=e.terminals,i=YAHOO.lang.isArray(t)?t:t.isWireItTerminal?[t]:[],n=0;n<i.length;n++)i[n].redrawAllWires()}}),e.redrawAllWires(),e.collapsed&&e.collapse(e.toggleCollapseButton)},1e3)},setUpTapToConnect:function(e){$(e.el).bind("click",[e],function(e){e.stopPropagation();var t=e.data[0];if(t.wires.length>0)return t.removeAllWires(),void 0;$(GLOBAL_WORKBENCH.layer.el).on("click",function(){console.log("layer click"),console.log(GLOBAL_WORKBENCH.lastClickedOutputTerminal),GLOBAL_WORKBENCH.lastClickedOutputTerminal=null;for(var e=GLOBAL_WORKBENCH.layer.containers,t=0;t<e.length;++t){var i=e[t],n=$(i.el);n.off("click"),n.removeClass("connection-target-highlight")}$(GLOBAL_WORKBENCH.layer.el).off("click")}),GLOBAL_WORKBENCH.lastClickedOutputTerminal=t;for(var i=GLOBAL_WORKBENCH.layer.containers,n=0;n<i.length;++n){var s=i[n],o=$(s.el),r=e.currentTarget.parentNode.id;if(r!=s.el.id){if(console.log(s),null!=s.inputs&&s.inputs.length>0){for(var a=!1,l=s.terminals.length,u=0;l>u;++u){var c=s.terminals[u];if(c.isInput&&0==c.wires.length){a=!0;break}}if(!a)continue;o.addClass("connection-target-highlight"),o.css("cursor","hand"),o.on("click",function(e){if(e.stopPropagation(),null==GLOBAL_WORKBENCH.lastClickedOutputTerminal)return console.log("lastClickeOutputTerminal NULL"),void 0;for(var t=$(this).attr("id"),i=null,n=GLOBAL_WORKBENCH.layer.containers,s=0;s<n.length;++s)console.log(n[s]),n[s].el.id==t&&(i=n[s]);if(null!=i){var o=$(i.el);o.removeClass("connection-target-highlight"),o.off("click");for(var r=0;r<i.terminals.length;r++)if(0==i.terminals[r].wires.length){var a=i.terminals[r];GLOBAL_WORKBENCH.connectTerminals(GLOBAL_WORKBENCH.lastClickedOutputTerminal,a);break}GLOBAL_WORKBENCH.lastClickedOutputTerminal=null;for(var r=0;r<n.length;++r){var l=n[r],u=$(l.el);u.off("click"),u.removeClass("connection-target-highlight")}$(GLOBAL_WORKBENCH.layer.el).off("click")}})}}else console.log("skipping self")}})},colorContainer:function(e){this.ddHandle.style.backgroundColor=e},colorContainerDefault:function(){$(this.ddHandle).removeClass("colorContainerWaiting colorContainerWorking colorContainerDone colorContainerError")},colorContainerWaiting:function(){this.colorContainerDefault(),$(this.ddHandle).addClass("colorContainerWaiting")},colorContainerWorking:function(){this.colorContainerDefault(),$(this.ddHandle).addClass("colorContainerWorking")},colorContainerDone:function(){console.log("colorContainerDone"),console.log(this.ddHandle),this.colorContainerDefault(),$(this.ddHandle).addClass("colorContainerDone")},colorContainerError:function(){this.colorContainerDefault(),$(this.ddHandle).addClass("colorContainerError")}});var GLOBAL_WORKBENCH=null,GLOBAL_USER=null,GLOBAL_WORKBENCH_LOADING_VISIBLE=!1;SISOB=function(){return Workbench=function(e,t){this.loginName=t.username,this.user=t,this.options={};var i=this,n="ontouchstart"in window||navigator.msMaxTouchPoints>0;this.isTouchDevice=n,n=!0,navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&n?(this.options.tapToConnect=!0,$("#headerText").append("FOX")):$("#headerText").append(n?"(T)":"(NT)"),SISOB.Workbench.superclass.constructor.call(this),this.modules=e.modules,this.modulesByName=[];for(var s=0;s<this.modules.length;s++){var o=this.modules[s];this.modulesByName[o.name]=o}this.layer=new WireIt.Layer({}),$(".WireIt-Layer").hide(),this.layer.eventChanged.subscribe(this.onLayerChanged,this,!0),this.resizeWorkbench(),this.renderMenus(),this.buildModulesList(),$("#moduleSearch").listview().listview("refresh"),$("#addPanel form").submit(function(){var e=$("#moduleSearch li:visible").data("module-name");
console.log(e);var t=i.modulesByName[e];if(t){var n={};n.data=[i,t,"auto submit"],i.moduleClick(n)}}),$(window).resize(this.resizeWorkbench),$(".WireIt-Layer").show()},YAHOO.lang.extend(Workbench,workbench_work_parent,{resizeWorkbench:function(){var e=$("[data-role=header]").outerHeight(),t=$("[data-role=footer]").outerHeight();$(".ui-panel").height();var i=window.innerHeight-e-t,n=i-10;console.log("resizeWorkbench "+i),$(".ui-panel").css({top:e,"min-height":i,height:i,"overflow-x":"none","overflow-y":"auto"}),$(".ui-panel-inner").css({"min-height":i,height:i}),$("#center").css({height:i-5}),$(".WireIt-Layer").css({height:n})},renderMenus:function(){var e=this,t=$("#menuList");t.append("<li data-role='divider' data-theme='b'>Workflow</li>"),t.append("<li id='menuLoad'><a href='#'>Load</a></li>"),$("#menuLoad").on("click",this,this.tsLoad),t.append("<li id='menuSave'><a href='#'>Save</a></li>"),$("#menuSave").on("click",this,this.onSave),t.append("<li id='menuExecuteMenu' class='menuExecute'><a href='#'>Execute</a></li>"),$("#menuExecuteHeader").on("click",function(){try{SC.socket.emit("statistics",{username:e.loginName,action:"menuExecuteHeader"})}catch(t){}e.onExecute.call(e)}),$("#menuExecuteMenu").on("click",function(){try{SC.socket.emit("statistics",{username:e.loginName,action:"menuExecuteMenu"})}catch(t){}$("#popupMenu").popup("close"),e.onExecute.call(e)}),t.append("<li id='menuLoadPrev'><a href='#'>Previous Results</a></li>"),$("#menuLoadPrev").on("click",function(){e.loadResults.call(e)}),$("#btnLoadPreviousResults").on("click",this,this.onLoadResults),t.append("<li id='WiringEditor-adminButton' style='display: none;'><a href='#'>Administration</a></li>"),adminBtnReady=!0,t.append("<li data-role='divider' data-theme='b'>Workbench</li>"),t.append("<li id='menuAbout'><a href='#aboutDialog' data-rel='dialog'>About</a></li>"),t.append("<li id='menuLogout'><a href='/logout' rel='external'>Logout ("+this.user.username+")</a></li>"),t.listview().listview("refresh")},buildModulesList:function(){console.log("buildModulesList");for(var e=0;e<FILTERORDER.length;e++)this.createCategory(FILTERORDER[e]);var t=this.modules;console.log("count "+this.modules.length),t.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0});for(var e=0;e<t.length;e++)this.addModuleToList(t[e]);var i=this;$(".WireIt-Layer").droppable({drop:function(e,t){if(console.log(t),1!=t.helper.data("dropit"))return console.log("not dropping, was just a scroll"),void 0;var n=Dom.getXY(i.layer.el),s=e.pageX-n[0]+i.layer.el.scrollLeft,o=e.pageY-n[1]+i.layer.el.scrollTop,r=t.draggable[0].id;if(r){var a=i.modulesByName[r];a&&i.addModule(a,[s,o])}},accept:".sisobDraggable"})},createCategory:function(e){var t="module-category-"+e.replace(/\s+/g,"-"),i="list-"+t,n="<div id='"+t+"' data-mini='true' data-role='collapsible' data-collapsed-icon='arrow-r' data-expanded-icon='arrow-d' ";e.indexOf("Input")>-1?(n+="data-collapsed='false' ",n+="data-theme='a' "):n+=e.indexOf("Graph Visualizations")>-1||e.indexOf("Statistical Visualizations")>-1||e.indexOf("Output")>-1?"data-theme='a' ":"data-theme='b' ",n+="data-content-theme='d' data-inset='false'><h3>"+e+"</h3><ul class='"+i+"' data-role='listview'></ul></div>",$(".addContainer").append(n),$("."+i).trigger("create").listview().listview("refresh")},addModuleToList:function(e){var t=e.category||"main",i="module-category-"+t.replace(/\s+/g,"-"),n="list-"+i,s=$("#"+i).get(0);s||this.createCategory(t);var o=e.name.replace(/\s+/g,"-"),r="<li data-icon='plus' id='"+e.name+"' class='"+o+" sisobDraggable' style='z-index: 99;'>"+"<a title='"+e.container.legend+"' href='#'>"+e.name+"</a>"+" <a href='#' >Add</a>"+"</li>";$("."+n).append(r).trigger("create").listview().listview("refresh"),$("."+o).on("click",[this,e],this.moduleClick);var a="auto_"+o;$("#moduleSearch").append("<li  id='"+a+"' class='ui-screen-hidden' data-icon='plus'><a href='#'>"+e.name+"</a><a href='#' >Add</a></li>"),$("#"+a).data("module-name",e.name),$("#"+a).on("click",[this,e],this.moduleClick),$("."+o).draggable({appendTo:"body",containment:"document",helper:"clone",cursor:"move",start:function(e,t){this.myHelper=t.helper,t.helper.hide(),this.wasOutsidePanel=!1},drag:function(e,t){if(e.pageX<200&&!this.wasOutsidePanel){if(this.lastY){var i=e.pageY-this.lastY;i*=-1;var n=$("#addPanel").first().get(0),s=n.scrollTop;0>s+i?n.scrollTop=0:n.scrollTop+=i}}else this.wasOutsidePanel=!0,t.helper.show(),t.helper.data("dropit",!0);this.lastY=e.pageY}}),$("#"+i).collapsible()},moduleClick:function(e){var t=e.data[0],i=e.data[1],n=100,s=20;if(null!=t.lastAddedElement){var o=$("#"+t.lastAddedElement.el.id),r=o.position(),a=o.height();"undefined"!=typeof r&&"undefined"!=typeof a&&(n=r.left+t.layer.el.scrollLeft,s=r.top+a+t.layer.el.scrollTop+50)}var l=t.addModule(i,[n,s]),u=$(l.el);$(".WireIt-Layer").height();var c=l.position[1]+u.height();c=l.position[1],console.log(c),5>c&&(c=5),console.log(t.layer.el.scrollTop),t.layer.el.scrollTop=c},addModule:function(e,t){t[0]<5&&(t[0]=5),t[1]<5&&(t[1]=5);var i=e.container;i.position=t,i.title=e.name;var n=this.layer.addContainer(i),s=$(n.el);this.lastAddedElement=n;var o=e.category||"main";return s.addClass("sisob-module-category-"+o.replace(/ /g,"-")),s.addClass("sisob-module-"+e.name.replace(/ /g,"-")),n},onLayerChanged:function(){this.preventLayerChangedEvent||(this.markUnsaved(),this.currentRunIds&&0==this.currentRunIds.length&&this.highlighted&&(this.decolorAllContainers(),this.highlighted=!1))},connectTerminals:function(e,t){if(console.log("connectTerminals"),null==e||null==t)return console.log("terminal null"),void 0;var i,n=!1;for(i=0;i<e.wires.length;i++)if(e.wires[i].terminal1==e){if(e.wires[i].terminal2==t){n=!0;break}}else if(e.wires[i].terminal2==e&&e.wires[i].terminal1==t){n=!0;break}if(!n){var s=e.parentEl.parentNode;e.container&&(s=e.container.layer.el);var o=e,r=t;r.alwaysSrc&&(o=t,r=e);var a,l=WireIt.wireClassFromXtype(o.wireConfig.xtype),u=t;1==u.nMaxWires?(u.wires.length>0&&u.wires[0].remove(),a=new l(o,r,s,o.wireConfig),a.redraw()):u.wires.length<u.nMaxWires&&(a=new l(o,r,s,o.wireConfig),a.redraw()),o.parentEl.id,r.parentEl.id}}}),{Workbench:Workbench}}(),SC={connected:!1,socket:io.connect(),callbacks:{},notifyCallbacks:{},cameFromLoginDialog:!1,prepare:function(){var e=SC.socket;e.on("response",function(e){var t=SC.callbacks[e.reqid];t?(t.callback.call(t.scope,e.data),delete SC.callbacks[e.reqid]):console.log("response without request, have to debug where that comes from")}),e.on("notification",function(e){if(SC.notifyCallbacks[e.id]){var t=SC.notifyCallbacks[e.id];t.callback.call(t.scope,e.data)}}),e.on("connect",function(){console.log("socket.io connected. Waiting for user...")}),e.on("user",function(e){console.log("socket.io user received "+e.user.username),prepareWorkbench(e.user)}),e.on("error",function(e){console.log("SOCKET ERROR: "+e)})},sendRequest:function(e,t){console.log(e);var i=calculateWorkflowID(),n={scope:this,callback:t};SC.callbacks[i]=n,SC.socket.emit("request",{id:i,command:e})},sendDataRequest:function(e,t,i){var n=calculateWorkflowID(),s={scope:this,callback:i};SC.callbacks[n]=s,SC.socket.emit("request",{id:n,command:e,data:t})},sendDataNotificationRequest:function(e,t,i,n){var s=calculateWorkflowID(),o={scope:this,callback:n};SC.callbacks[s]=o,SC.notifyCallbacks[i.id]={scope:this,callback:i.callback,id:i.id},console.log("sendDataNotificationRequest: "+s+": "+e),console.log(t),SC.socket.emit("request",{id:s,command:e,data:t,notification:!0})},getFilterDescriptions:function(e){SC.sendRequest("getFilterDescriptions",e)}},WireIt.adapters={},WireIt.adapters.TSConnector={callbacks:{},monitorTS:null,monitorIDs:{},init:function(){YAHOO.util.Connect.setDefaultPostHeader("application/json")},getLoadableWirings:function(e){var t=this,i=new TS.Tuple([TS.fString,3,TS.fString,TS.fString,TS.fString,TS.fString,"public",TS.fString]),n=new TS.TupleSpace(connectOptions,function(){n.readAll(i,function(i){var n=[];if(i)for(var s=0;s<i.length;s++){var o={saveid:i[s].getField(0).getValue(),name:i[s].getField(2).getValue(),description:i[s].getField(3).getValue(),wiring:i[s].getField(4).getValue(),creator:i[s].getField(5).getValue(),sharing:i[s].getField(6).getValue(),date:i[s].getField(7).getValue()};n.push(o)}e.call(t,n)})})},saveWiringExtended:function(e,t,i){var n={};YAHOO.lang.augmentObject(n,e),n.working=YAHOO.lang.JSON.stringify(n.working);var s,o=calculateWorkflowID();s=t.template?9:3;var r=calculateDate();t.saveid=o,t.date=r,t.flag=s,t.wiring=n.working;var a=new TS.Tuple([t.saveid,t.flag,t.shortname,t.description,t.wiring,"user",t.sharing,t.date]),l=new TS.TupleSpace(connectOptions,function(){l.write(a,function(){l.disconnect(),i.success.call(i.scope,{saveid:t.saveid})})})},getResults:function(e,t){var i=new TS.TupleSpace(connectOptions,function(){var n=new TS.Tuple([e,8,TS.fString,TS.fString,TS.fString,TS.fString]);i.readAll(n,function(e){i.disconnect();var n=[];if(e)for(var s=0;s<e.length;s++){var o={runid:e[s].getField(0).getValue(),instanceid:e[s].getField(2).getValue(),resultinfo:e[s].getField(3).getValue()};n.push(o)}t.success.call(t.scope,n)})})},getErrorResults:function(e,t){var i=new TS.TupleSpace(connectOptions,function(){var n=new TS.Tuple([e,5,TS.fString,TS.fString,TS.fString]);i.readAll(n,function(e){i.disconnect();var n=[];if(e)for(var s=0;s<e.length;s++){var o={runid:e[s].getField(0).getValue(),agentid:e[s].getField(2).getValue(),instanceid:e[s].getField(3).getValue(),errormessage:e[s].getField(4).getValue()};n.push(o)}t.success.call(t.scope,n)})})},executeWiring:function(e,t,i,n,s){var o=this,r=calculateDate(),a={};YAHOO.lang.augmentObject(a,t),a.working=YAHOO.lang.JSON.stringify(a.working);var l=YAHOO.lang.JSON.parse(a.working),u=new Array(l.modules.length),c=[];for(var h in l.modules){var d=l.modules[h],p=d.name,f=String(d.config.position[0])+String(d.config.position[1])+p.substring(0,1)+p.substring(p.length-1),m=YAHOO.lang.JSON.stringify(d.value),g="";for(var v in l.wires){var b=l.wires[v];if(b.tgt.moduleId==h){var y=l.modules[b.src.moduleId],E=String(y.config.position[0])+String(y.config.position[1])+y.name.substring(0,1)+y.name.substring(y.name.length-1),C=b.src.terminal;g=g+E+"."+C+","}}g.length>0&&(g=g.substring(0,g.length-1));var w="";if("Direct Uploader"==p){for(var x=t.working.modules[h].value.files,O=t.working.modules[h].value.text,T=0;T<x.length;T++)w=w+x[T].name+",";w+=O,c.push({instanceid:f,files:x,text:O})}else{for(var _ in d.value)w=w+d.value[_]+",";w.length>0&&(w=w.substring(0,w.length-1))}var S={runid:e,instanceid:f,agentid:p,pipes:g,oldvalues:w,newvalues:m};u[h]=S}var A={runid:e,saveid:i.saveid,username:i.username,date:r,filters:u};this.execute(A,{id:e,callback:function(e){"agent"==e.type?n.agent.call(n.scope,e):"run"==e.type&&n.run.call(n.scope,e)}},function(){for(var t in c)o.handleDataUpload(c[t].files,c[t].instanceid,c[t].text,e);s.success.call(s.scope,{runid:e})})},execute:function(e,t,i){for(var n=this,s=new TS.Tuple([e.runid,7,e.saveid,e.username,e.date,1]),o=[],r=0;r<e.filters.length;r++){var a=new TS.Tuple([e.runid,2,1,e.filters[r].instanceid,e.filters[r].agentid,e.filters[r].pipes,e.filters[r].oldvalues]);o.push(a)}var l=function(){var e=new TS.TupleSpace(connectOptions,function(){e.write(s);for(var t=0;t<o.length;t++)e.write(o[t]);e.disconnect(),i.call(n)})},u=new TS.Tuple([e.runid,7,TS.fString,TS.fString,TS.fString,TS.fInteger]),c=new TS.Tuple([e.runid,2,TS.fInteger,TS.fString,TS.fString,TS.fString,TS.fString]),h=function(){WireIt.WiringEditor.adapters.TSConnector.monitorTS.eventRegister("update",u,function(e){e.seq;var i=e.after.tuple,n=i.getField(0).getValue(),s=i.getField(2).getValue();i.getField(3).getValue();var o=i.getField(4).getValue(),r=i.getField(5).getValue();t.callback({type:"run",runid:n,wfid:s,status:r,wfdate:o})},function(){WireIt.WiringEditor.adapters.TSConnector.monitorTS.eventRegister("update",c,function(e){e.seq;var i=e.after.tuple,n=i.getField(0).getValue(),s=i.getField(2).getValue(),o=i.getField(3).getValue(),r=i.getField(4).getValue();t.callback({type:"agent",runid:n,agentid:r,instanceid:o,status:s})},function(t){WireIt.WiringEditor.adapters.TSConnector.monitorIDs[t]={id:t,runid:e.runid,type:"agent"},l()})})};WireIt.WiringEditor.adapters.TSConnector.monitorTS?h():WireIt.WiringEditor.adapters.TSConnector.monitorTS=new TS.TupleSpace(connectOptions,function(){h()})},handleDataUpload:function(e,t,i,n){for(var s=[],o=0;o<e.length;o++){var r=e[o],a=t+".out_1",l=new FileReader;l.onload=function(o){return function(r){var l={},u=o.name,c=u.substring(u.lastIndexOf(".")+1);if(l.filename=u,l.filetype=c,i?(l.specialfiletype="TEXT",l.filedata=r.target.result):(l.specialfiletype="BASE64",l.filedata=r.target.result.replace(/^[^,]*,/,"")),s.push(l),s.length==e.length){var h={runid:n,pipe:a,instanceid:t,fileset:JSON.stringify(s)};setTimeout(function(){var e=new TS.Tuple([h.runid,1,h.pipe,h.fileset,""]),t=TS.TupleSpace(connectOptions,function(){t.write(e,function(){var e=new TS.Tuple([h.runid,2,TS.fInteger,h.instanceid,TS.fString,TS.fString,TS.fString]);t.read(e,function(e){if(e){var i=e.getTupleID(),n=new TS.Tuple([h.runid,2,3,h.instanceid,e.getField(4),e.getField(5),e.getField(6)]);t.update(i,n,function(){t.disconnect()})}})})})},4e3)}}}(r),i?l.readAsText(r):l.readAsDataURL(r)}},getLoadableResults:function(e){var t=this,i=new TS.Tuple([TS.fString,7,TS.fString,TS.fString,TS.fString,3]),n=new TS.TupleSpace(connectOptions,function(){n.readAll(i,function(i){var n=[];if(i)for(var s=0;s<i.length;s++){var o={runid:i[s].getField(0).getValue(),saveid:i[s].getField(2).getValue(),user:i[s].getField(3).getValue(),rundate:i[s].getField(4).getValue()};n.push(o)}e.call(t,n)})})},getResult:function(e,t){var i=this,n=new TS.Tuple([e.runid,8,TS.fString,TS.fString]),s=new TS.Tuple([e.saveid,3,TS.fString,TS.fString,TS.fString,TS.fString,TS.fString,TS.fString]),o=new TS.TupleSpace(connectOptions,function(){var r={runid:e.runid,saveid:e.saveid,user:e.user,rundate:e.rundate};o.read(s,function(e){e&&(r.wfname=e.getField(2).getValue(),r.wfdescription=e.getField(3).getValue(),r.wfwiring=e.getField(4).getValue()),o.readAll(n,function(e){var n=[];if(e)for(var s=0;s<e.length;s++)n.push(e[s].getField(3).getValue());r.resultlinks=n,t.call(i,r)})})})},deleteWiring:function(){},listWirings:function(){}},WireIt.adapters.NodeConnector={init:function(){},getLoadableWirings:function(e){var t=this;SC.sendRequest("getLoadableWirings",function(i){e.call(t,i)})},getUserGroups:function(e){var t=this;SC.sendRequest("getUserGroups",function(i){e.call(t,i)})},getGroupNames:function(e,t){var i=this;SC.sendDataRequest("getGroupNames",e,function(e){t.call(i,e)})},deleteSave:function(e,t){var i=this;SC.sendDataRequest("deleteSaveTuple",e,function(e){t.call(i,e)})},deleteRun:function(e,t){var i=this;SC.sendDataRequest("deleteRunTuple",e,function(e){t.call(i,e)})},getOwnedRuns:function(e){var t=this;SC.sendRequest("getOwnedRuns",function(i){e.call(t,i)})},getOwnedSaves:function(e){var t=this;SC.sendRequest("getOwnedSaves",function(i){e.call(t,i)})},getRunNamesForSave:function(e,t){var i=this;SC.sendDataRequest("getRunNamesForSave",e,function(e){t.call(i,e)})},saveWiringExtended:function(e,t,i){var n={};YAHOO.lang.augmentObject(n,e),n.working=YAHOO.lang.JSON.stringify(n.working);var s,o=calculateWorkflowID();s=t.template?9:3;var r=calculateDate();t.saveid=o,t.date=r,t.flag=s,t.wiring=n.working,console.log("saveWiring"),console.log(t),SC.sendDataRequest("saveWiring",t,function(){i.success.call(i.scope,{saveid:o})})},getResults:function(e,t){SC.sendDataRequest("getResults",{runid:e},function(e){t.success.call(t.scope,e)})},getErrorResults:function(e,t){SC.sendDataRequest("getErrorResults",{runid:e},function(e){t.success.call(t.scope,e)})},executeWiring:function(e,t,i,n,s){var o=this,r=calculateDate(),a={};YAHOO.lang.augmentObject(a,t),a.working=YAHOO.lang.JSON.stringify(a.working),console.log("Wiring: "+a.working);var l=YAHOO.lang.JSON.parse(a.working),u=new Array(l.modules.length),c=[];for(var h in l.modules){var d=l.modules[h],p=d.name,f=String(d.config.position[0])+String(d.config.position[1])+p.substring(0,1)+p.substring(p.length-1),m=YAHOO.lang.JSON.stringify(d.value),g="";for(var v in l.wires){var b=l.wires[v];if(b.tgt.moduleId==h){var y=l.modules[b.src.moduleId],E=String(y.config.position[0])+String(y.config.position[1])+y.name.substring(0,1)+y.name.substring(y.name.length-1),C=b.src.terminal;g=g+E+"."+C+","}}g.length>0&&(g=g.substring(0,g.length-1));var w="";if("Direct Uploader"==p){for(var x=t.working.modules[h].value.files,O=t.working.modules[h].value.text,T=0;T<x.length;T++)w=w+x[T].name+",";w+=O,c.push({instanceid:f,files:x,text:O})}else{for(var _ in d.value)w=w+d.value[_]+",";w.length>0&&(w=w.substring(0,w.length-1))}var S={runid:e,instanceid:f,agentid:p,pipes:g,oldvalues:w,newvalues:m};u[h]=S}var A={runid:e,saveid:i.saveid,username:i.username,date:r,filters:u};SC.sendDataNotificationRequest("executeWiring",A,{id:e,callback:function(e){"agent"==e.type?n.agent.call(n.scope,e):"run"==e.type&&n.run.call(n.scope,e)}},function(){for(var t in c)o.handleDataUpload(c[t].files,c[t].instanceid,c[t].text,e);s.success.call(s.scope,{runid:e})})},handleDataUpload:function(e,t,i,n){for(var s=[],o=0;o<e.length;o++){var r=e[o],a=t+".out_1",l=new FileReader;l.onload=function(o){return function(r){var l={},u=o.name,c=u.substring(u.lastIndexOf(".")+1);if(l.filename=u,l.filetype=c,i?(l.specialfiletype="TEXT",l.filedata=r.target.result):(l.specialfiletype="BASE64",l.filedata=r.target.result.replace(/^[^,]*,/,"")),s.push(l),s.length==e.length){var h={runid:n,pipe:a,instanceid:t,fileset:JSON.stringify(s)};setTimeout(function(){SC.sendDataRequest("handleDataUpload",h,function(){})},4e3)}}}(r),i?l.readAsText(r):l.readAsDataURL(r)}},getLoadableResults:function(e){var t=this;SC.sendRequest("getLoadableResults",function(i){e.call(t,i)})},renameRun:function(e,t){var i=this;SC.sendDataRequest("renameRunTuple",e,function(e){t.call(i,e)})},renameAutosave:function(e,t){var i=this;SC.sendDataRequest("renameAutosaveTuple",e,function(e){t.call(i,e)})},getResult:function(e,t){var i=this;SC.sendDataRequest("getResultInfo",e,function(e){t.call(i,e)})},deleteWiring:function(){},listWirings:function(){}},function(e,t,i){function n(e,i){var n,s=t.createElement(e||"div");for(n in i)s[n]=i[n];return s}function s(e){for(var t=1,i=arguments.length;i>t;t++)e.appendChild(arguments[t]);return e}function o(e,t,i,n){var s=["opacity",t,~~(100*e),i,n].join("-"),o=.01+100*(i/n),r=Math.max(1-(1-e)/t*(100-o),e),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return d[s]||(p.insertRule("@"+l+"keyframes "+s+"{"+"0%{opacity:"+r+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+r+"}"+"}",0),d[s]=1),s}function r(e,t){var n,s,o=e.style;if(o[t]!==i)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),s=0;s<h.length;s++)if(n=h[s]+t,o[n]!==i)return n}function a(e,t){for(var i in t)e.style[r(e,i)||i]=t[i];return e}function l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)e[s]===i&&(e[s]=n[s])}return e}function u(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var c,h=["webkit","Moz","ms","O"],d={},p=function(){var e=n("style");return s(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},m=function g(e){return this.spin?(this.opts=l(e||{},g.defaults,f),void 0):new g(e)};m.defaults={},l(m.prototype,{spin:function(e){this.stop();var t,i,s=this,o=s.opts,r=s.el=a(n(0,{className:o.className}),{position:"relative",zIndex:o.zIndex}),l=o.radius+o.length+o.width;if(e&&(e.insertBefore(r,e.firstChild||null),i=u(e),t=u(r),a(r,{left:("auto"==o.left?i.x-t.x+(e.offsetWidth>>1):o.left+l)+"px",top:("auto"==o.top?i.y-t.y+(e.offsetHeight>>1):o.top+l)+"px"})),r.setAttribute("aria-role","progressbar"),s.lines(r,s.opts),!c){var h=0,d=o.fps,p=d/o.speed,f=(1-o.opacity)/(p*o.trail/100),m=p/o.lines;!function g(){h++;for(var e=o.lines;e;e--){var t=Math.max(1-(h+e*m)%p*f,o.opacity);s.opacity(r,o.lines-e,t,o)}s.timeout=s.el&&setTimeout(g,~~(1e3/d))}()}return s},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=i),this},lines:function(e,t){function i(e,i){return a(n(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*l+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.width>>1)+"px"})}for(var r,l=0;l<t.lines;l++)r=a(n(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:c&&o(t.opacity,t.trail,l,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&s(r,a(i("#000","0 0 4px #000"),{top:"2px"})),s(e,s(r,i(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,i){t<e.childNodes.length&&(e.childNodes[t].style.opacity=i)}}),!function(){function e(e,t){return n("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=a(n("group"),{behavior:"url(#default#VML)"});!r(t,"transform")&&t.adj?(p.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(t,i){function n(){return a(e("group",{coordsize:u+" "+u,coordorigin:-l+" "+-l}),{width:u,height:u})}function o(t,o,r){s(h,s(a(n(),{rotation:360/i.lines*t+"deg",left:~~o}),s(a(e("roundrect",{arcsize:1}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:r}),e("fill",{color:i.color,opacity:i.opacity}),e("stroke",{opacity:0}))))}var r,l=i.length+i.width,u=2*l,c=2*-(i.width+i.length)+"px",h=a(n(),{position:"absolute",top:c,left:c});if(i.shadow)for(r=1;r<=i.lines;r++)o(r,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(r=1;r<=i.lines;r++)o(r);return s(t,h)},m.prototype.opacity=function(e,t,i,n){var s=e.firstChild;n=n.shadow&&n.lines||0,s&&t+n<s.childNodes.length&&(s=s.childNodes[t+n],s=s&&s.firstChild,s=s&&s.firstChild,s&&(s.opacity=i))}):c=r(t,"animation")}(),e.Spinner=m}(window,document);